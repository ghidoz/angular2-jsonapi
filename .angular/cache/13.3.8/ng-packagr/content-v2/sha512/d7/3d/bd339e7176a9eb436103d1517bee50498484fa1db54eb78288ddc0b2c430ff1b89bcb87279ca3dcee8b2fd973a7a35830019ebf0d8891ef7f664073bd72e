{"modules":[{"ast":{"type":"Program","start":0,"end":4263,"body":[{"type":"ExportNamedDeclaration","start":0,"end":1084,"declaration":{"type":"ClassDeclaration","start":7,"end":1084,"id":{"type":"Identifier","start":13,"end":31,"name":"JsonApiNestedModel"},"superClass":null,"body":{"type":"ClassBody","start":32,"end":1084,"body":[{"type":"MethodDefinition","start":38,"end":178,"static":false,"computed":false,"key":{"type":"Identifier","start":38,"end":49,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":49,"end":178,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":50,"end":54,"name":"data"}],"body":{"type":"BlockStatement","start":56,"end":178,"body":[{"type":"ExpressionStatement","start":66,"end":103,"expression":{"type":"AssignmentExpression","start":66,"end":102,"operator":"=","left":{"type":"MemberExpression","start":66,"end":94,"object":{"type":"ThisExpression","start":66,"end":70},"property":{"type":"Identifier","start":71,"end":94,"name":"nestedDataSerialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":97,"end":102,"value":false,"raw":"false"}}},{"type":"IfStatement","start":112,"end":172,"test":{"type":"Identifier","start":116,"end":120,"name":"data"},"consequent":{"type":"BlockStatement","start":122,"end":172,"body":[{"type":"ExpressionStatement","start":136,"end":162,"expression":{"type":"CallExpression","start":136,"end":161,"callee":{"type":"MemberExpression","start":136,"end":149,"object":{"type":"Identifier","start":136,"end":142,"name":"Object"},"property":{"type":"Identifier","start":143,"end":149,"name":"assign"},"computed":false,"optional":false},"arguments":[{"type":"ThisExpression","start":150,"end":154},{"type":"Identifier","start":156,"end":160,"name":"data"}],"optional":false}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":183,"end":284,"static":false,"computed":false,"key":{"type":"Identifier","start":187,"end":198,"name":"modelConfig"},"kind":"get","value":{"type":"FunctionExpression","start":198,"end":284,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":201,"end":284,"body":[{"type":"ReturnStatement","start":211,"end":278,"argument":{"type":"CallExpression","start":218,"end":277,"callee":{"type":"MemberExpression","start":218,"end":237,"object":{"type":"Identifier","start":218,"end":225,"name":"Reflect"},"property":{"type":"Identifier","start":226,"end":237,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":238,"end":258,"value":"JsonApiModelConfig","raw":"'JsonApiModelConfig'"},{"type":"MemberExpression","start":260,"end":276,"object":{"type":"ThisExpression","start":260,"end":264},"property":{"type":"Identifier","start":265,"end":276,"name":"constructor"},"computed":false,"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":289,"end":342,"static":false,"computed":false,"key":{"type":"Identifier","start":289,"end":293,"name":"fill"},"kind":"method","value":{"type":"FunctionExpression","start":293,"end":342,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":294,"end":298,"name":"data"}],"body":{"type":"BlockStatement","start":300,"end":342,"body":[{"type":"ExpressionStatement","start":310,"end":336,"expression":{"type":"CallExpression","start":310,"end":335,"callee":{"type":"MemberExpression","start":310,"end":323,"object":{"type":"Identifier","start":310,"end":316,"name":"Object"},"property":{"type":"Identifier","start":317,"end":323,"name":"assign"},"computed":false,"optional":false},"arguments":[{"type":"ThisExpression","start":324,"end":328},{"type":"Identifier","start":330,"end":334,"name":"data"}],"optional":false}}]}}},{"type":"MethodDefinition","start":347,"end":429,"static":false,"computed":false,"key":{"type":"Identifier","start":347,"end":356,"name":"serialize"},"kind":"method","value":{"type":"FunctionExpression","start":356,"end":429,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":359,"end":429,"body":[{"type":"ReturnStatement","start":369,"end":423,"argument":{"type":"CallExpression","start":376,"end":422,"callee":{"type":"MemberExpression","start":376,"end":420,"object":{"type":"ThisExpression","start":376,"end":380},"property":{"type":"Identifier","start":381,"end":420,"name":"transformSerializedNamesToPropertyNames"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}},{"type":"MethodDefinition","start":434,"end":978,"static":false,"computed":false,"key":{"type":"Identifier","start":434,"end":473,"name":"transformSerializedNamesToPropertyNames"},"kind":"method","value":{"type":"FunctionExpression","start":473,"end":978,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":476,"end":978,"body":[{"type":"VariableDeclaration","start":486,"end":552,"declarations":[{"type":"VariableDeclarator","start":492,"end":551,"id":{"type":"Identifier","start":492,"end":520,"name":"serializedNameToPropertyName"},"init":{"type":"CallExpression","start":523,"end":551,"callee":{"type":"MemberExpression","start":523,"end":549,"object":{"type":"ThisExpression","start":523,"end":527},"property":{"type":"Identifier","start":528,"end":549,"name":"getModelPropertyNames"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":561,"end":583,"declarations":[{"type":"VariableDeclarator","start":567,"end":582,"id":{"type":"Identifier","start":567,"end":577,"name":"properties"},"init":{"type":"ObjectExpression","start":580,"end":582,"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":592,"end":945,"expression":{"type":"CallExpression","start":592,"end":944,"callee":{"type":"MemberExpression","start":592,"end":641,"object":{"type":"CallExpression","start":592,"end":633,"callee":{"type":"MemberExpression","start":592,"end":603,"object":{"type":"Identifier","start":592,"end":598,"name":"Object"},"property":{"type":"Identifier","start":599,"end":603,"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":604,"end":632,"name":"serializedNameToPropertyName"}],"optional":false},"property":{"type":"Identifier","start":634,"end":641,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":642,"end":943,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":643,"end":657,"name":"serializedName"}],"body":{"type":"BlockStatement","start":662,"end":943,"body":[{"type":"IfStatement","start":676,"end":933,"test":{"type":"LogicalExpression","start":680,"end":819,"left":{"type":"LogicalExpression","start":680,"end":771,"left":{"type":"LogicalExpression","start":680,"end":717,"left":{"type":"ThisExpression","start":680,"end":684},"operator":"&&","right":{"type":"BinaryExpression","start":688,"end":717,"left":{"type":"MemberExpression","start":688,"end":708,"object":{"type":"ThisExpression","start":688,"end":692},"property":{"type":"Identifier","start":693,"end":707,"name":"serializedName"},"computed":true,"optional":false},"operator":"!==","right":{"type":"Literal","start":713,"end":717,"value":null,"raw":"null"}}},"operator":"&&","right":{"type":"BinaryExpression","start":737,"end":771,"left":{"type":"MemberExpression","start":737,"end":757,"object":{"type":"ThisExpression","start":737,"end":741},"property":{"type":"Identifier","start":742,"end":756,"name":"serializedName"},"computed":true,"optional":false},"operator":"!==","right":{"type":"Identifier","start":762,"end":771,"name":"undefined"}}},"operator":"&&","right":{"type":"BinaryExpression","start":775,"end":819,"left":{"type":"Identifier","start":775,"end":789,"name":"serializedName"},"operator":"!==","right":{"type":"Literal","start":794,"end":819,"value":"nestedDataSerialization","raw":"'nestedDataSerialization'"}}},"consequent":{"type":"BlockStatement","start":821,"end":933,"body":[{"type":"ExpressionStatement","start":839,"end":919,"expression":{"type":"AssignmentExpression","start":839,"end":918,"operator":"=","left":{"type":"MemberExpression","start":839,"end":895,"object":{"type":"Identifier","start":839,"end":849,"name":"properties"},"property":{"type":"MemberExpression","start":850,"end":894,"object":{"type":"Identifier","start":850,"end":878,"name":"serializedNameToPropertyName"},"property":{"type":"Identifier","start":879,"end":893,"name":"serializedName"},"computed":true,"optional":false},"computed":true,"optional":false},"right":{"type":"MemberExpression","start":898,"end":918,"object":{"type":"ThisExpression","start":898,"end":902},"property":{"type":"Identifier","start":903,"end":917,"name":"serializedName"},"computed":true,"optional":false}}}]},"alternate":null}]}}],"optional":false}},{"type":"ReturnStatement","start":954,"end":972,"argument":{"type":"Identifier","start":961,"end":971,"name":"properties"}}]}}},{"type":"MethodDefinition","start":983,"end":1082,"static":false,"computed":false,"key":{"type":"Identifier","start":983,"end":1004,"name":"getModelPropertyNames"},"kind":"method","value":{"type":"FunctionExpression","start":1004,"end":1082,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1007,"end":1082,"body":[{"type":"ReturnStatement","start":1017,"end":1076,"argument":{"type":"LogicalExpression","start":1024,"end":1075,"left":{"type":"CallExpression","start":1024,"end":1069,"callee":{"type":"MemberExpression","start":1024,"end":1043,"object":{"type":"Identifier","start":1024,"end":1031,"name":"Reflect"},"property":{"type":"Identifier","start":1032,"end":1043,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1044,"end":1062,"value":"AttributeMapping","raw":"'AttributeMapping'"},{"type":"ThisExpression","start":1064,"end":1068}],"optional":false},"operator":"||","right":{"type":"ArrayExpression","start":1073,"end":1075,"elements":[]}}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1uZXN0ZWQubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9tb2RlbHMvanNvbi1uZXN0ZWQubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxPQUFPLGtCQUFrQjtJQUs3QixZQUFZLElBQVU7UUFGZiw0QkFBdUIsR0FBRyxLQUFLLENBQUM7UUFHckMsSUFBSSxJQUFJLEVBQUU7WUFDUixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMzQjtJQUNILENBQUM7SUFFRCxJQUFJLFdBQVc7UUFDYixPQUFPLE9BQU8sQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFTSxJQUFJLENBQUMsSUFBUztRQUNuQixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRU0sU0FBUztRQUNkLE9BQU8sSUFBSSxDQUFDLHVDQUF1QyxFQUFFLENBQUM7SUFDeEQsQ0FBQztJQUVTLHVDQUF1QztRQUMvQyxNQUFNLDRCQUE0QixHQUFHLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ2xFLE1BQU0sVUFBVSxHQUFRLEVBQUUsQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDLDRCQUE0QixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsY0FBYyxFQUFFLEVBQUU7WUFDbkUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLElBQUk7Z0JBQ3ZDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxTQUFTLElBQUksY0FBYyxLQUFLLHlCQUF5QixFQUFFO2dCQUNwRixVQUFVLENBQUMsNEJBQTRCLENBQUMsY0FBYyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7YUFDakY7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7SUFFUyxxQkFBcUI7UUFDN0IsT0FBTyxPQUFPLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM3RCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RlbENvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBKc29uQXBpTW9kZWwgfSBmcm9tICcuL2pzb24tYXBpLm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIEpzb25BcGlOZXN0ZWRNb2RlbCB7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcblxuICBwdWJsaWMgbmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhPzogYW55KSB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG1vZGVsQ29uZmlnKCk6IE1vZGVsQ29uZmlnIHtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSnNvbkFwaU1vZGVsQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH1cblxuICBwdWJsaWMgZmlsbChkYXRhOiBhbnkpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIGRhdGEpO1xuICB9XG5cbiAgcHVibGljIHNlcmlhbGl6ZSgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybVNlcmlhbGl6ZWROYW1lc1RvUHJvcGVydHlOYW1lcygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHRyYW5zZm9ybVNlcmlhbGl6ZWROYW1lc1RvUHJvcGVydHlOYW1lczxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPigpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lID0gdGhpcy5nZXRNb2RlbFByb3BlcnR5TmFtZXMoKTtcbiAgICBjb25zdCBwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lKS5mb3JFYWNoKChzZXJpYWxpemVkTmFtZSkgPT4ge1xuICAgICAgaWYgKHRoaXMgJiYgdGhpc1tzZXJpYWxpemVkTmFtZV0gIT09IG51bGwgJiZcbiAgICAgICAgdGhpc1tzZXJpYWxpemVkTmFtZV0gIT09IHVuZGVmaW5lZCAmJiBzZXJpYWxpemVkTmFtZSAhPT0gJ25lc3RlZERhdGFTZXJpYWxpemF0aW9uJykge1xuICAgICAgICBwcm9wZXJ0aWVzW3NlcmlhbGl6ZWROYW1lVG9Qcm9wZXJ0eU5hbWVbc2VyaWFsaXplZE5hbWVdXSA9IHRoaXNbc2VyaWFsaXplZE5hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0TW9kZWxQcm9wZXJ0eU5hbWVzKCkge1xuICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKCdBdHRyaWJ1dGVNYXBwaW5nJywgdGhpcykgfHwgW107XG4gIH1cbn1cbiJdfQ==","start":1085,"end":4263}]},"code":"export class JsonApiNestedModel {\n    constructor(data) {\n        this.nestedDataSerialization = false;\n        if (data) {\n            Object.assign(this, data);\n        }\n    }\n    get modelConfig() {\n        return Reflect.getMetadata('JsonApiModelConfig', this.constructor);\n    }\n    fill(data) {\n        Object.assign(this, data);\n    }\n    serialize() {\n        return this.transformSerializedNamesToPropertyNames();\n    }\n    transformSerializedNamesToPropertyNames() {\n        const serializedNameToPropertyName = this.getModelPropertyNames();\n        const properties = {};\n        Object.keys(serializedNameToPropertyName).forEach((serializedName) => {\n            if (this && this[serializedName] !== null &&\n                this[serializedName] !== undefined && serializedName !== 'nestedDataSerialization') {\n                properties[serializedNameToPropertyName[serializedName]] = this[serializedName];\n            }\n        });\n        return properties;\n    }\n    getModelPropertyNames() {\n        return Reflect.getMetadata('AttributeMapping', this) || [];\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1uZXN0ZWQubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9tb2RlbHMvanNvbi1uZXN0ZWQubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxPQUFPLGtCQUFrQjtJQUs3QixZQUFZLElBQVU7UUFGZiw0QkFBdUIsR0FBRyxLQUFLLENBQUM7UUFHckMsSUFBSSxJQUFJLEVBQUU7WUFDUixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMzQjtJQUNILENBQUM7SUFFRCxJQUFJLFdBQVc7UUFDYixPQUFPLE9BQU8sQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFTSxJQUFJLENBQUMsSUFBUztRQUNuQixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRU0sU0FBUztRQUNkLE9BQU8sSUFBSSxDQUFDLHVDQUF1QyxFQUFFLENBQUM7SUFDeEQsQ0FBQztJQUVTLHVDQUF1QztRQUMvQyxNQUFNLDRCQUE0QixHQUFHLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ2xFLE1BQU0sVUFBVSxHQUFRLEVBQUUsQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDLDRCQUE0QixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsY0FBYyxFQUFFLEVBQUU7WUFDbkUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLElBQUk7Z0JBQ3ZDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxTQUFTLElBQUksY0FBYyxLQUFLLHlCQUF5QixFQUFFO2dCQUNwRixVQUFVLENBQUMsNEJBQTRCLENBQUMsY0FBYyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7YUFDakY7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7SUFFUyxxQkFBcUI7UUFDN0IsT0FBTyxPQUFPLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM3RCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RlbENvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBKc29uQXBpTW9kZWwgfSBmcm9tICcuL2pzb24tYXBpLm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIEpzb25BcGlOZXN0ZWRNb2RlbCB7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcblxuICBwdWJsaWMgbmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhPzogYW55KSB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG1vZGVsQ29uZmlnKCk6IE1vZGVsQ29uZmlnIHtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSnNvbkFwaU1vZGVsQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH1cblxuICBwdWJsaWMgZmlsbChkYXRhOiBhbnkpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIGRhdGEpO1xuICB9XG5cbiAgcHVibGljIHNlcmlhbGl6ZSgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybVNlcmlhbGl6ZWROYW1lc1RvUHJvcGVydHlOYW1lcygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHRyYW5zZm9ybVNlcmlhbGl6ZWROYW1lc1RvUHJvcGVydHlOYW1lczxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPigpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lID0gdGhpcy5nZXRNb2RlbFByb3BlcnR5TmFtZXMoKTtcbiAgICBjb25zdCBwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lKS5mb3JFYWNoKChzZXJpYWxpemVkTmFtZSkgPT4ge1xuICAgICAgaWYgKHRoaXMgJiYgdGhpc1tzZXJpYWxpemVkTmFtZV0gIT09IG51bGwgJiZcbiAgICAgICAgdGhpc1tzZXJpYWxpemVkTmFtZV0gIT09IHVuZGVmaW5lZCAmJiBzZXJpYWxpemVkTmFtZSAhPT0gJ25lc3RlZERhdGFTZXJpYWxpemF0aW9uJykge1xuICAgICAgICBwcm9wZXJ0aWVzW3NlcmlhbGl6ZWROYW1lVG9Qcm9wZXJ0eU5hbWVbc2VyaWFsaXplZE5hbWVdXSA9IHRoaXNbc2VyaWFsaXplZE5hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0TW9kZWxQcm9wZXJ0eU5hbWVzKCkge1xuICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKCdBdHRyaWJ1dGVNYXBwaW5nJywgdGhpcykgfHwgW107XG4gIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-nested.model.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export class JsonApiNestedModel {\n    constructor(data) {\n        this.nestedDataSerialization = false;\n        if (data) {\n            Object.assign(this, data);\n        }\n    }\n    get modelConfig() {\n        return Reflect.getMetadata('JsonApiModelConfig', this.constructor);\n    }\n    fill(data) {\n        Object.assign(this, data);\n    }\n    serialize() {\n        return this.transformSerializedNamesToPropertyNames();\n    }\n    transformSerializedNamesToPropertyNames() {\n        const serializedNameToPropertyName = this.getModelPropertyNames();\n        const properties = {};\n        Object.keys(serializedNameToPropertyName).forEach((serializedName) => {\n            if (this && this[serializedName] !== null &&\n                this[serializedName] !== undefined && serializedName !== 'nestedDataSerialization') {\n                properties[serializedNameToPropertyName[serializedName]] = this[serializedName];\n            }\n        });\n        return properties;\n    }\n    getModelPropertyNames() {\n        return Reflect.getMetadata('AttributeMapping', this) || [];\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1uZXN0ZWQubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9tb2RlbHMvanNvbi1uZXN0ZWQubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxPQUFPLGtCQUFrQjtJQUs3QixZQUFZLElBQVU7UUFGZiw0QkFBdUIsR0FBRyxLQUFLLENBQUM7UUFHckMsSUFBSSxJQUFJLEVBQUU7WUFDUixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMzQjtJQUNILENBQUM7SUFFRCxJQUFJLFdBQVc7UUFDYixPQUFPLE9BQU8sQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFTSxJQUFJLENBQUMsSUFBUztRQUNuQixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRU0sU0FBUztRQUNkLE9BQU8sSUFBSSxDQUFDLHVDQUF1QyxFQUFFLENBQUM7SUFDeEQsQ0FBQztJQUVTLHVDQUF1QztRQUMvQyxNQUFNLDRCQUE0QixHQUFHLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ2xFLE1BQU0sVUFBVSxHQUFRLEVBQUUsQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDLDRCQUE0QixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsY0FBYyxFQUFFLEVBQUU7WUFDbkUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLElBQUk7Z0JBQ3ZDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxTQUFTLElBQUksY0FBYyxLQUFLLHlCQUF5QixFQUFFO2dCQUNwRixVQUFVLENBQUMsNEJBQTRCLENBQUMsY0FBYyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7YUFDakY7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7SUFFUyxxQkFBcUI7UUFDN0IsT0FBTyxPQUFPLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM3RCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RlbENvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBKc29uQXBpTW9kZWwgfSBmcm9tICcuL2pzb24tYXBpLm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIEpzb25BcGlOZXN0ZWRNb2RlbCB7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcblxuICBwdWJsaWMgbmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhPzogYW55KSB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG1vZGVsQ29uZmlnKCk6IE1vZGVsQ29uZmlnIHtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSnNvbkFwaU1vZGVsQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH1cblxuICBwdWJsaWMgZmlsbChkYXRhOiBhbnkpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIGRhdGEpO1xuICB9XG5cbiAgcHVibGljIHNlcmlhbGl6ZSgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybVNlcmlhbGl6ZWROYW1lc1RvUHJvcGVydHlOYW1lcygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHRyYW5zZm9ybVNlcmlhbGl6ZWROYW1lc1RvUHJvcGVydHlOYW1lczxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPigpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lID0gdGhpcy5nZXRNb2RlbFByb3BlcnR5TmFtZXMoKTtcbiAgICBjb25zdCBwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lKS5mb3JFYWNoKChzZXJpYWxpemVkTmFtZSkgPT4ge1xuICAgICAgaWYgKHRoaXMgJiYgdGhpc1tzZXJpYWxpemVkTmFtZV0gIT09IG51bGwgJiZcbiAgICAgICAgdGhpc1tzZXJpYWxpemVkTmFtZV0gIT09IHVuZGVmaW5lZCAmJiBzZXJpYWxpemVkTmFtZSAhPT0gJ25lc3RlZERhdGFTZXJpYWxpemF0aW9uJykge1xuICAgICAgICBwcm9wZXJ0aWVzW3NlcmlhbGl6ZWROYW1lVG9Qcm9wZXJ0eU5hbWVbc2VyaWFsaXplZE5hbWVdXSA9IHRoaXNbc2VyaWFsaXplZE5hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0TW9kZWxQcm9wZXJ0eU5hbWVzKCkge1xuICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKCdBdHRyaWJ1dGVNYXBwaW5nJywgdGhpcykgfHwgW107XG4gIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"json-nested.model.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/models/json-nested.model.ts"],"names":[],"mappings":[[[0,0,3,0],[6,0,3,6],[13,0,3,13],[31,0,3,31]],[[4,0,8,2],[16,0,8,14],[20,0,8,24]],[[8,0,6,9],[36,0,6,32],[39,0,6,35],[44,0,6,40],[45,0,6,41]],[[8,0,9,4],[12,0,9,8],[16,0,9,12],[18,0,9,14]],[[12,0,10,6],[18,0,10,12],[19,0,10,13],[25,0,10,19],[26,0,10,20],[30,0,10,24],[32,0,10,26],[36,0,10,30],[37,0,10,31],[38,0,10,32]],[[9,0,11,5]],[[4,0,12,2],[5,0,12,3]],[[4,0,14,2],[8,0,14,6],[19,0,14,17]],[[8,0,15,4],[15,0,15,11],[22,0,15,18],[23,0,15,19],[34,0,15,30],[35,0,15,31],[55,0,15,51],[57,0,15,53],[61,0,15,57],[62,0,15,58],[73,0,15,69],[74,0,15,70],[75,0,15,71]],[[4,0,16,2],[5,0,16,3]],[[4,0,18,9],[8,0,18,13],[9,0,18,14],[13,0,18,23]],[[8,0,19,4],[14,0,19,10],[15,0,19,11],[21,0,19,17],[22,0,19,18],[26,0,19,22],[28,0,19,24],[32,0,19,28],[33,0,19,29],[34,0,19,30]],[[4,0,20,2],[5,0,20,3]],[[4,0,22,9],[13,0,22,18]],[[8,0,23,4],[15,0,23,11],[19,0,23,15],[20,0,23,16],[59,0,23,55],[61,0,23,57],[62,0,23,58]],[[4,0,24,2],[5,0,24,3]],[[4,0,26,12],[43,0,26,51]],[[8,0,27,4],[14,0,27,10],[42,0,27,38],[45,0,27,41],[49,0,27,45],[50,0,27,46],[71,0,27,67],[73,0,27,69],[74,0,27,70]],[[8,0,28,4],[14,0,28,10],[24,0,28,20],[27,0,28,28],[29,0,28,30],[30,0,28,31]],[[8,0,29,4],[14,0,29,10],[15,0,29,11],[19,0,29,15],[20,0,29,16],[48,0,29,44],[49,0,29,45],[50,0,29,46],[57,0,29,53],[58,0,29,54],[59,0,29,55],[73,0,29,69],[75,0,29,71],[77,0,29,73]],[[12,0,30,6],[16,0,30,10],[20,0,30,14],[24,0,30,18],[28,0,30,22],[29,0,30,23],[43,0,30,37],[44,0,30,38],[49,0,30,43],[53,0,30,47]],[[16,0,31,8],[20,0,31,12],[21,0,31,13],[35,0,31,27],[36,0,31,28],[41,0,31,33],[50,0,31,42],[54,0,31,46],[68,0,31,60],[73,0,31,65],[98,0,31,90],[100,0,31,92]],[[16,0,32,8],[26,0,32,18],[27,0,32,19],[55,0,32,47],[56,0,32,48],[70,0,32,62],[71,0,32,63],[72,0,32,64],[75,0,32,67],[79,0,32,71],[80,0,32,72],[94,0,32,86],[95,0,32,87],[96,0,32,88]],[[13,0,33,7]],[[8,0,34,4],[9,0,34,5],[10,0,34,6],[11,0,34,7]],[[8,0,36,4],[15,0,36,11],[25,0,36,21],[26,0,36,22]],[[4,0,37,2],[5,0,37,3]],[[4,0,39,12],[25,0,39,33]],[[8,0,40,4],[15,0,40,11],[22,0,40,18],[23,0,40,19],[34,0,40,30],[35,0,40,31],[53,0,40,49],[55,0,40,51],[59,0,40,55],[60,0,40,56],[64,0,40,60],[66,0,40,62],[67,0,40,63]],[[4,0,41,2],[5,0,41,3]],[[1,0,42,1]]],"sourcesContent":["import { ModelConfig } from '../interfaces/model-config.interface';\nimport { JsonApiModel } from './json-api.model';\n\nexport class JsonApiNestedModel {\n  [key: string]: any;\n\n  public nestedDataSerialization = false;\n\n  constructor(data?: any) {\n    if (data) {\n      Object.assign(this, data);\n    }\n  }\n\n  get modelConfig(): ModelConfig {\n    return Reflect.getMetadata('JsonApiModelConfig', this.constructor);\n  }\n\n  public fill(data: any) {\n    Object.assign(this, data);\n  }\n\n  public serialize(): any {\n    return this.transformSerializedNamesToPropertyNames();\n  }\n\n  protected transformSerializedNamesToPropertyNames<T extends JsonApiModel>() {\n    const serializedNameToPropertyName = this.getModelPropertyNames();\n    const properties: any = {};\n    Object.keys(serializedNameToPropertyName).forEach((serializedName) => {\n      if (this && this[serializedName] !== null &&\n        this[serializedName] !== undefined && serializedName !== 'nestedDataSerialization') {\n        properties[serializedNameToPropertyName[serializedName]] = this[serializedName];\n      }\n    });\n\n    return properties;\n  }\n\n  protected getModelPropertyNames() {\n    return Reflect.getMetadata('AttributeMapping', this) || [];\n  }\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":8696,"body":[{"type":"ImportDeclaration","start":0,"end":68,"specifiers":[{"type":"ImportSpecifier","start":9,"end":27,"imported":{"type":"Identifier","start":9,"end":27,"name":"JsonApiNestedModel"},"local":{"type":"Identifier","start":9,"end":27,"name":"JsonApiNestedModel"}}],"source":{"type":"Literal","start":35,"end":67,"value":"../../models/json-nested.model","raw":"'../../models/json-nested.model'"}},{"type":"ExportNamedDeclaration","start":69,"end":145,"declaration":{"type":"VariableDeclaration","start":76,"end":145,"declarations":[{"type":"VariableDeclarator","start":82,"end":144,"id":{"type":"Identifier","start":82,"end":97,"name":"DEFAULT_OPTIONS"},"init":{"type":"ObjectExpression","start":100,"end":144,"properties":[{"type":"Property","start":106,"end":122,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":106,"end":115,"name":"nullValue"},"value":{"type":"Literal","start":117,"end":122,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":128,"end":142,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":128,"end":135,"name":"hasMany"},"value":{"type":"Literal","start":137,"end":142,"value":false,"raw":"false"},"kind":"init"}]}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":146,"end":2461,"declaration":{"type":"ClassDeclaration","start":153,"end":2461,"id":{"type":"Identifier","start":159,"end":177,"name":"JsonModelConverter"},"superClass":null,"body":{"type":"ClassBody","start":178,"end":2461,"body":[{"type":"MethodDefinition","start":184,"end":338,"static":false,"computed":false,"key":{"type":"Identifier","start":184,"end":195,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":195,"end":338,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":196,"end":201,"name":"model"},{"type":"AssignmentPattern","start":203,"end":215,"left":{"type":"Identifier","start":203,"end":210,"name":"options"},"right":{"type":"ObjectExpression","start":213,"end":215,"properties":[]}}],"body":{"type":"BlockStatement","start":217,"end":338,"body":[{"type":"ExpressionStatement","start":227,"end":250,"expression":{"type":"AssignmentExpression","start":227,"end":249,"operator":"=","left":{"type":"MemberExpression","start":227,"end":241,"object":{"type":"ThisExpression","start":227,"end":231},"property":{"type":"Identifier","start":232,"end":241,"name":"modelType"},"computed":false,"optional":false},"right":{"type":"Identifier","start":244,"end":249,"name":"model"}}},{"type":"ExpressionStatement","start":282,"end":332,"expression":{"type":"AssignmentExpression","start":282,"end":331,"operator":"=","left":{"type":"MemberExpression","start":282,"end":294,"object":{"type":"ThisExpression","start":282,"end":286},"property":{"type":"Identifier","start":287,"end":294,"name":"options"},"computed":false,"optional":false},"right":{"type":"ObjectExpression","start":297,"end":331,"properties":[{"type":"SpreadElement","start":299,"end":317,"argument":{"type":"Identifier","start":302,"end":317,"name":"DEFAULT_OPTIONS"}},{"type":"SpreadElement","start":319,"end":329,"argument":{"type":"Identifier","start":322,"end":329,"name":"options"}}]}}}]}}},{"type":"MethodDefinition","start":343,"end":1489,"static":false,"computed":false,"key":{"type":"Identifier","start":343,"end":347,"name":"mask"},"kind":"method","value":{"type":"FunctionExpression","start":347,"end":1489,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":348,"end":353,"name":"value"}],"body":{"type":"BlockStatement","start":355,"end":1489,"body":[{"type":"IfStatement","start":365,"end":537,"test":{"type":"LogicalExpression","start":369,"end":402,"left":{"type":"UnaryExpression","start":369,"end":375,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":370,"end":375,"name":"value"}},"operator":"&&","right":{"type":"UnaryExpression","start":379,"end":402,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":380,"end":402,"object":{"type":"MemberExpression","start":380,"end":392,"object":{"type":"ThisExpression","start":380,"end":384},"property":{"type":"Identifier","start":385,"end":392,"name":"options"},"computed":false,"optional":false},"property":{"type":"Identifier","start":393,"end":402,"name":"nullValue"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":404,"end":537,"body":[{"type":"IfStatement","start":418,"end":486,"test":{"type":"MemberExpression","start":422,"end":442,"object":{"type":"MemberExpression","start":422,"end":434,"object":{"type":"ThisExpression","start":422,"end":426},"property":{"type":"Identifier","start":427,"end":434,"name":"options"},"computed":false,"optional":false},"property":{"type":"Identifier","start":435,"end":442,"name":"hasMany"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":444,"end":486,"body":[{"type":"ReturnStatement","start":462,"end":472,"argument":{"type":"ArrayExpression","start":469,"end":471,"elements":[]}}]},"alternate":null},{"type":"ReturnStatement","start":499,"end":527,"argument":{"type":"NewExpression","start":506,"end":526,"callee":{"type":"MemberExpression","start":510,"end":524,"object":{"type":"ThisExpression","start":510,"end":514},"property":{"type":"Identifier","start":515,"end":524,"name":"modelType"},"computed":false,"optional":false},"arguments":[]}}]},"alternate":null},{"type":"VariableDeclaration","start":546,"end":564,"declarations":[{"type":"VariableDeclarator","start":550,"end":563,"id":{"type":"Identifier","start":550,"end":556,"name":"result"},"init":{"type":"Literal","start":559,"end":563,"value":null,"raw":"null"}}],"kind":"let"},{"type":"IfStatement","start":573,"end":1460,"test":{"type":"MemberExpression","start":577,"end":597,"object":{"type":"MemberExpression","start":577,"end":589,"object":{"type":"ThisExpression","start":577,"end":581},"property":{"type":"Identifier","start":582,"end":589,"name":"options"},"computed":false,"optional":false},"property":{"type":"Identifier","start":590,"end":597,"name":"hasMany"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":599,"end":1219,"body":[{"type":"IfStatement","start":613,"end":758,"test":{"type":"UnaryExpression","start":617,"end":638,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":618,"end":638,"callee":{"type":"MemberExpression","start":618,"end":631,"object":{"type":"Identifier","start":618,"end":623,"name":"Array"},"property":{"type":"Identifier","start":624,"end":631,"name":"isArray"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":632,"end":637,"name":"value"}],"optional":false}},"consequent":{"type":"BlockStatement","start":640,"end":758,"body":[{"type":"ThrowStatement","start":658,"end":744,"argument":{"type":"NewExpression","start":664,"end":743,"callee":{"type":"Identifier","start":668,"end":673,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":674,"end":742,"expressions":[{"type":"UnaryExpression","start":727,"end":739,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":734,"end":739,"name":"value"}}],"quasis":[{"type":"TemplateElement","start":675,"end":725,"value":{"raw":"ERROR: JsonModelConverter: Expected array but got ","cooked":"ERROR: JsonModelConverter: Expected array but got "},"tail":false},{"type":"TemplateElement","start":740,"end":741,"value":{"raw":".","cooked":"."},"tail":true}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":771,"end":783,"expression":{"type":"AssignmentExpression","start":771,"end":782,"operator":"=","left":{"type":"Identifier","start":771,"end":777,"name":"result"},"right":{"type":"ArrayExpression","start":780,"end":782,"elements":[]}}},{"type":"ForOfStatement","start":796,"end":1209,"await":false,"left":{"type":"VariableDeclaration","start":801,"end":811,"declarations":[{"type":"VariableDeclarator","start":807,"end":811,"id":{"type":"Identifier","start":807,"end":811,"name":"item"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":815,"end":820,"name":"value"},"body":{"type":"BlockStatement","start":822,"end":1209,"body":[{"type":"IfStatement","start":840,"end":908,"test":{"type":"BinaryExpression","start":844,"end":857,"left":{"type":"Identifier","start":844,"end":848,"name":"item"},"operator":"===","right":{"type":"Literal","start":853,"end":857,"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":859,"end":908,"body":[{"type":"ContinueStatement","start":881,"end":890,"label":null}]},"alternate":null},{"type":"VariableDeclaration","start":925,"end":934,"declarations":[{"type":"VariableDeclarator","start":929,"end":933,"id":{"type":"Identifier","start":929,"end":933,"name":"temp"},"init":null}],"kind":"let"},{"type":"IfStatement","start":951,"end":1160,"test":{"type":"BinaryExpression","start":955,"end":979,"left":{"type":"UnaryExpression","start":955,"end":966,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":962,"end":966,"name":"item"}},"operator":"===","right":{"type":"Literal","start":971,"end":979,"value":"object","raw":"'object'"}},"consequent":{"type":"BlockStatement","start":981,"end":1086,"body":[{"type":"ExpressionStatement","start":1003,"end":1031,"expression":{"type":"AssignmentExpression","start":1003,"end":1030,"operator":"=","left":{"type":"Identifier","start":1003,"end":1007,"name":"temp"},"right":{"type":"NewExpression","start":1010,"end":1030,"callee":{"type":"MemberExpression","start":1014,"end":1028,"object":{"type":"ThisExpression","start":1014,"end":1018},"property":{"type":"Identifier","start":1019,"end":1028,"name":"modelType"},"computed":false,"optional":false},"arguments":[]}}},{"type":"ExpressionStatement","start":1052,"end":1068,"expression":{"type":"CallExpression","start":1052,"end":1067,"callee":{"type":"MemberExpression","start":1052,"end":1061,"object":{"type":"Identifier","start":1052,"end":1056,"name":"temp"},"property":{"type":"Identifier","start":1057,"end":1061,"name":"fill"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1062,"end":1066,"name":"item"}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":1108,"end":1160,"body":[{"type":"ExpressionStatement","start":1130,"end":1142,"expression":{"type":"AssignmentExpression","start":1130,"end":1141,"operator":"=","left":{"type":"Identifier","start":1130,"end":1134,"name":"temp"},"right":{"type":"Identifier","start":1137,"end":1141,"name":"item"}}}]}},{"type":"ExpressionStatement","start":1177,"end":1195,"expression":{"type":"CallExpression","start":1177,"end":1194,"callee":{"type":"MemberExpression","start":1177,"end":1188,"object":{"type":"Identifier","start":1177,"end":1183,"name":"result"},"property":{"type":"Identifier","start":1184,"end":1188,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1189,"end":1193,"name":"temp"}],"optional":false}}]}}]},"alternate":{"type":"BlockStatement","start":1233,"end":1460,"body":[{"type":"IfStatement","start":1247,"end":1450,"test":{"type":"UnaryExpression","start":1251,"end":1285,"operator":"!","prefix":true,"argument":{"type":"BinaryExpression","start":1253,"end":1284,"left":{"type":"Identifier","start":1253,"end":1258,"name":"value"},"operator":"instanceof","right":{"type":"MemberExpression","start":1270,"end":1284,"object":{"type":"ThisExpression","start":1270,"end":1274},"property":{"type":"Identifier","start":1275,"end":1284,"name":"modelType"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":1287,"end":1385,"body":[{"type":"ExpressionStatement","start":1305,"end":1335,"expression":{"type":"AssignmentExpression","start":1305,"end":1334,"operator":"=","left":{"type":"Identifier","start":1305,"end":1311,"name":"result"},"right":{"type":"NewExpression","start":1314,"end":1334,"callee":{"type":"MemberExpression","start":1318,"end":1332,"object":{"type":"ThisExpression","start":1318,"end":1322},"property":{"type":"Identifier","start":1323,"end":1332,"name":"modelType"},"computed":false,"optional":false},"arguments":[]}}},{"type":"ExpressionStatement","start":1352,"end":1371,"expression":{"type":"CallExpression","start":1352,"end":1370,"callee":{"type":"MemberExpression","start":1352,"end":1363,"object":{"type":"Identifier","start":1352,"end":1358,"name":"result"},"property":{"type":"Identifier","start":1359,"end":1363,"name":"fill"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1364,"end":1369,"name":"value"}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":1403,"end":1450,"body":[{"type":"ExpressionStatement","start":1421,"end":1436,"expression":{"type":"AssignmentExpression","start":1421,"end":1435,"operator":"=","left":{"type":"Identifier","start":1421,"end":1427,"name":"result"},"right":{"type":"Identifier","start":1430,"end":1435,"name":"value"}}}]}}]}},{"type":"ReturnStatement","start":1469,"end":1483,"argument":{"type":"Identifier","start":1476,"end":1482,"name":"result"}}]}}},{"type":"MethodDefinition","start":1494,"end":2459,"static":false,"computed":false,"key":{"type":"Identifier","start":1494,"end":1500,"name":"unmask"},"kind":"method","value":{"type":"FunctionExpression","start":1500,"end":2459,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1501,"end":1506,"name":"value"}],"body":{"type":"BlockStatement","start":1508,"end":2459,"body":[{"type":"IfStatement","start":1518,"end":1567,"test":{"type":"UnaryExpression","start":1522,"end":1528,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":1523,"end":1528,"name":"value"}},"consequent":{"type":"BlockStatement","start":1530,"end":1567,"body":[{"type":"ReturnStatement","start":1544,"end":1557,"argument":{"type":"Identifier","start":1551,"end":1556,"name":"value"}}]},"alternate":null},{"type":"VariableDeclaration","start":1576,"end":1594,"declarations":[{"type":"VariableDeclarator","start":1580,"end":1593,"id":{"type":"Identifier","start":1580,"end":1586,"name":"result"},"init":{"type":"Literal","start":1589,"end":1593,"value":null,"raw":"null"}}],"kind":"let"},{"type":"IfStatement","start":1603,"end":2430,"test":{"type":"CallExpression","start":1607,"end":1627,"callee":{"type":"MemberExpression","start":1607,"end":1620,"object":{"type":"Identifier","start":1607,"end":1612,"name":"Array"},"property":{"type":"Identifier","start":1613,"end":1620,"name":"isArray"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1621,"end":1626,"name":"value"}],"optional":false},"consequent":{"type":"BlockStatement","start":1629,"end":2118,"body":[{"type":"ExpressionStatement","start":1643,"end":1655,"expression":{"type":"AssignmentExpression","start":1643,"end":1654,"operator":"=","left":{"type":"Identifier","start":1643,"end":1649,"name":"result"},"right":{"type":"ArrayExpression","start":1652,"end":1654,"elements":[]}}},{"type":"ForOfStatement","start":1668,"end":2108,"await":false,"left":{"type":"VariableDeclaration","start":1673,"end":1683,"declarations":[{"type":"VariableDeclarator","start":1679,"end":1683,"id":{"type":"Identifier","start":1679,"end":1683,"name":"item"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":1687,"end":1692,"name":"value"},"body":{"type":"BlockStatement","start":1694,"end":2108,"body":[{"type":"IfStatement","start":1712,"end":1772,"test":{"type":"UnaryExpression","start":1716,"end":1721,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":1717,"end":1721,"name":"item"}},"consequent":{"type":"BlockStatement","start":1723,"end":1772,"body":[{"type":"ContinueStatement","start":1745,"end":1754,"label":null}]},"alternate":null},{"type":"IfStatement","start":1789,"end":2094,"test":{"type":"BinaryExpression","start":1793,"end":1827,"left":{"type":"Identifier","start":1793,"end":1797,"name":"item"},"operator":"instanceof","right":{"type":"Identifier","start":1809,"end":1827,"name":"JsonApiNestedModel"}},"consequent":{"type":"BlockStatement","start":1829,"end":2014,"body":[{"type":"ExpressionStatement","start":1851,"end":1887,"expression":{"type":"AssignmentExpression","start":1851,"end":1886,"operator":"=","left":{"type":"MemberExpression","start":1851,"end":1879,"object":{"type":"Identifier","start":1851,"end":1855,"name":"item"},"property":{"type":"Identifier","start":1856,"end":1879,"name":"nestedDataSerialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":1882,"end":1886,"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":1908,"end":1938,"expression":{"type":"CallExpression","start":1908,"end":1937,"callee":{"type":"MemberExpression","start":1908,"end":1919,"object":{"type":"Identifier","start":1908,"end":1914,"name":"result"},"property":{"type":"Identifier","start":1915,"end":1919,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1920,"end":1936,"callee":{"type":"MemberExpression","start":1920,"end":1934,"object":{"type":"Identifier","start":1920,"end":1924,"name":"item"},"property":{"type":"Identifier","start":1925,"end":1934,"name":"serialize"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":1959,"end":1996,"expression":{"type":"AssignmentExpression","start":1959,"end":1995,"operator":"=","left":{"type":"MemberExpression","start":1959,"end":1987,"object":{"type":"Identifier","start":1959,"end":1963,"name":"item"},"property":{"type":"Identifier","start":1964,"end":1987,"name":"nestedDataSerialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":1990,"end":1995,"value":false,"raw":"false"}}}]},"alternate":{"type":"BlockStatement","start":2036,"end":2094,"body":[{"type":"ExpressionStatement","start":2058,"end":2076,"expression":{"type":"CallExpression","start":2058,"end":2075,"callee":{"type":"MemberExpression","start":2058,"end":2069,"object":{"type":"Identifier","start":2058,"end":2064,"name":"result"},"property":{"type":"Identifier","start":2065,"end":2069,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2070,"end":2074,"name":"item"}],"optional":false}}]}}]}}]},"alternate":{"type":"BlockStatement","start":2132,"end":2430,"body":[{"type":"IfStatement","start":2146,"end":2420,"test":{"type":"BinaryExpression","start":2150,"end":2185,"left":{"type":"Identifier","start":2150,"end":2155,"name":"value"},"operator":"instanceof","right":{"type":"Identifier","start":2167,"end":2185,"name":"JsonApiNestedModel"}},"consequent":{"type":"BlockStatement","start":2187,"end":2355,"body":[{"type":"ExpressionStatement","start":2205,"end":2242,"expression":{"type":"AssignmentExpression","start":2205,"end":2241,"operator":"=","left":{"type":"MemberExpression","start":2205,"end":2234,"object":{"type":"Identifier","start":2205,"end":2210,"name":"value"},"property":{"type":"Identifier","start":2211,"end":2234,"name":"nestedDataSerialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":2237,"end":2241,"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":2259,"end":2286,"expression":{"type":"AssignmentExpression","start":2259,"end":2285,"operator":"=","left":{"type":"Identifier","start":2259,"end":2265,"name":"result"},"right":{"type":"CallExpression","start":2268,"end":2285,"callee":{"type":"MemberExpression","start":2268,"end":2283,"object":{"type":"Identifier","start":2268,"end":2273,"name":"value"},"property":{"type":"Identifier","start":2274,"end":2283,"name":"serialize"},"computed":false,"optional":false},"arguments":[],"optional":false}}},{"type":"ExpressionStatement","start":2303,"end":2341,"expression":{"type":"AssignmentExpression","start":2303,"end":2340,"operator":"=","left":{"type":"MemberExpression","start":2303,"end":2332,"object":{"type":"Identifier","start":2303,"end":2308,"name":"value"},"property":{"type":"Identifier","start":2309,"end":2332,"name":"nestedDataSerialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":2335,"end":2340,"value":false,"raw":"false"}}}]},"alternate":{"type":"BlockStatement","start":2373,"end":2420,"body":[{"type":"ExpressionStatement","start":2391,"end":2406,"expression":{"type":"AssignmentExpression","start":2391,"end":2405,"operator":"=","left":{"type":"Identifier","start":2391,"end":2397,"name":"result"},"right":{"type":"Identifier","start":2400,"end":2405,"name":"value"}}}]}}]}},{"type":"ReturnStatement","start":2439,"end":2453,"argument":{"type":"Identifier","start":2446,"end":2452,"name":"result"}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1tb2RlbC5jb252ZXJ0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9jb252ZXJ0ZXJzL2pzb24tbW9kZWwvanNvbi1tb2RlbC5jb252ZXJ0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFFcEUsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUE2QjtJQUN2RCxTQUFTLEVBQUUsS0FBSztJQUNoQixPQUFPLEVBQUUsS0FBSztDQUNmLENBQUM7QUFFRixNQUFNLE9BQU8sa0JBQWtCO0lBSTdCLFlBQVksS0FBUSxFQUFFLFVBQW9DLEVBQUU7UUFDMUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsQ0FBQyxzQkFBc0I7UUFDOUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFDLEdBQUcsZUFBZSxFQUFFLEdBQUcsT0FBTyxFQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELElBQUksQ0FBQyxLQUFVO1FBQ2IsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFO1lBQ3JDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ3hCLE9BQU8sRUFBRSxDQUFDO2FBQ1g7WUFDRCxPQUFPLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQzdCO1FBRUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQUMscURBQXFELE9BQU8sS0FBSyxHQUFHLENBQUMsQ0FBQzthQUN2RjtZQUNELE1BQU0sR0FBRyxFQUFFLENBQUM7WUFDWixLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtnQkFDeEIsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFO29CQUNqQixTQUFTO2lCQUNWO2dCQUNELElBQUksSUFBSSxDQUFDO2dCQUNULElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO29CQUM1QixJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7b0JBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ2pCO3FCQUFNO29CQUNMLElBQUksR0FBRyxJQUFJLENBQUM7aUJBQ2I7Z0JBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNuQjtTQUNGO2FBQU07WUFDTCxJQUFJLENBQUMsQ0FBQyxLQUFLLFlBQVksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUN0QyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQzlCLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEI7aUJBQU07Z0JBQ0wsTUFBTSxHQUFHLEtBQUssQ0FBQzthQUNoQjtTQUNGO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFVO1FBQ2YsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLE1BQU0sR0FBRyxFQUFFLENBQUM7WUFDWixLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtnQkFDeEIsSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDVCxTQUFTO2lCQUNWO2dCQUNELElBQUksSUFBSSxZQUFZLGtCQUFrQixFQUFFO29CQUN0QyxJQUFJLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO29CQUNwQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO29CQUM5QixJQUFJLENBQUMsdUJBQXVCLEdBQUcsS0FBSyxDQUFDO2lCQUN0QztxQkFBTTtvQkFDTCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNuQjthQUNGO1NBQ0Y7YUFBTTtZQUNMLElBQUksS0FBSyxZQUFZLGtCQUFrQixFQUFFO2dCQUN2QyxLQUFLLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO2dCQUNyQyxNQUFNLEdBQUcsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUMzQixLQUFLLENBQUMsdUJBQXVCLEdBQUcsS0FBSyxDQUFDO2FBQ3ZDO2lCQUFNO2dCQUNMLE1BQU0sR0FBRyxLQUFLLENBQUM7YUFDaEI7U0FDRjtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpzb25Nb2RlbENvbnZlcnRlckNvbmZpZyB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvanNvbi1tb2RlbC1jb252ZXJ0ZXItY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQcm9wZXJ0eUNvbnZlcnRlciB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvcHJvcGVydHktY29udmVydGVyLmludGVyZmFjZSc7XG5pbXBvcnQgeyBKc29uQXBpTmVzdGVkTW9kZWwgfSBmcm9tICcuLi8uLi9tb2RlbHMvanNvbi1uZXN0ZWQubW9kZWwnO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9PUFRJT05TOiBKc29uTW9kZWxDb252ZXJ0ZXJDb25maWcgPSB7XG4gIG51bGxWYWx1ZTogZmFsc2UsXG4gIGhhc01hbnk6IGZhbHNlXG59O1xuXG5leHBvcnQgY2xhc3MgSnNvbk1vZGVsQ29udmVydGVyPFQ+IGltcGxlbWVudHMgUHJvcGVydHlDb252ZXJ0ZXIge1xuICBwcml2YXRlIG1vZGVsVHlwZTogYW55OyAvLyBNb2RlbFR5cGU8VD5cbiAgcHJpdmF0ZSBvcHRpb25zOiBKc29uTW9kZWxDb252ZXJ0ZXJDb25maWc7XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IFQsIG9wdGlvbnM6IEpzb25Nb2RlbENvbnZlcnRlckNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy5tb2RlbFR5cGUgPSBtb2RlbDsgLy8gPE1vZGVsVHlwZTxUPj5tb2RlbFxuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnN9O1xuICB9XG5cbiAgbWFzayh2YWx1ZTogYW55KTogVCB8IEFycmF5PFQ+IHtcbiAgICBpZiAoIXZhbHVlICYmICF0aGlzLm9wdGlvbnMubnVsbFZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhhc01hbnkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyB0aGlzLm1vZGVsVHlwZSgpO1xuICAgIH1cblxuICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaGFzTWFueSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVSUk9SOiBKc29uTW9kZWxDb252ZXJ0ZXI6IEV4cGVjdGVkIGFycmF5IGJ1dCBnb3QgJHt0eXBlb2YgdmFsdWV9LmApO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgaWYgKGl0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGVtcDtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRlbXAgPSBuZXcgdGhpcy5tb2RlbFR5cGUoKTtcbiAgICAgICAgICB0ZW1wLmZpbGwoaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IGl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQucHVzaCh0ZW1wKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiB0aGlzLm1vZGVsVHlwZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IHRoaXMubW9kZWxUeXBlKCk7XG4gICAgICAgIHJlc3VsdC5maWxsKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdW5tYXNrKHZhbHVlOiBhbnkpOiBhbnkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEpzb25BcGlOZXN0ZWRNb2RlbCkge1xuICAgICAgICAgIGl0ZW0ubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSB0cnVlO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0uc2VyaWFsaXplKCkpO1xuICAgICAgICAgIGl0ZW0ubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBKc29uQXBpTmVzdGVkTW9kZWwpIHtcbiAgICAgICAgdmFsdWUubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSB0cnVlO1xuICAgICAgICByZXN1bHQgPSB2YWx1ZS5zZXJpYWxpemUoKTtcbiAgICAgICAgdmFsdWUubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG4iXX0=","start":2462,"end":8696}]},"code":"import { JsonApiNestedModel } from '../../models/json-nested.model';\nexport const DEFAULT_OPTIONS = {\n    nullValue: false,\n    hasMany: false\n};\nexport class JsonModelConverter {\n    constructor(model, options = {}) {\n        this.modelType = model; // <ModelType<T>>model\n        this.options = { ...DEFAULT_OPTIONS, ...options };\n    }\n    mask(value) {\n        if (!value && !this.options.nullValue) {\n            if (this.options.hasMany) {\n                return [];\n            }\n            return new this.modelType();\n        }\n        let result = null;\n        if (this.options.hasMany) {\n            if (!Array.isArray(value)) {\n                throw new Error(`ERROR: JsonModelConverter: Expected array but got ${typeof value}.`);\n            }\n            result = [];\n            for (const item of value) {\n                if (item === null) {\n                    continue;\n                }\n                let temp;\n                if (typeof item === 'object') {\n                    temp = new this.modelType();\n                    temp.fill(item);\n                }\n                else {\n                    temp = item;\n                }\n                result.push(temp);\n            }\n        }\n        else {\n            if (!(value instanceof this.modelType)) {\n                result = new this.modelType();\n                result.fill(value);\n            }\n            else {\n                result = value;\n            }\n        }\n        return result;\n    }\n    unmask(value) {\n        if (!value) {\n            return value;\n        }\n        let result = null;\n        if (Array.isArray(value)) {\n            result = [];\n            for (const item of value) {\n                if (!item) {\n                    continue;\n                }\n                if (item instanceof JsonApiNestedModel) {\n                    item.nestedDataSerialization = true;\n                    result.push(item.serialize());\n                    item.nestedDataSerialization = false;\n                }\n                else {\n                    result.push(item);\n                }\n            }\n        }\n        else {\n            if (value instanceof JsonApiNestedModel) {\n                value.nestedDataSerialization = true;\n                result = value.serialize();\n                value.nestedDataSerialization = false;\n            }\n            else {\n                result = value;\n            }\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1tb2RlbC5jb252ZXJ0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9jb252ZXJ0ZXJzL2pzb24tbW9kZWwvanNvbi1tb2RlbC5jb252ZXJ0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFFcEUsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUE2QjtJQUN2RCxTQUFTLEVBQUUsS0FBSztJQUNoQixPQUFPLEVBQUUsS0FBSztDQUNmLENBQUM7QUFFRixNQUFNLE9BQU8sa0JBQWtCO0lBSTdCLFlBQVksS0FBUSxFQUFFLFVBQW9DLEVBQUU7UUFDMUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsQ0FBQyxzQkFBc0I7UUFDOUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFDLEdBQUcsZUFBZSxFQUFFLEdBQUcsT0FBTyxFQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELElBQUksQ0FBQyxLQUFVO1FBQ2IsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFO1lBQ3JDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ3hCLE9BQU8sRUFBRSxDQUFDO2FBQ1g7WUFDRCxPQUFPLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQzdCO1FBRUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQUMscURBQXFELE9BQU8sS0FBSyxHQUFHLENBQUMsQ0FBQzthQUN2RjtZQUNELE1BQU0sR0FBRyxFQUFFLENBQUM7WUFDWixLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtnQkFDeEIsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFO29CQUNqQixTQUFTO2lCQUNWO2dCQUNELElBQUksSUFBSSxDQUFDO2dCQUNULElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO29CQUM1QixJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7b0JBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ2pCO3FCQUFNO29CQUNMLElBQUksR0FBRyxJQUFJLENBQUM7aUJBQ2I7Z0JBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNuQjtTQUNGO2FBQU07WUFDTCxJQUFJLENBQUMsQ0FBQyxLQUFLLFlBQVksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUN0QyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQzlCLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEI7aUJBQU07Z0JBQ0wsTUFBTSxHQUFHLEtBQUssQ0FBQzthQUNoQjtTQUNGO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFVO1FBQ2YsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLE1BQU0sR0FBRyxFQUFFLENBQUM7WUFDWixLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtnQkFDeEIsSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDVCxTQUFTO2lCQUNWO2dCQUNELElBQUksSUFBSSxZQUFZLGtCQUFrQixFQUFFO29CQUN0QyxJQUFJLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO29CQUNwQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO29CQUM5QixJQUFJLENBQUMsdUJBQXVCLEdBQUcsS0FBSyxDQUFDO2lCQUN0QztxQkFBTTtvQkFDTCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNuQjthQUNGO1NBQ0Y7YUFBTTtZQUNMLElBQUksS0FBSyxZQUFZLGtCQUFrQixFQUFFO2dCQUN2QyxLQUFLLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO2dCQUNyQyxNQUFNLEdBQUcsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUMzQixLQUFLLENBQUMsdUJBQXVCLEdBQUcsS0FBSyxDQUFDO2FBQ3ZDO2lCQUFNO2dCQUNMLE1BQU0sR0FBRyxLQUFLLENBQUM7YUFDaEI7U0FDRjtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpzb25Nb2RlbENvbnZlcnRlckNvbmZpZyB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvanNvbi1tb2RlbC1jb252ZXJ0ZXItY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQcm9wZXJ0eUNvbnZlcnRlciB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvcHJvcGVydHktY29udmVydGVyLmludGVyZmFjZSc7XG5pbXBvcnQgeyBKc29uQXBpTmVzdGVkTW9kZWwgfSBmcm9tICcuLi8uLi9tb2RlbHMvanNvbi1uZXN0ZWQubW9kZWwnO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9PUFRJT05TOiBKc29uTW9kZWxDb252ZXJ0ZXJDb25maWcgPSB7XG4gIG51bGxWYWx1ZTogZmFsc2UsXG4gIGhhc01hbnk6IGZhbHNlXG59O1xuXG5leHBvcnQgY2xhc3MgSnNvbk1vZGVsQ29udmVydGVyPFQ+IGltcGxlbWVudHMgUHJvcGVydHlDb252ZXJ0ZXIge1xuICBwcml2YXRlIG1vZGVsVHlwZTogYW55OyAvLyBNb2RlbFR5cGU8VD5cbiAgcHJpdmF0ZSBvcHRpb25zOiBKc29uTW9kZWxDb252ZXJ0ZXJDb25maWc7XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IFQsIG9wdGlvbnM6IEpzb25Nb2RlbENvbnZlcnRlckNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy5tb2RlbFR5cGUgPSBtb2RlbDsgLy8gPE1vZGVsVHlwZTxUPj5tb2RlbFxuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnN9O1xuICB9XG5cbiAgbWFzayh2YWx1ZTogYW55KTogVCB8IEFycmF5PFQ+IHtcbiAgICBpZiAoIXZhbHVlICYmICF0aGlzLm9wdGlvbnMubnVsbFZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhhc01hbnkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyB0aGlzLm1vZGVsVHlwZSgpO1xuICAgIH1cblxuICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaGFzTWFueSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVSUk9SOiBKc29uTW9kZWxDb252ZXJ0ZXI6IEV4cGVjdGVkIGFycmF5IGJ1dCBnb3QgJHt0eXBlb2YgdmFsdWV9LmApO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgaWYgKGl0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGVtcDtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRlbXAgPSBuZXcgdGhpcy5tb2RlbFR5cGUoKTtcbiAgICAgICAgICB0ZW1wLmZpbGwoaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IGl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQucHVzaCh0ZW1wKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiB0aGlzLm1vZGVsVHlwZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IHRoaXMubW9kZWxUeXBlKCk7XG4gICAgICAgIHJlc3VsdC5maWxsKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdW5tYXNrKHZhbHVlOiBhbnkpOiBhbnkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEpzb25BcGlOZXN0ZWRNb2RlbCkge1xuICAgICAgICAgIGl0ZW0ubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSB0cnVlO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0uc2VyaWFsaXplKCkpO1xuICAgICAgICAgIGl0ZW0ubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBKc29uQXBpTmVzdGVkTW9kZWwpIHtcbiAgICAgICAgdmFsdWUubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSB0cnVlO1xuICAgICAgICByZXN1bHQgPSB2YWx1ZS5zZXJpYWxpemUoKTtcbiAgICAgICAgdmFsdWUubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG4iXX0=","customTransformCache":false,"dependencies":["/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-nested.model.mjs"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/converters/json-model/json-model.converter.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { JsonApiNestedModel } from '../../models/json-nested.model';\nexport const DEFAULT_OPTIONS = {\n    nullValue: false,\n    hasMany: false\n};\nexport class JsonModelConverter {\n    constructor(model, options = {}) {\n        this.modelType = model; // <ModelType<T>>model\n        this.options = { ...DEFAULT_OPTIONS, ...options };\n    }\n    mask(value) {\n        if (!value && !this.options.nullValue) {\n            if (this.options.hasMany) {\n                return [];\n            }\n            return new this.modelType();\n        }\n        let result = null;\n        if (this.options.hasMany) {\n            if (!Array.isArray(value)) {\n                throw new Error(`ERROR: JsonModelConverter: Expected array but got ${typeof value}.`);\n            }\n            result = [];\n            for (const item of value) {\n                if (item === null) {\n                    continue;\n                }\n                let temp;\n                if (typeof item === 'object') {\n                    temp = new this.modelType();\n                    temp.fill(item);\n                }\n                else {\n                    temp = item;\n                }\n                result.push(temp);\n            }\n        }\n        else {\n            if (!(value instanceof this.modelType)) {\n                result = new this.modelType();\n                result.fill(value);\n            }\n            else {\n                result = value;\n            }\n        }\n        return result;\n    }\n    unmask(value) {\n        if (!value) {\n            return value;\n        }\n        let result = null;\n        if (Array.isArray(value)) {\n            result = [];\n            for (const item of value) {\n                if (!item) {\n                    continue;\n                }\n                if (item instanceof JsonApiNestedModel) {\n                    item.nestedDataSerialization = true;\n                    result.push(item.serialize());\n                    item.nestedDataSerialization = false;\n                }\n                else {\n                    result.push(item);\n                }\n            }\n        }\n        else {\n            if (value instanceof JsonApiNestedModel) {\n                value.nestedDataSerialization = true;\n                result = value.serialize();\n                value.nestedDataSerialization = false;\n            }\n            else {\n                result = value;\n            }\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1tb2RlbC5jb252ZXJ0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9jb252ZXJ0ZXJzL2pzb24tbW9kZWwvanNvbi1tb2RlbC5jb252ZXJ0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFFcEUsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUE2QjtJQUN2RCxTQUFTLEVBQUUsS0FBSztJQUNoQixPQUFPLEVBQUUsS0FBSztDQUNmLENBQUM7QUFFRixNQUFNLE9BQU8sa0JBQWtCO0lBSTdCLFlBQVksS0FBUSxFQUFFLFVBQW9DLEVBQUU7UUFDMUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsQ0FBQyxzQkFBc0I7UUFDOUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFDLEdBQUcsZUFBZSxFQUFFLEdBQUcsT0FBTyxFQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELElBQUksQ0FBQyxLQUFVO1FBQ2IsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFO1lBQ3JDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ3hCLE9BQU8sRUFBRSxDQUFDO2FBQ1g7WUFDRCxPQUFPLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQzdCO1FBRUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQUMscURBQXFELE9BQU8sS0FBSyxHQUFHLENBQUMsQ0FBQzthQUN2RjtZQUNELE1BQU0sR0FBRyxFQUFFLENBQUM7WUFDWixLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtnQkFDeEIsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFO29CQUNqQixTQUFTO2lCQUNWO2dCQUNELElBQUksSUFBSSxDQUFDO2dCQUNULElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO29CQUM1QixJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7b0JBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ2pCO3FCQUFNO29CQUNMLElBQUksR0FBRyxJQUFJLENBQUM7aUJBQ2I7Z0JBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNuQjtTQUNGO2FBQU07WUFDTCxJQUFJLENBQUMsQ0FBQyxLQUFLLFlBQVksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUN0QyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQzlCLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEI7aUJBQU07Z0JBQ0wsTUFBTSxHQUFHLEtBQUssQ0FBQzthQUNoQjtTQUNGO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFVO1FBQ2YsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLE1BQU0sR0FBRyxFQUFFLENBQUM7WUFDWixLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtnQkFDeEIsSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDVCxTQUFTO2lCQUNWO2dCQUNELElBQUksSUFBSSxZQUFZLGtCQUFrQixFQUFFO29CQUN0QyxJQUFJLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO29CQUNwQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO29CQUM5QixJQUFJLENBQUMsdUJBQXVCLEdBQUcsS0FBSyxDQUFDO2lCQUN0QztxQkFBTTtvQkFDTCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNuQjthQUNGO1NBQ0Y7YUFBTTtZQUNMLElBQUksS0FBSyxZQUFZLGtCQUFrQixFQUFFO2dCQUN2QyxLQUFLLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO2dCQUNyQyxNQUFNLEdBQUcsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUMzQixLQUFLLENBQUMsdUJBQXVCLEdBQUcsS0FBSyxDQUFDO2FBQ3ZDO2lCQUFNO2dCQUNMLE1BQU0sR0FBRyxLQUFLLENBQUM7YUFDaEI7U0FDRjtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpzb25Nb2RlbENvbnZlcnRlckNvbmZpZyB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvanNvbi1tb2RlbC1jb252ZXJ0ZXItY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQcm9wZXJ0eUNvbnZlcnRlciB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvcHJvcGVydHktY29udmVydGVyLmludGVyZmFjZSc7XG5pbXBvcnQgeyBKc29uQXBpTmVzdGVkTW9kZWwgfSBmcm9tICcuLi8uLi9tb2RlbHMvanNvbi1uZXN0ZWQubW9kZWwnO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9PUFRJT05TOiBKc29uTW9kZWxDb252ZXJ0ZXJDb25maWcgPSB7XG4gIG51bGxWYWx1ZTogZmFsc2UsXG4gIGhhc01hbnk6IGZhbHNlXG59O1xuXG5leHBvcnQgY2xhc3MgSnNvbk1vZGVsQ29udmVydGVyPFQ+IGltcGxlbWVudHMgUHJvcGVydHlDb252ZXJ0ZXIge1xuICBwcml2YXRlIG1vZGVsVHlwZTogYW55OyAvLyBNb2RlbFR5cGU8VD5cbiAgcHJpdmF0ZSBvcHRpb25zOiBKc29uTW9kZWxDb252ZXJ0ZXJDb25maWc7XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IFQsIG9wdGlvbnM6IEpzb25Nb2RlbENvbnZlcnRlckNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy5tb2RlbFR5cGUgPSBtb2RlbDsgLy8gPE1vZGVsVHlwZTxUPj5tb2RlbFxuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnN9O1xuICB9XG5cbiAgbWFzayh2YWx1ZTogYW55KTogVCB8IEFycmF5PFQ+IHtcbiAgICBpZiAoIXZhbHVlICYmICF0aGlzLm9wdGlvbnMubnVsbFZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhhc01hbnkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyB0aGlzLm1vZGVsVHlwZSgpO1xuICAgIH1cblxuICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaGFzTWFueSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVSUk9SOiBKc29uTW9kZWxDb252ZXJ0ZXI6IEV4cGVjdGVkIGFycmF5IGJ1dCBnb3QgJHt0eXBlb2YgdmFsdWV9LmApO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgaWYgKGl0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGVtcDtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRlbXAgPSBuZXcgdGhpcy5tb2RlbFR5cGUoKTtcbiAgICAgICAgICB0ZW1wLmZpbGwoaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcCA9IGl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQucHVzaCh0ZW1wKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiB0aGlzLm1vZGVsVHlwZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IHRoaXMubW9kZWxUeXBlKCk7XG4gICAgICAgIHJlc3VsdC5maWxsKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdW5tYXNrKHZhbHVlOiBhbnkpOiBhbnkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEpzb25BcGlOZXN0ZWRNb2RlbCkge1xuICAgICAgICAgIGl0ZW0ubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSB0cnVlO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0uc2VyaWFsaXplKCkpO1xuICAgICAgICAgIGl0ZW0ubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBKc29uQXBpTmVzdGVkTW9kZWwpIHtcbiAgICAgICAgdmFsdWUubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSB0cnVlO1xuICAgICAgICByZXN1bHQgPSB2YWx1ZS5zZXJpYWxpemUoKTtcbiAgICAgICAgdmFsdWUubmVzdGVkRGF0YVNlcmlhbGl6YXRpb24gPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"json-model.converter.js","sourceRoot":"","sources":["../../../../../projects/angular2-jsonapi/src/converters/json-model/json-model.converter.ts"],"names":[],"mappings":[[[0,0,2,0],[7,0,2,7],[9,0,2,9],[27,0,2,27],[29,0,2,29],[35,0,2,35],[67,0,2,67],[68,0,2,68]],[[0,0,4,0],[6,0,4,6],[7,0,4,7],[13,0,4,13],[28,0,4,28],[31,0,4,57]],[[4,0,5,2],[13,0,5,11],[15,0,5,13],[20,0,5,18]],[[4,0,6,2],[11,0,6,9],[13,0,6,11],[18,0,6,16]],[[1,0,7,1],[2,0,7,2]],[[0,0,9,0],[6,0,9,6],[13,0,9,13],[31,0,9,31]],[[4,0,13,2],[16,0,13,14],[21,0,13,22],[23,0,13,24],[33,0,13,60],[35,0,13,62]],[[8,0,14,4],[12,0,14,8],[13,0,14,9],[22,0,14,18],[25,0,14,21],[30,0,14,26],[31,0,14,27],[32,0,14,28],[54,0,14,50]],[[8,0,15,4],[12,0,15,8],[13,0,15,9],[20,0,15,16],[23,0,15,19],[25,0,15,20],[28,0,15,23],[43,0,15,38],[45,0,15,40],[48,0,15,43],[55,0,15,50],[57,0,15,51],[58,0,15,52]],[[4,0,16,2],[5,0,16,3]],[[4,0,18,2],[8,0,18,6],[9,0,18,7],[14,0,18,17]],[[8,0,19,4],[12,0,19,8],[13,0,19,9],[18,0,19,14],[22,0,19,18],[23,0,19,19],[27,0,19,23],[28,0,19,24],[35,0,19,31],[36,0,19,32],[45,0,19,41],[47,0,19,43]],[[12,0,20,6],[16,0,20,10],[20,0,20,14],[21,0,20,15],[28,0,20,22],[29,0,20,23],[36,0,20,30],[38,0,20,32]],[[16,0,21,8],[23,0,21,15],[25,0,21,17],[26,0,21,18]],[[13,0,22,7]],[[12,0,23,6],[19,0,23,13],[23,0,23,17],[27,0,23,21],[28,0,23,22],[37,0,23,31],[39,0,23,33],[40,0,23,34]],[[9,0,24,5]],[[8,0,26,4],[12,0,26,8],[18,0,26,14],[21,0,26,17],[25,0,26,21],[26,0,26,22]],[[8,0,27,4],[12,0,27,8],[16,0,27,12],[17,0,27,13],[24,0,27,20],[25,0,27,21],[32,0,27,28],[34,0,27,30]],[[12,0,28,6],[16,0,28,10],[17,0,28,11],[22,0,28,16],[23,0,28,17],[30,0,28,24],[31,0,28,25],[36,0,28,30],[37,0,28,31],[39,0,28,33]],[[16,0,29,8],[22,0,29,14],[26,0,29,18],[31,0,29,23],[32,0,29,24],[85,0,29,77],[92,0,29,84],[97,0,29,89],[100,0,29,92],[101,0,29,93],[102,0,29,94]],[[13,0,30,7]],[[12,0,31,6],[18,0,31,12],[21,0,31,15],[23,0,31,17],[24,0,31,18]],[[12,0,32,6],[17,0,32,11],[23,0,32,17],[27,0,32,21],[31,0,32,25],[36,0,32,30],[38,0,32,32]],[[16,0,33,8],[20,0,33,12],[24,0,33,16],[29,0,33,21],[33,0,33,25],[35,0,33,27]],[[20,0,34,10],[29,0,34,19]],[[17,0,35,9]],[[16,0,36,8],[20,0,36,12],[24,0,36,16],[25,0,36,17]],[[16,0,37,8],[20,0,37,12],[27,0,37,19],[31,0,37,23],[36,0,37,28],[44,0,37,36],[46,0,37,38]],[[20,0,38,10],[24,0,38,14],[27,0,38,17],[31,0,38,21],[35,0,38,25],[36,0,38,26],[45,0,38,35],[47,0,38,37],[48,0,38,38]],[[20,0,39,10],[24,0,39,14],[25,0,39,15],[29,0,39,19],[30,0,39,20],[34,0,39,24],[35,0,39,25],[36,0,39,26]],[[17,0,40,9]],[[21,0,40,15]],[[20,0,41,10],[24,0,41,14],[27,0,41,17],[31,0,41,21],[32,0,41,22]],[[17,0,42,9]],[[16,0,44,8],[22,0,44,14],[23,0,44,15],[27,0,44,19],[28,0,44,20],[32,0,44,24],[33,0,44,25],[34,0,44,26]],[[13,0,45,7]],[[9,0,46,5]],[[13,0,46,11]],[[12,0,47,6],[16,0,47,10],[17,0,47,11],[18,0,47,12],[23,0,47,17],[35,0,47,29],[39,0,47,33],[40,0,47,34],[49,0,47,43],[50,0,47,44],[52,0,47,46]],[[16,0,48,8],[22,0,48,14],[25,0,48,17],[29,0,48,21],[33,0,48,25],[34,0,48,26],[43,0,48,35],[45,0,48,37],[46,0,48,38]],[[16,0,49,8],[22,0,49,14],[23,0,49,15],[27,0,49,19],[28,0,49,20],[33,0,49,25],[34,0,49,26],[35,0,49,27]],[[13,0,50,7]],[[17,0,50,13]],[[16,0,51,8],[22,0,51,14],[25,0,51,17],[30,0,51,22],[31,0,51,23]],[[13,0,52,7]],[[9,0,53,5]],[[8,0,54,4],[15,0,54,11],[21,0,54,17],[22,0,54,18]],[[4,0,55,2],[5,0,55,3]],[[4,0,57,2],[10,0,57,8],[11,0,57,9],[16,0,57,19]],[[8,0,58,4],[12,0,58,8],[13,0,58,9],[18,0,58,14],[20,0,58,16]],[[12,0,59,6],[19,0,59,13],[24,0,59,18],[25,0,59,19]],[[9,0,60,5]],[[8,0,61,4],[12,0,61,8],[18,0,61,14],[21,0,61,17],[25,0,61,21],[26,0,61,22]],[[8,0,62,4],[12,0,62,8],[17,0,62,13],[18,0,62,14],[25,0,62,21],[26,0,62,22],[31,0,62,27],[32,0,62,28],[34,0,62,30]],[[12,0,63,6],[18,0,63,12],[21,0,63,15],[23,0,63,17],[24,0,63,18]],[[12,0,64,6],[17,0,64,11],[23,0,64,17],[27,0,64,21],[31,0,64,25],[36,0,64,30],[38,0,64,32]],[[16,0,65,8],[20,0,65,12],[21,0,65,13],[25,0,65,17],[27,0,65,19]],[[20,0,66,10],[29,0,66,19]],[[17,0,67,9]],[[16,0,68,8],[20,0,68,12],[24,0,68,16],[36,0,68,28],[54,0,68,46],[56,0,68,48]],[[20,0,69,10],[24,0,69,14],[25,0,69,15],[48,0,69,38],[51,0,69,41],[55,0,69,45],[56,0,69,46]],[[20,0,70,10],[26,0,70,16],[27,0,70,17],[31,0,70,21],[32,0,70,22],[36,0,70,26],[37,0,70,27],[46,0,70,36],[48,0,70,38],[49,0,70,39],[50,0,70,40]],[[20,0,71,10],[24,0,71,14],[25,0,71,15],[48,0,71,38],[51,0,71,41],[56,0,71,46],[57,0,71,47]],[[17,0,72,9]],[[21,0,72,15]],[[20,0,73,10],[26,0,73,16],[27,0,73,17],[31,0,73,21],[32,0,73,22],[36,0,73,26],[37,0,73,27],[38,0,73,28]],[[17,0,74,9]],[[13,0,75,7]],[[9,0,76,5]],[[13,0,76,11]],[[12,0,77,6],[16,0,77,10],[21,0,77,15],[33,0,77,27],[51,0,77,45],[53,0,77,47]],[[16,0,78,8],[21,0,78,13],[22,0,78,14],[45,0,78,37],[48,0,78,40],[52,0,78,44],[53,0,78,45]],[[16,0,79,8],[22,0,79,14],[25,0,79,17],[30,0,79,22],[31,0,79,23],[40,0,79,32],[42,0,79,34],[43,0,79,35]],[[16,0,80,8],[21,0,80,13],[22,0,80,14],[45,0,80,37],[48,0,80,40],[53,0,80,45],[54,0,80,46]],[[13,0,81,7]],[[17,0,81,13]],[[16,0,82,8],[22,0,82,14],[25,0,82,17],[30,0,82,22],[31,0,82,23]],[[13,0,83,7]],[[9,0,84,5]],[[8,0,85,4],[15,0,85,11],[21,0,85,17],[22,0,85,18]],[[4,0,86,2],[5,0,86,3]],[[1,0,87,1]]],"sourcesContent":["import { JsonModelConverterConfig } from '../../interfaces/json-model-converter-config.interface';\nimport { PropertyConverter } from '../../interfaces/property-converter.interface';\nimport { JsonApiNestedModel } from '../../models/json-nested.model';\n\nexport const DEFAULT_OPTIONS: JsonModelConverterConfig = {\n  nullValue: false,\n  hasMany: false\n};\n\nexport class JsonModelConverter<T> implements PropertyConverter {\n  private modelType: any; // ModelType<T>\n  private options: JsonModelConverterConfig;\n\n  constructor(model: T, options: JsonModelConverterConfig = {}) {\n    this.modelType = model; // <ModelType<T>>model\n    this.options = {...DEFAULT_OPTIONS, ...options};\n  }\n\n  mask(value: any): T | Array<T> {\n    if (!value && !this.options.nullValue) {\n      if (this.options.hasMany) {\n        return [];\n      }\n      return new this.modelType();\n    }\n\n    let result = null;\n    if (this.options.hasMany) {\n      if (!Array.isArray(value)) {\n        throw new Error(`ERROR: JsonModelConverter: Expected array but got ${typeof value}.`);\n      }\n      result = [];\n      for (const item of value) {\n        if (item === null) {\n          continue;\n        }\n        let temp;\n        if (typeof item === 'object') {\n          temp = new this.modelType();\n          temp.fill(item);\n        } else {\n          temp = item;\n        }\n\n        result.push(temp);\n      }\n    } else {\n      if (!(value instanceof this.modelType)) {\n        result = new this.modelType();\n        result.fill(value);\n      } else {\n        result = value;\n      }\n    }\n    return result;\n  }\n\n  unmask(value: any): any {\n    if (!value) {\n      return value;\n    }\n    let result = null;\n    if (Array.isArray(value)) {\n      result = [];\n      for (const item of value) {\n        if (!item) {\n          continue;\n        }\n        if (item instanceof JsonApiNestedModel) {\n          item.nestedDataSerialization = true;\n          result.push(item.serialize());\n          item.nestedDataSerialization = false;\n        } else {\n          result.push(item);\n        }\n      }\n    } else {\n      if (value instanceof JsonApiNestedModel) {\n        value.nestedDataSerialization = true;\n        result = value.serialize();\n        value.nestedDataSerialization = false;\n      } else {\n        result = value;\n      }\n    }\n    return result;\n  }\n}\n"]},"resolvedIds":{"../../models/json-nested.model":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-nested.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1565,"body":[{"type":"ExportNamedDeclaration","start":0,"end":342,"declaration":{"type":"FunctionDeclaration","start":7,"end":342,"id":{"type":"Identifier","start":16,"end":23,"name":"HasMany"},"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":24,"end":35,"left":{"type":"Identifier","start":24,"end":30,"name":"config"},"right":{"type":"ObjectExpression","start":33,"end":35,"properties":[]}}],"body":{"type":"BlockStatement","start":37,"end":342,"body":[{"type":"ReturnStatement","start":43,"end":340,"argument":{"type":"ArrowFunctionExpression","start":50,"end":339,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":51,"end":57,"name":"target"},{"type":"Identifier","start":59,"end":71,"name":"propertyName"}],"body":{"type":"BlockStatement","start":76,"end":339,"body":[{"type":"VariableDeclaration","start":86,"end":151,"declarations":[{"type":"VariableDeclarator","start":92,"end":150,"id":{"type":"Identifier","start":92,"end":103,"name":"annotations"},"init":{"type":"LogicalExpression","start":106,"end":150,"left":{"type":"CallExpression","start":106,"end":144,"callee":{"type":"MemberExpression","start":106,"end":125,"object":{"type":"Identifier","start":106,"end":113,"name":"Reflect"},"property":{"type":"Identifier","start":114,"end":125,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":126,"end":135,"value":"HasMany","raw":"'HasMany'"},{"type":"Identifier","start":137,"end":143,"name":"target"}],"optional":false},"operator":"||","right":{"type":"ArrayExpression","start":148,"end":150,"elements":[]}}}],"kind":"const"},{"type":"ExpressionStatement","start":160,"end":269,"expression":{"type":"CallExpression","start":160,"end":268,"callee":{"type":"MemberExpression","start":160,"end":176,"object":{"type":"Identifier","start":160,"end":171,"name":"annotations"},"property":{"type":"Identifier","start":172,"end":176,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":177,"end":267,"properties":[{"type":"Property","start":191,"end":203,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":191,"end":203,"name":"propertyName"},"kind":"init","value":{"type":"Identifier","start":191,"end":203,"name":"propertyName"}},{"type":"Property","start":217,"end":257,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":217,"end":229,"name":"relationship"},"value":{"type":"LogicalExpression","start":231,"end":257,"left":{"type":"MemberExpression","start":231,"end":241,"object":{"type":"Identifier","start":231,"end":237,"name":"config"},"property":{"type":"Identifier","start":238,"end":241,"name":"key"},"computed":false,"optional":false},"operator":"||","right":{"type":"Identifier","start":245,"end":257,"name":"propertyName"}},"kind":"init"}]}],"optional":false}},{"type":"ExpressionStatement","start":278,"end":333,"expression":{"type":"CallExpression","start":278,"end":332,"callee":{"type":"MemberExpression","start":278,"end":300,"object":{"type":"Identifier","start":278,"end":285,"name":"Reflect"},"property":{"type":"Identifier","start":286,"end":300,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":301,"end":310,"value":"HasMany","raw":"'HasMany'"},{"type":"Identifier","start":312,"end":323,"name":"annotations"},{"type":"Identifier","start":325,"end":331,"name":"target"}],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzLW1hbnkuZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvZGVjb3JhdG9ycy9oYXMtbWFueS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLE9BQU8sQ0FBQyxTQUFjLEVBQUU7SUFDdEMsT0FBTyxDQUFDLE1BQVcsRUFBRSxZQUE2QixFQUFFLEVBQUU7UUFDcEQsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1FBRWpFLFdBQVcsQ0FBQyxJQUFJLENBQUM7WUFDZixZQUFZO1lBQ1osWUFBWSxFQUFFLE1BQU0sQ0FBQyxHQUFHLElBQUksWUFBWTtTQUN6QyxDQUFDLENBQUM7UUFFSCxPQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDekQsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBIYXNNYW55KGNvbmZpZzogYW55ID0ge30pIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcgfCBzeW1ib2wpID0+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0hhc01hbnknLCB0YXJnZXQpIHx8IFtdO1xuXG4gICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICByZWxhdGlvbnNoaXA6IGNvbmZpZy5rZXkgfHwgcHJvcGVydHlOYW1lXG4gICAgfSk7XG5cbiAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdIYXNNYW55JywgYW5ub3RhdGlvbnMsIHRhcmdldCk7XG4gIH07XG59XG4iXX0=","start":343,"end":1565}]},"code":"export function HasMany(config = {}) {\n    return (target, propertyName) => {\n        const annotations = Reflect.getMetadata('HasMany', target) || [];\n        annotations.push({\n            propertyName,\n            relationship: config.key || propertyName\n        });\n        Reflect.defineMetadata('HasMany', annotations, target);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzLW1hbnkuZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvZGVjb3JhdG9ycy9oYXMtbWFueS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLE9BQU8sQ0FBQyxTQUFjLEVBQUU7SUFDdEMsT0FBTyxDQUFDLE1BQVcsRUFBRSxZQUE2QixFQUFFLEVBQUU7UUFDcEQsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1FBRWpFLFdBQVcsQ0FBQyxJQUFJLENBQUM7WUFDZixZQUFZO1lBQ1osWUFBWSxFQUFFLE1BQU0sQ0FBQyxHQUFHLElBQUksWUFBWTtTQUN6QyxDQUFDLENBQUM7UUFFSCxPQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDekQsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBIYXNNYW55KGNvbmZpZzogYW55ID0ge30pIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcgfCBzeW1ib2wpID0+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0hhc01hbnknLCB0YXJnZXQpIHx8IFtdO1xuXG4gICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICByZWxhdGlvbnNoaXA6IGNvbmZpZy5rZXkgfHwgcHJvcGVydHlOYW1lXG4gICAgfSk7XG5cbiAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdIYXNNYW55JywgYW5ub3RhdGlvbnMsIHRhcmdldCk7XG4gIH07XG59XG4iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/has-many.decorator.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export function HasMany(config = {}) {\n    return (target, propertyName) => {\n        const annotations = Reflect.getMetadata('HasMany', target) || [];\n        annotations.push({\n            propertyName,\n            relationship: config.key || propertyName\n        });\n        Reflect.defineMetadata('HasMany', annotations, target);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzLW1hbnkuZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvZGVjb3JhdG9ycy9oYXMtbWFueS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLE9BQU8sQ0FBQyxTQUFjLEVBQUU7SUFDdEMsT0FBTyxDQUFDLE1BQVcsRUFBRSxZQUE2QixFQUFFLEVBQUU7UUFDcEQsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1FBRWpFLFdBQVcsQ0FBQyxJQUFJLENBQUM7WUFDZixZQUFZO1lBQ1osWUFBWSxFQUFFLE1BQU0sQ0FBQyxHQUFHLElBQUksWUFBWTtTQUN6QyxDQUFDLENBQUM7UUFFSCxPQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDekQsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBIYXNNYW55KGNvbmZpZzogYW55ID0ge30pIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcgfCBzeW1ib2wpID0+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0hhc01hbnknLCB0YXJnZXQpIHx8IFtdO1xuXG4gICAgYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICByZWxhdGlvbnNoaXA6IGNvbmZpZy5rZXkgfHwgcHJvcGVydHlOYW1lXG4gICAgfSk7XG5cbiAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdIYXNNYW55JywgYW5ub3RhdGlvbnMsIHRhcmdldCk7XG4gIH07XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"has-many.decorator.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/decorators/has-many.decorator.ts"],"names":[],"mappings":[[[0,0,0,0],[6,0,0,6],[16,0,0,16],[23,0,0,23],[24,0,0,24],[33,0,0,38],[35,0,0,40]],[[4,0,1,2],[11,0,1,9],[12,0,1,10],[18,0,1,21],[20,0,1,23],[32,0,1,52],[34,0,1,54],[36,0,1,56]],[[8,0,2,4],[14,0,2,10],[25,0,2,21],[28,0,2,24],[35,0,2,31],[36,0,2,32],[47,0,2,43],[48,0,2,44],[57,0,2,53],[59,0,2,55],[65,0,2,61],[66,0,2,62],[70,0,2,66],[72,0,2,68],[73,0,2,69]],[[8,0,4,4],[19,0,4,15],[20,0,4,16],[24,0,4,20],[25,0,4,21]],[[12,0,5,6],[24,0,5,18]],[[12,0,6,6],[24,0,6,18],[26,0,6,20],[32,0,6,26],[33,0,6,27],[36,0,6,30],[40,0,6,34],[52,0,6,46]],[[9,0,7,5],[10,0,7,6],[11,0,7,7]],[[8,0,9,4],[15,0,9,11],[16,0,9,12],[30,0,9,26],[31,0,9,27],[40,0,9,36],[42,0,9,38],[53,0,9,49],[55,0,9,51],[61,0,9,57],[62,0,9,58],[63,0,9,59]],[[4,0,10,2],[5,0,10,3],[6,0,10,4]],[[0,0,11,0],[1,0,11,1]]],"sourcesContent":["export function HasMany(config: any = {}) {\n  return (target: any, propertyName: string | symbol) => {\n    const annotations = Reflect.getMetadata('HasMany', target) || [];\n\n    annotations.push({\n      propertyName,\n      relationship: config.key || propertyName\n    });\n\n    Reflect.defineMetadata('HasMany', annotations, target);\n  };\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1583,"body":[{"type":"ExportNamedDeclaration","start":0,"end":348,"declaration":{"type":"FunctionDeclaration","start":7,"end":348,"id":{"type":"Identifier","start":16,"end":25,"name":"BelongsTo"},"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":26,"end":37,"left":{"type":"Identifier","start":26,"end":32,"name":"config"},"right":{"type":"ObjectExpression","start":35,"end":37,"properties":[]}}],"body":{"type":"BlockStatement","start":39,"end":348,"body":[{"type":"ReturnStatement","start":45,"end":346,"argument":{"type":"ArrowFunctionExpression","start":52,"end":345,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":53,"end":59,"name":"target"},{"type":"Identifier","start":61,"end":73,"name":"propertyName"}],"body":{"type":"BlockStatement","start":78,"end":345,"body":[{"type":"VariableDeclaration","start":88,"end":155,"declarations":[{"type":"VariableDeclarator","start":94,"end":154,"id":{"type":"Identifier","start":94,"end":105,"name":"annotations"},"init":{"type":"LogicalExpression","start":108,"end":154,"left":{"type":"CallExpression","start":108,"end":148,"callee":{"type":"MemberExpression","start":108,"end":127,"object":{"type":"Identifier","start":108,"end":115,"name":"Reflect"},"property":{"type":"Identifier","start":116,"end":127,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":128,"end":139,"value":"BelongsTo","raw":"'BelongsTo'"},{"type":"Identifier","start":141,"end":147,"name":"target"}],"optional":false},"operator":"||","right":{"type":"ArrayExpression","start":152,"end":154,"elements":[]}}}],"kind":"const"},{"type":"ExpressionStatement","start":164,"end":273,"expression":{"type":"CallExpression","start":164,"end":272,"callee":{"type":"MemberExpression","start":164,"end":180,"object":{"type":"Identifier","start":164,"end":175,"name":"annotations"},"property":{"type":"Identifier","start":176,"end":180,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":181,"end":271,"properties":[{"type":"Property","start":195,"end":207,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":195,"end":207,"name":"propertyName"},"kind":"init","value":{"type":"Identifier","start":195,"end":207,"name":"propertyName"}},{"type":"Property","start":221,"end":261,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":221,"end":233,"name":"relationship"},"value":{"type":"LogicalExpression","start":235,"end":261,"left":{"type":"MemberExpression","start":235,"end":245,"object":{"type":"Identifier","start":235,"end":241,"name":"config"},"property":{"type":"Identifier","start":242,"end":245,"name":"key"},"computed":false,"optional":false},"operator":"||","right":{"type":"Identifier","start":249,"end":261,"name":"propertyName"}},"kind":"init"}]}],"optional":false}},{"type":"ExpressionStatement","start":282,"end":339,"expression":{"type":"CallExpression","start":282,"end":338,"callee":{"type":"MemberExpression","start":282,"end":304,"object":{"type":"Identifier","start":282,"end":289,"name":"Reflect"},"property":{"type":"Identifier","start":290,"end":304,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":305,"end":316,"value":"BelongsTo","raw":"'BelongsTo'"},{"type":"Identifier","start":318,"end":329,"name":"annotations"},{"type":"Identifier","start":331,"end":337,"name":"target"}],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVsb25ncy10by5kZWNvcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9kZWNvcmF0b3JzL2JlbG9uZ3MtdG8uZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxTQUFTLENBQUMsU0FBYyxFQUFFO0lBQ3hDLE9BQU8sQ0FBQyxNQUFXLEVBQUUsWUFBNkIsRUFBRSxFQUFFO1FBQ3BELE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUVuRSxXQUFXLENBQUMsSUFBSSxDQUFDO1lBQ2YsWUFBWTtZQUNaLFlBQVksRUFBRSxNQUFNLENBQUMsR0FBRyxJQUFJLFlBQVk7U0FDekMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxDQUFDLGNBQWMsQ0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gQmVsb25nc1RvKGNvbmZpZzogYW55ID0ge30pIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcgfCBzeW1ib2wpID0+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0JlbG9uZ3NUbycsIHRhcmdldCkgfHwgW107XG5cbiAgICBhbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgIHByb3BlcnR5TmFtZSxcbiAgICAgIHJlbGF0aW9uc2hpcDogY29uZmlnLmtleSB8fCBwcm9wZXJ0eU5hbWVcbiAgICB9KTtcblxuICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0JlbG9uZ3NUbycsIGFubm90YXRpb25zLCB0YXJnZXQpO1xuICB9O1xufVxuIl19","start":349,"end":1583}]},"code":"export function BelongsTo(config = {}) {\n    return (target, propertyName) => {\n        const annotations = Reflect.getMetadata('BelongsTo', target) || [];\n        annotations.push({\n            propertyName,\n            relationship: config.key || propertyName\n        });\n        Reflect.defineMetadata('BelongsTo', annotations, target);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVsb25ncy10by5kZWNvcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9kZWNvcmF0b3JzL2JlbG9uZ3MtdG8uZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxTQUFTLENBQUMsU0FBYyxFQUFFO0lBQ3hDLE9BQU8sQ0FBQyxNQUFXLEVBQUUsWUFBNkIsRUFBRSxFQUFFO1FBQ3BELE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUVuRSxXQUFXLENBQUMsSUFBSSxDQUFDO1lBQ2YsWUFBWTtZQUNaLFlBQVksRUFBRSxNQUFNLENBQUMsR0FBRyxJQUFJLFlBQVk7U0FDekMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxDQUFDLGNBQWMsQ0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gQmVsb25nc1RvKGNvbmZpZzogYW55ID0ge30pIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcgfCBzeW1ib2wpID0+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0JlbG9uZ3NUbycsIHRhcmdldCkgfHwgW107XG5cbiAgICBhbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgIHByb3BlcnR5TmFtZSxcbiAgICAgIHJlbGF0aW9uc2hpcDogY29uZmlnLmtleSB8fCBwcm9wZXJ0eU5hbWVcbiAgICB9KTtcblxuICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0JlbG9uZ3NUbycsIGFubm90YXRpb25zLCB0YXJnZXQpO1xuICB9O1xufVxuIl19","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/belongs-to.decorator.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export function BelongsTo(config = {}) {\n    return (target, propertyName) => {\n        const annotations = Reflect.getMetadata('BelongsTo', target) || [];\n        annotations.push({\n            propertyName,\n            relationship: config.key || propertyName\n        });\n        Reflect.defineMetadata('BelongsTo', annotations, target);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVsb25ncy10by5kZWNvcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9kZWNvcmF0b3JzL2JlbG9uZ3MtdG8uZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxTQUFTLENBQUMsU0FBYyxFQUFFO0lBQ3hDLE9BQU8sQ0FBQyxNQUFXLEVBQUUsWUFBNkIsRUFBRSxFQUFFO1FBQ3BELE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUVuRSxXQUFXLENBQUMsSUFBSSxDQUFDO1lBQ2YsWUFBWTtZQUNaLFlBQVksRUFBRSxNQUFNLENBQUMsR0FBRyxJQUFJLFlBQVk7U0FDekMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxDQUFDLGNBQWMsQ0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gQmVsb25nc1RvKGNvbmZpZzogYW55ID0ge30pIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcgfCBzeW1ib2wpID0+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0JlbG9uZ3NUbycsIHRhcmdldCkgfHwgW107XG5cbiAgICBhbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgIHByb3BlcnR5TmFtZSxcbiAgICAgIHJlbGF0aW9uc2hpcDogY29uZmlnLmtleSB8fCBwcm9wZXJ0eU5hbWVcbiAgICB9KTtcblxuICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0JlbG9uZ3NUbycsIGFubm90YXRpb25zLCB0YXJnZXQpO1xuICB9O1xufVxuIl19","originalSourcemap":{"version":3,"file":"belongs-to.decorator.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/decorators/belongs-to.decorator.ts"],"names":[],"mappings":[[[0,0,0,0],[6,0,0,6],[16,0,0,16],[25,0,0,25],[26,0,0,26],[35,0,0,40],[37,0,0,42]],[[4,0,1,2],[11,0,1,9],[12,0,1,10],[18,0,1,21],[20,0,1,23],[32,0,1,52],[34,0,1,54],[36,0,1,56]],[[8,0,2,4],[14,0,2,10],[25,0,2,21],[28,0,2,24],[35,0,2,31],[36,0,2,32],[47,0,2,43],[48,0,2,44],[59,0,2,55],[61,0,2,57],[67,0,2,63],[68,0,2,64],[72,0,2,68],[74,0,2,70],[75,0,2,71]],[[8,0,4,4],[19,0,4,15],[20,0,4,16],[24,0,4,20],[25,0,4,21]],[[12,0,5,6],[24,0,5,18]],[[12,0,6,6],[24,0,6,18],[26,0,6,20],[32,0,6,26],[33,0,6,27],[36,0,6,30],[40,0,6,34],[52,0,6,46]],[[9,0,7,5],[10,0,7,6],[11,0,7,7]],[[8,0,9,4],[15,0,9,11],[16,0,9,12],[30,0,9,26],[31,0,9,27],[42,0,9,38],[44,0,9,40],[55,0,9,51],[57,0,9,53],[63,0,9,59],[64,0,9,60],[65,0,9,61]],[[4,0,10,2],[5,0,10,3],[6,0,10,4]],[[0,0,11,0],[1,0,11,1]]],"sourcesContent":["export function BelongsTo(config: any = {}) {\n  return (target: any, propertyName: string | symbol) => {\n    const annotations = Reflect.getMetadata('BelongsTo', target) || [];\n\n    annotations.push({\n      propertyName,\n      relationship: config.key || propertyName\n    });\n\n    Reflect.defineMetadata('BelongsTo', annotations, target);\n  };\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":630,"body":[{"type":"ExportNamedDeclaration","start":42,"end":103,"declaration":{"type":"VariableDeclaration","start":49,"end":103,"declarations":[{"type":"VariableDeclarator","start":55,"end":102,"id":{"type":"Identifier","start":55,"end":72,"name":"AttributeMetadata"},"init":{"type":"CallExpression","start":75,"end":102,"callee":{"type":"Identifier","start":75,"end":81,"name":"Symbol"},"arguments":[{"type":"Literal","start":82,"end":101,"value":"AttributeMetadata","raw":"'AttributeMetadata'"}],"optional":false}}],"kind":"const"},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ltYm9scy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2NvbnN0YW50cy9zeW1ib2xzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHlDQUF5QztBQUN6QyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXG5leHBvcnQgY29uc3QgQXR0cmlidXRlTWV0YWRhdGEgPSBTeW1ib2woJ0F0dHJpYnV0ZU1ldGFkYXRhJykgYXMgYW55O1xuIl19","start":104,"end":630}]},"code":"// tslint:disable-next-line:variable-name\nexport const AttributeMetadata = Symbol('AttributeMetadata');\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ltYm9scy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2NvbnN0YW50cy9zeW1ib2xzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHlDQUF5QztBQUN6QyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXG5leHBvcnQgY29uc3QgQXR0cmlidXRlTWV0YWRhdGEgPSBTeW1ib2woJ0F0dHJpYnV0ZU1ldGFkYXRhJykgYXMgYW55O1xuIl19","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/constants/symbols.mjs","meta":{},"moduleSideEffects":true,"originalCode":"// tslint:disable-next-line:variable-name\nexport const AttributeMetadata = Symbol('AttributeMetadata');\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ltYm9scy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2NvbnN0YW50cy9zeW1ib2xzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHlDQUF5QztBQUN6QyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXG5leHBvcnQgY29uc3QgQXR0cmlidXRlTWV0YWRhdGEgPSBTeW1ib2woJ0F0dHJpYnV0ZU1ldGFkYXRhJykgYXMgYW55O1xuIl19","originalSourcemap":{"version":3,"file":"symbols.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/constants/symbols.ts"],"names":[],"mappings":[[[0,0,0,0],[41,0,0,41]],[[0,0,1,0],[6,0,1,6],[7,0,1,7],[13,0,1,13],[30,0,1,30],[33,0,1,33],[39,0,1,39],[40,0,1,40],[59,0,1,59],[60,0,1,67],[61,0,1,68]]],"sourcesContent":["// tslint:disable-next-line:variable-name\nexport const AttributeMetadata = Symbol('AttributeMetadata') as any;\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1691,"body":[{"type":"ImportDeclaration","start":0,"end":36,"specifiers":[{"type":"ImportSpecifier","start":9,"end":17,"imported":{"type":"Identifier","start":9,"end":17,"name":"parseISO"},"local":{"type":"Identifier","start":9,"end":17,"name":"parseISO"}}],"source":{"type":"Literal","start":25,"end":35,"value":"date-fns","raw":"'date-fns'"}},{"type":"ExportNamedDeclaration","start":37,"end":356,"declaration":{"type":"ClassDeclaration","start":44,"end":356,"id":{"type":"Identifier","start":50,"end":63,"name":"DateConverter"},"superClass":null,"body":{"type":"ClassBody","start":64,"end":356,"body":[{"type":"MethodDefinition","start":70,"end":227,"static":false,"computed":false,"key":{"type":"Identifier","start":70,"end":74,"name":"mask"},"kind":"method","value":{"type":"FunctionExpression","start":74,"end":227,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":75,"end":80,"name":"value"}],"body":{"type":"BlockStatement","start":82,"end":227,"body":[{"type":"IfStatement","start":92,"end":221,"test":{"type":"BinaryExpression","start":96,"end":121,"left":{"type":"UnaryExpression","start":96,"end":108,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":103,"end":108,"name":"value"}},"operator":"===","right":{"type":"Literal","start":113,"end":121,"value":"string","raw":"'string'"}},"consequent":{"type":"BlockStatement","start":123,"end":170,"body":[{"type":"ReturnStatement","start":137,"end":160,"argument":{"type":"CallExpression","start":144,"end":159,"callee":{"type":"Identifier","start":144,"end":152,"name":"parseISO"},"arguments":[{"type":"Identifier","start":153,"end":158,"name":"value"}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":184,"end":221,"body":[{"type":"ReturnStatement","start":198,"end":211,"argument":{"type":"Identifier","start":205,"end":210,"name":"value"}}]}}]}}},{"type":"MethodDefinition","start":232,"end":354,"static":false,"computed":false,"key":{"type":"Identifier","start":232,"end":238,"name":"unmask"},"kind":"method","value":{"type":"FunctionExpression","start":238,"end":354,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":239,"end":244,"name":"value"}],"body":{"type":"BlockStatement","start":246,"end":354,"body":[{"type":"IfStatement","start":256,"end":312,"test":{"type":"BinaryExpression","start":260,"end":274,"left":{"type":"Identifier","start":260,"end":265,"name":"value"},"operator":"===","right":{"type":"Literal","start":270,"end":274,"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":276,"end":312,"body":[{"type":"ReturnStatement","start":290,"end":302,"argument":{"type":"Literal","start":297,"end":301,"value":null,"raw":"null"}}]},"alternate":null},{"type":"ReturnStatement","start":321,"end":348,"argument":{"type":"CallExpression","start":328,"end":347,"callee":{"type":"MemberExpression","start":328,"end":345,"object":{"type":"Identifier","start":328,"end":333,"name":"value"},"property":{"type":"Identifier","start":334,"end":345,"name":"toISOString"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS5jb252ZXJ0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9jb252ZXJ0ZXJzL2RhdGUvZGF0ZS5jb252ZXJ0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUdwQyxNQUFNLE9BQU8sYUFBYTtJQUN4QixJQUFJLENBQUMsS0FBVTtRQUNiLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQzdCLE9BQU8sUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3hCO2FBQU07WUFDTCxPQUFPLEtBQUssQ0FBQztTQUNkO0lBQ0gsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFVO1FBQ2YsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFO1lBQ2xCLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFDRCxPQUFPLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUM3QixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUlTTyB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7IFByb3BlcnR5Q29udmVydGVyIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9wcm9wZXJ0eS1jb252ZXJ0ZXIuaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIERhdGVDb252ZXJ0ZXIgaW1wbGVtZW50cyBQcm9wZXJ0eUNvbnZlcnRlciB7XG4gIG1hc2sodmFsdWU6IGFueSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gcGFyc2VJU08odmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgdW5tYXNrKHZhbHVlOiBhbnkpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgfVxufVxuIl19","start":357,"end":1691}]},"code":"import { parseISO } from 'date-fns';\nexport class DateConverter {\n    mask(value) {\n        if (typeof value === 'string') {\n            return parseISO(value);\n        }\n        else {\n            return value;\n        }\n    }\n    unmask(value) {\n        if (value === null) {\n            return null;\n        }\n        return value.toISOString();\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS5jb252ZXJ0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9jb252ZXJ0ZXJzL2RhdGUvZGF0ZS5jb252ZXJ0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUdwQyxNQUFNLE9BQU8sYUFBYTtJQUN4QixJQUFJLENBQUMsS0FBVTtRQUNiLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQzdCLE9BQU8sUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3hCO2FBQU07WUFDTCxPQUFPLEtBQUssQ0FBQztTQUNkO0lBQ0gsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFVO1FBQ2YsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFO1lBQ2xCLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFDRCxPQUFPLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUM3QixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUlTTyB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7IFByb3BlcnR5Q29udmVydGVyIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9wcm9wZXJ0eS1jb252ZXJ0ZXIuaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIERhdGVDb252ZXJ0ZXIgaW1wbGVtZW50cyBQcm9wZXJ0eUNvbnZlcnRlciB7XG4gIG1hc2sodmFsdWU6IGFueSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gcGFyc2VJU08odmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgdW5tYXNrKHZhbHVlOiBhbnkpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgfVxufVxuIl19","customTransformCache":false,"dependencies":["date-fns"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/converters/date/date.converter.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { parseISO } from 'date-fns';\nexport class DateConverter {\n    mask(value) {\n        if (typeof value === 'string') {\n            return parseISO(value);\n        }\n        else {\n            return value;\n        }\n    }\n    unmask(value) {\n        if (value === null) {\n            return null;\n        }\n        return value.toISOString();\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS5jb252ZXJ0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9jb252ZXJ0ZXJzL2RhdGUvZGF0ZS5jb252ZXJ0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUdwQyxNQUFNLE9BQU8sYUFBYTtJQUN4QixJQUFJLENBQUMsS0FBVTtRQUNiLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQzdCLE9BQU8sUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3hCO2FBQU07WUFDTCxPQUFPLEtBQUssQ0FBQztTQUNkO0lBQ0gsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFVO1FBQ2YsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFO1lBQ2xCLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFDRCxPQUFPLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUM3QixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUlTTyB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7IFByb3BlcnR5Q29udmVydGVyIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9wcm9wZXJ0eS1jb252ZXJ0ZXIuaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIERhdGVDb252ZXJ0ZXIgaW1wbGVtZW50cyBQcm9wZXJ0eUNvbnZlcnRlciB7XG4gIG1hc2sodmFsdWU6IGFueSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gcGFyc2VJU08odmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgdW5tYXNrKHZhbHVlOiBhbnkpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgfVxufVxuIl19","originalSourcemap":{"version":3,"file":"date.converter.js","sourceRoot":"","sources":["../../../../../projects/angular2-jsonapi/src/converters/date/date.converter.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[35,0,0,35],[36,0,0,36]],[[0,0,3,0],[6,0,3,6],[13,0,3,13],[26,0,3,26]],[[4,0,4,2],[8,0,4,6],[9,0,4,7],[14,0,4,17]],[[8,0,5,4],[12,0,5,8],[19,0,5,15],[24,0,5,20],[29,0,5,25],[37,0,5,33],[39,0,5,35]],[[12,0,6,6],[19,0,6,13],[27,0,6,21],[28,0,6,22],[33,0,6,27],[34,0,6,28],[35,0,6,29]],[[9,0,7,5]],[[13,0,7,11]],[[12,0,8,6],[19,0,8,13],[24,0,8,18],[25,0,8,19]],[[9,0,9,5]],[[4,0,10,2],[5,0,10,3]],[[4,0,12,2],[10,0,12,8],[11,0,12,9],[16,0,12,19]],[[8,0,13,4],[12,0,13,8],[17,0,13,13],[22,0,13,18],[26,0,13,22],[28,0,13,24]],[[12,0,14,6],[19,0,14,13],[23,0,14,17],[24,0,14,18]],[[9,0,15,5]],[[8,0,16,4],[15,0,16,11],[20,0,16,16],[21,0,16,17],[32,0,16,28],[34,0,16,30],[35,0,16,31]],[[4,0,17,2],[5,0,17,3]],[[1,0,18,1]]],"sourcesContent":["import { parseISO } from 'date-fns';\nimport { PropertyConverter } from '../../interfaces/property-converter.interface';\n\nexport class DateConverter implements PropertyConverter {\n  mask(value: any) {\n    if (typeof value === 'string') {\n      return parseISO(value);\n    } else {\n      return value;\n    }\n  }\n\n  unmask(value: any) {\n    if (value === null) {\n      return null;\n    }\n    return value.toISOString();\n  }\n}\n"]},"resolvedIds":{"date-fns":{"external":true,"id":"date-fns","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":11548,"body":[{"type":"ImportDeclaration","start":0,"end":57,"specifiers":[{"type":"ImportSpecifier","start":9,"end":26,"imported":{"type":"Identifier","start":9,"end":26,"name":"AttributeMetadata"},"local":{"type":"Identifier","start":9,"end":26,"name":"AttributeMetadata"}}],"source":{"type":"Literal","start":34,"end":56,"value":"../constants/symbols","raw":"'../constants/symbols'"}},{"type":"ImportDeclaration","start":58,"end":124,"specifiers":[{"type":"ImportSpecifier","start":67,"end":80,"imported":{"type":"Identifier","start":67,"end":80,"name":"DateConverter"},"local":{"type":"Identifier","start":67,"end":80,"name":"DateConverter"}}],"source":{"type":"Literal","start":88,"end":123,"value":"../converters/date/date.converter","raw":"'../converters/date/date.converter'"}},{"type":"ImportDeclaration","start":125,"end":153,"specifiers":[{"type":"ImportNamespaceSpecifier","start":132,"end":138,"local":{"type":"Identifier","start":137,"end":138,"name":"_"}}],"source":{"type":"Literal","start":144,"end":152,"value":"lodash","raw":"'lodash'"}},{"type":"ExportNamedDeclaration","start":154,"end":3361,"declaration":{"type":"FunctionDeclaration","start":161,"end":3361,"id":{"type":"Identifier","start":170,"end":179,"name":"Attribute"},"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":180,"end":192,"left":{"type":"Identifier","start":180,"end":187,"name":"options"},"right":{"type":"ObjectExpression","start":190,"end":192,"properties":[]}}],"body":{"type":"BlockStatement","start":194,"end":3361,"body":[{"type":"ReturnStatement","start":200,"end":3359,"argument":{"type":"ArrowFunctionExpression","start":207,"end":3358,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":208,"end":214,"name":"target"},{"type":"Identifier","start":216,"end":228,"name":"propertyName"}],"body":{"type":"BlockStatement","start":233,"end":3358,"body":[{"type":"VariableDeclaration","start":243,"end":1002,"declarations":[{"type":"VariableDeclarator","start":249,"end":1001,"id":{"type":"Identifier","start":249,"end":258,"name":"converter"},"init":{"type":"ArrowFunctionExpression","start":261,"end":1001,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":262,"end":270,"name":"dataType"},{"type":"Identifier","start":272,"end":277,"name":"value"},{"type":"AssignmentPattern","start":279,"end":303,"left":{"type":"Identifier","start":279,"end":295,"name":"forSerialisation"},"right":{"type":"Literal","start":298,"end":303,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":308,"end":1001,"body":[{"type":"VariableDeclaration","start":322,"end":340,"declarations":[{"type":"VariableDeclarator","start":326,"end":339,"id":{"type":"Identifier","start":326,"end":339,"name":"attrConverter"},"init":null}],"kind":"let"},{"type":"IfStatement","start":353,"end":753,"test":{"type":"MemberExpression","start":357,"end":374,"object":{"type":"Identifier","start":357,"end":364,"name":"options"},"property":{"type":"Identifier","start":365,"end":374,"name":"converter"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":376,"end":442,"body":[{"type":"ExpressionStatement","start":394,"end":428,"expression":{"type":"AssignmentExpression","start":394,"end":427,"operator":"=","left":{"type":"Identifier","start":394,"end":407,"name":"attrConverter"},"right":{"type":"MemberExpression","start":410,"end":427,"object":{"type":"Identifier","start":410,"end":417,"name":"options"},"property":{"type":"Identifier","start":418,"end":427,"name":"converter"},"computed":false,"optional":false}}}]},"alternate":{"type":"IfStatement","start":460,"end":753,"test":{"type":"BinaryExpression","start":464,"end":481,"left":{"type":"Identifier","start":464,"end":472,"name":"dataType"},"operator":"===","right":{"type":"Identifier","start":477,"end":481,"name":"Date"}},"consequent":{"type":"BlockStatement","start":483,"end":551,"body":[{"type":"ExpressionStatement","start":501,"end":537,"expression":{"type":"AssignmentExpression","start":501,"end":536,"operator":"=","left":{"type":"Identifier","start":501,"end":514,"name":"attrConverter"},"right":{"type":"NewExpression","start":517,"end":536,"callee":{"type":"Identifier","start":521,"end":534,"name":"DateConverter"},"arguments":[]}}}]},"alternate":{"type":"BlockStatement","start":569,"end":753,"body":[{"type":"VariableDeclaration","start":587,"end":619,"declarations":[{"type":"VariableDeclarator","start":593,"end":618,"id":{"type":"Identifier","start":593,"end":601,"name":"datatype"},"init":{"type":"NewExpression","start":604,"end":618,"callee":{"type":"Identifier","start":608,"end":616,"name":"dataType"},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","start":636,"end":739,"test":{"type":"LogicalExpression","start":640,"end":672,"left":{"type":"MemberExpression","start":640,"end":653,"object":{"type":"Identifier","start":640,"end":648,"name":"datatype"},"property":{"type":"Identifier","start":649,"end":653,"name":"mask"},"computed":false,"optional":false},"operator":"&&","right":{"type":"MemberExpression","start":657,"end":672,"object":{"type":"Identifier","start":657,"end":665,"name":"datatype"},"property":{"type":"Identifier","start":666,"end":672,"name":"unmask"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":674,"end":739,"body":[{"type":"ExpressionStatement","start":696,"end":721,"expression":{"type":"AssignmentExpression","start":696,"end":720,"operator":"=","left":{"type":"Identifier","start":696,"end":709,"name":"attrConverter"},"right":{"type":"Identifier","start":712,"end":720,"name":"datatype"}}}]},"alternate":null}]}}},{"type":"IfStatement","start":766,"end":965,"test":{"type":"Identifier","start":770,"end":783,"name":"attrConverter"},"consequent":{"type":"BlockStatement","start":785,"end":965,"body":[{"type":"IfStatement","start":803,"end":899,"test":{"type":"UnaryExpression","start":807,"end":824,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":808,"end":824,"name":"forSerialisation"}},"consequent":{"type":"BlockStatement","start":826,"end":899,"body":[{"type":"ReturnStatement","start":848,"end":881,"argument":{"type":"CallExpression","start":855,"end":880,"callee":{"type":"MemberExpression","start":855,"end":873,"object":{"type":"Identifier","start":855,"end":868,"name":"attrConverter"},"property":{"type":"Identifier","start":869,"end":873,"name":"mask"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":874,"end":879,"name":"value"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":916,"end":951,"argument":{"type":"CallExpression","start":923,"end":950,"callee":{"type":"MemberExpression","start":923,"end":943,"object":{"type":"Identifier","start":923,"end":936,"name":"attrConverter"},"property":{"type":"Identifier","start":937,"end":943,"name":"unmask"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":944,"end":949,"name":"value"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":978,"end":991,"argument":{"type":"Identifier","start":985,"end":990,"name":"value"}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1011,"end":1641,"declarations":[{"type":"VariableDeclarator","start":1017,"end":1640,"id":{"type":"Identifier","start":1017,"end":1032,"name":"saveAnnotations"},"init":{"type":"ArrowFunctionExpression","start":1035,"end":1640,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1041,"end":1640,"body":[{"type":"VariableDeclaration","start":1055,"end":1119,"declarations":[{"type":"VariableDeclarator","start":1061,"end":1118,"id":{"type":"Identifier","start":1061,"end":1069,"name":"metadata"},"init":{"type":"LogicalExpression","start":1072,"end":1118,"left":{"type":"CallExpression","start":1072,"end":1112,"callee":{"type":"MemberExpression","start":1072,"end":1091,"object":{"type":"Identifier","start":1072,"end":1079,"name":"Reflect"},"property":{"type":"Identifier","start":1080,"end":1091,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1092,"end":1103,"value":"Attribute","raw":"'Attribute'"},{"type":"Identifier","start":1105,"end":1111,"name":"target"}],"optional":false},"operator":"||","right":{"type":"ObjectExpression","start":1116,"end":1118,"properties":[]}}}],"kind":"const"},{"type":"ExpressionStatement","start":1132,"end":1202,"expression":{"type":"AssignmentExpression","start":1132,"end":1201,"operator":"=","left":{"type":"MemberExpression","start":1132,"end":1154,"object":{"type":"Identifier","start":1132,"end":1140,"name":"metadata"},"property":{"type":"Identifier","start":1141,"end":1153,"name":"propertyName"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":1157,"end":1201,"properties":[{"type":"Property","start":1175,"end":1187,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1175,"end":1181,"name":"marked"},"value":{"type":"Literal","start":1183,"end":1187,"value":true,"raw":"true"},"kind":"init"}]}}},{"type":"ExpressionStatement","start":1215,"end":1269,"expression":{"type":"CallExpression","start":1215,"end":1268,"callee":{"type":"MemberExpression","start":1215,"end":1237,"object":{"type":"Identifier","start":1215,"end":1222,"name":"Reflect"},"property":{"type":"Identifier","start":1223,"end":1237,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1238,"end":1249,"value":"Attribute","raw":"'Attribute'"},{"type":"Identifier","start":1251,"end":1259,"name":"metadata"},{"type":"Identifier","start":1261,"end":1267,"name":"target"}],"optional":false}},{"type":"VariableDeclaration","start":1282,"end":1360,"declarations":[{"type":"VariableDeclarator","start":1288,"end":1359,"id":{"type":"Identifier","start":1288,"end":1303,"name":"mappingMetadata"},"init":{"type":"LogicalExpression","start":1306,"end":1359,"left":{"type":"CallExpression","start":1306,"end":1353,"callee":{"type":"MemberExpression","start":1306,"end":1325,"object":{"type":"Identifier","start":1306,"end":1313,"name":"Reflect"},"property":{"type":"Identifier","start":1314,"end":1325,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1326,"end":1344,"value":"AttributeMapping","raw":"'AttributeMapping'"},{"type":"Identifier","start":1346,"end":1352,"name":"target"}],"optional":false},"operator":"||","right":{"type":"ObjectExpression","start":1357,"end":1359,"properties":[]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1373,"end":1481,"declarations":[{"type":"VariableDeclarator","start":1379,"end":1480,"id":{"type":"Identifier","start":1379,"end":1401,"name":"serializedPropertyName"},"init":{"type":"ConditionalExpression","start":1404,"end":1480,"test":{"type":"BinaryExpression","start":1404,"end":1440,"left":{"type":"MemberExpression","start":1404,"end":1426,"object":{"type":"Identifier","start":1404,"end":1411,"name":"options"},"property":{"type":"Identifier","start":1412,"end":1426,"name":"serializedName"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Identifier","start":1431,"end":1440,"name":"undefined"}},"consequent":{"type":"MemberExpression","start":1443,"end":1465,"object":{"type":"Identifier","start":1443,"end":1450,"name":"options"},"property":{"type":"Identifier","start":1451,"end":1465,"name":"serializedName"},"computed":false,"optional":false},"alternate":{"type":"Identifier","start":1468,"end":1480,"name":"propertyName"}}}],"kind":"const"},{"type":"ExpressionStatement","start":1494,"end":1549,"expression":{"type":"AssignmentExpression","start":1494,"end":1548,"operator":"=","left":{"type":"MemberExpression","start":1494,"end":1533,"object":{"type":"Identifier","start":1494,"end":1509,"name":"mappingMetadata"},"property":{"type":"Identifier","start":1510,"end":1532,"name":"serializedPropertyName"},"computed":true,"optional":false},"right":{"type":"Identifier","start":1536,"end":1548,"name":"propertyName"}}},{"type":"ExpressionStatement","start":1562,"end":1630,"expression":{"type":"CallExpression","start":1562,"end":1629,"callee":{"type":"MemberExpression","start":1562,"end":1584,"object":{"type":"Identifier","start":1562,"end":1569,"name":"Reflect"},"property":{"type":"Identifier","start":1570,"end":1584,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1585,"end":1603,"value":"AttributeMapping","raw":"'AttributeMapping'"},{"type":"Identifier","start":1605,"end":1620,"name":"mappingMetadata"},{"type":"Identifier","start":1622,"end":1628,"name":"target"}],"optional":false}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1650,"end":2271,"declarations":[{"type":"VariableDeclarator","start":1656,"end":2270,"id":{"type":"Identifier","start":1656,"end":1667,"name":"setMetadata"},"init":{"type":"ArrowFunctionExpression","start":1670,"end":2270,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1671,"end":1679,"name":"instance"},{"type":"Identifier","start":1681,"end":1689,"name":"oldValue"},{"type":"Identifier","start":1691,"end":1699,"name":"newValue"}],"body":{"type":"BlockStatement","start":1704,"end":2270,"body":[{"type":"VariableDeclaration","start":1718,"end":1794,"declarations":[{"type":"VariableDeclarator","start":1724,"end":1793,"id":{"type":"Identifier","start":1724,"end":1734,"name":"targetType"},"init":{"type":"CallExpression","start":1737,"end":1793,"callee":{"type":"MemberExpression","start":1737,"end":1756,"object":{"type":"Identifier","start":1737,"end":1744,"name":"Reflect"},"property":{"type":"Identifier","start":1745,"end":1756,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1757,"end":1770,"value":"design:type","raw":"'design:type'"},{"type":"Identifier","start":1772,"end":1778,"name":"target"},{"type":"Identifier","start":1780,"end":1792,"name":"propertyName"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1807,"end":1906,"test":{"type":"UnaryExpression","start":1811,"end":1839,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1812,"end":1839,"object":{"type":"Identifier","start":1812,"end":1820,"name":"instance"},"property":{"type":"Identifier","start":1821,"end":1838,"name":"AttributeMetadata"},"computed":true,"optional":false}},"consequent":{"type":"BlockStatement","start":1841,"end":1906,"body":[{"type":"ExpressionStatement","start":1859,"end":1892,"expression":{"type":"AssignmentExpression","start":1859,"end":1891,"operator":"=","left":{"type":"MemberExpression","start":1859,"end":1886,"object":{"type":"Identifier","start":1859,"end":1867,"name":"instance"},"property":{"type":"Identifier","start":1868,"end":1885,"name":"AttributeMetadata"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":1889,"end":1891,"properties":[]}}}]},"alternate":null},{"type":"ExpressionStatement","start":1919,"end":2260,"expression":{"type":"AssignmentExpression","start":1919,"end":2259,"operator":"=","left":{"type":"MemberExpression","start":1919,"end":1960,"object":{"type":"MemberExpression","start":1919,"end":1946,"object":{"type":"Identifier","start":1919,"end":1927,"name":"instance"},"property":{"type":"Identifier","start":1928,"end":1945,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1947,"end":1959,"name":"propertyName"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":1963,"end":2259,"properties":[{"type":"Property","start":1981,"end":1989,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1981,"end":1989,"name":"newValue"},"kind":"init","value":{"type":"Identifier","start":1981,"end":1989,"name":"newValue"}},{"type":"Property","start":2007,"end":2015,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2007,"end":2015,"name":"oldValue"},"kind":"init","value":{"type":"Identifier","start":2007,"end":2015,"name":"oldValue"}},{"type":"Property","start":2033,"end":2046,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2033,"end":2039,"name":"nested"},"value":{"type":"Literal","start":2041,"end":2046,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":2064,"end":2102,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2064,"end":2078,"name":"serializedName"},"value":{"type":"MemberExpression","start":2080,"end":2102,"object":{"type":"Identifier","start":2080,"end":2087,"name":"options"},"property":{"type":"Identifier","start":2088,"end":2102,"name":"serializedName"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":2120,"end":2170,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2120,"end":2138,"name":"hasDirtyAttributes"},"value":{"type":"UnaryExpression","start":2140,"end":2170,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":2141,"end":2170,"callee":{"type":"MemberExpression","start":2141,"end":2150,"object":{"type":"Identifier","start":2141,"end":2142,"name":"_"},"property":{"type":"Identifier","start":2143,"end":2150,"name":"isEqual"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2151,"end":2159,"name":"oldValue"},{"type":"Identifier","start":2161,"end":2169,"name":"newValue"}],"optional":false}},"kind":"init"},{"type":"Property","start":2188,"end":2245,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2188,"end":2206,"name":"serialisationValue"},"value":{"type":"CallExpression","start":2208,"end":2245,"callee":{"type":"Identifier","start":2208,"end":2217,"name":"converter"},"arguments":[{"type":"Identifier","start":2218,"end":2228,"name":"targetType"},{"type":"Identifier","start":2230,"end":2238,"name":"newValue"},{"type":"Literal","start":2240,"end":2244,"value":true,"raw":"true"}],"optional":false},"kind":"init"}]}}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":2280,"end":2364,"declarations":[{"type":"VariableDeclarator","start":2286,"end":2363,"id":{"type":"Identifier","start":2286,"end":2292,"name":"getter"},"init":{"type":"FunctionExpression","start":2295,"end":2363,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2307,"end":2363,"body":[{"type":"ReturnStatement","start":2321,"end":2353,"argument":{"type":"MemberExpression","start":2328,"end":2352,"object":{"type":"ThisExpression","start":2328,"end":2332},"property":{"type":"TemplateLiteral","start":2333,"end":2351,"expressions":[{"type":"Identifier","start":2337,"end":2349,"name":"propertyName"}],"quasis":[{"type":"TemplateElement","start":2334,"end":2335,"value":{"raw":"_","cooked":"_"},"tail":false},{"type":"TemplateElement","start":2350,"end":2350,"value":{"raw":"","cooked":""},"tail":true}]},"computed":true,"optional":false}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":2373,"end":3067,"declarations":[{"type":"VariableDeclarator","start":2379,"end":3066,"id":{"type":"Identifier","start":2379,"end":2385,"name":"setter"},"init":{"type":"FunctionExpression","start":2388,"end":3066,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2398,"end":2404,"name":"newVal"}],"body":{"type":"BlockStatement","start":2406,"end":3066,"body":[{"type":"VariableDeclaration","start":2420,"end":2496,"declarations":[{"type":"VariableDeclarator","start":2426,"end":2495,"id":{"type":"Identifier","start":2426,"end":2436,"name":"targetType"},"init":{"type":"CallExpression","start":2439,"end":2495,"callee":{"type":"MemberExpression","start":2439,"end":2458,"object":{"type":"Identifier","start":2439,"end":2446,"name":"Reflect"},"property":{"type":"Identifier","start":2447,"end":2458,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2459,"end":2472,"value":"design:type","raw":"'design:type'"},{"type":"Identifier","start":2474,"end":2480,"name":"target"},{"type":"Identifier","start":2482,"end":2494,"name":"propertyName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":2509,"end":2562,"declarations":[{"type":"VariableDeclarator","start":2515,"end":2561,"id":{"type":"Identifier","start":2515,"end":2529,"name":"convertedValue"},"init":{"type":"CallExpression","start":2532,"end":2561,"callee":{"type":"Identifier","start":2532,"end":2541,"name":"converter"},"arguments":[{"type":"Identifier","start":2542,"end":2552,"name":"targetType"},{"type":"Identifier","start":2554,"end":2560,"name":"newVal"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":2575,"end":2595,"declarations":[{"type":"VariableDeclarator","start":2579,"end":2594,"id":{"type":"Identifier","start":2579,"end":2587,"name":"oldValue"},"init":{"type":"Literal","start":2590,"end":2594,"value":null,"raw":"null"}}],"kind":"let"},{"type":"IfStatement","start":2608,"end":2944,"test":{"type":"LogicalExpression","start":2612,"end":2651,"left":{"type":"CallExpression","start":2612,"end":2640,"callee":{"type":"MemberExpression","start":2612,"end":2638,"object":{"type":"ThisExpression","start":2612,"end":2616},"property":{"type":"Identifier","start":2617,"end":2638,"name":"isModelInitialization"},"computed":false,"optional":false},"arguments":[],"optional":false},"operator":"&&","right":{"type":"MemberExpression","start":2644,"end":2651,"object":{"type":"ThisExpression","start":2644,"end":2648},"property":{"type":"Identifier","start":2649,"end":2651,"name":"id"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":2653,"end":2726,"body":[{"type":"ExpressionStatement","start":2671,"end":2712,"expression":{"type":"AssignmentExpression","start":2671,"end":2711,"operator":"=","left":{"type":"Identifier","start":2671,"end":2679,"name":"oldValue"},"right":{"type":"CallExpression","start":2682,"end":2711,"callee":{"type":"Identifier","start":2682,"end":2691,"name":"converter"},"arguments":[{"type":"Identifier","start":2692,"end":2702,"name":"targetType"},{"type":"Identifier","start":2704,"end":2710,"name":"newVal"}],"optional":false}}}]},"alternate":{"type":"BlockStatement","start":2744,"end":2944,"body":[{"type":"IfStatement","start":2762,"end":2930,"test":{"type":"LogicalExpression","start":2766,"end":2830,"left":{"type":"MemberExpression","start":2766,"end":2789,"object":{"type":"ThisExpression","start":2766,"end":2770},"property":{"type":"Identifier","start":2771,"end":2788,"name":"AttributeMetadata"},"computed":true,"optional":false},"operator":"&&","right":{"type":"MemberExpression","start":2793,"end":2830,"object":{"type":"MemberExpression","start":2793,"end":2816,"object":{"type":"ThisExpression","start":2793,"end":2797},"property":{"type":"Identifier","start":2798,"end":2815,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2817,"end":2829,"name":"propertyName"},"computed":true,"optional":false}},"consequent":{"type":"BlockStatement","start":2832,"end":2930,"body":[{"type":"ExpressionStatement","start":2854,"end":2912,"expression":{"type":"AssignmentExpression","start":2854,"end":2911,"operator":"=","left":{"type":"Identifier","start":2854,"end":2862,"name":"oldValue"},"right":{"type":"MemberExpression","start":2865,"end":2911,"object":{"type":"MemberExpression","start":2865,"end":2902,"object":{"type":"MemberExpression","start":2865,"end":2888,"object":{"type":"ThisExpression","start":2865,"end":2869},"property":{"type":"Identifier","start":2870,"end":2887,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2889,"end":2901,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2903,"end":2911,"name":"oldValue"},"computed":false,"optional":false}}}]},"alternate":null}]}},{"type":"ExpressionStatement","start":2957,"end":2999,"expression":{"type":"AssignmentExpression","start":2957,"end":2998,"operator":"=","left":{"type":"MemberExpression","start":2957,"end":2981,"object":{"type":"ThisExpression","start":2957,"end":2961},"property":{"type":"TemplateLiteral","start":2962,"end":2980,"expressions":[{"type":"Identifier","start":2966,"end":2978,"name":"propertyName"}],"quasis":[{"type":"TemplateElement","start":2963,"end":2964,"value":{"raw":"_","cooked":"_"},"tail":false},{"type":"TemplateElement","start":2979,"end":2979,"value":{"raw":"","cooked":""},"tail":true}]},"computed":true,"optional":false},"right":{"type":"Identifier","start":2984,"end":2998,"name":"convertedValue"}}},{"type":"ExpressionStatement","start":3012,"end":3056,"expression":{"type":"CallExpression","start":3012,"end":3055,"callee":{"type":"Identifier","start":3012,"end":3023,"name":"setMetadata"},"arguments":[{"type":"ThisExpression","start":3024,"end":3028},{"type":"Identifier","start":3030,"end":3038,"name":"oldValue"},{"type":"Identifier","start":3040,"end":3054,"name":"convertedValue"}],"optional":false}}]}}}],"kind":"const"},{"type":"IfStatement","start":3076,"end":3352,"test":{"type":"UnaryExpression","start":3080,"end":3107,"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":3087,"end":3107,"object":{"type":"Identifier","start":3087,"end":3093,"name":"target"},"property":{"type":"Identifier","start":3094,"end":3106,"name":"propertyName"},"computed":true,"optional":false}},"consequent":{"type":"BlockStatement","start":3109,"end":3352,"body":[{"type":"ExpressionStatement","start":3123,"end":3141,"expression":{"type":"CallExpression","start":3123,"end":3140,"callee":{"type":"Identifier","start":3123,"end":3138,"name":"saveAnnotations"},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":3154,"end":3342,"expression":{"type":"CallExpression","start":3154,"end":3341,"callee":{"type":"MemberExpression","start":3154,"end":3175,"object":{"type":"Identifier","start":3154,"end":3160,"name":"Object"},"property":{"type":"Identifier","start":3161,"end":3175,"name":"defineProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3176,"end":3182,"name":"target"},{"type":"Identifier","start":3184,"end":3196,"name":"propertyName"},{"type":"ObjectExpression","start":3198,"end":3340,"properties":[{"type":"Property","start":3216,"end":3227,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3216,"end":3219,"name":"get"},"value":{"type":"Identifier","start":3221,"end":3227,"name":"getter"},"kind":"init"},{"type":"Property","start":3245,"end":3256,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3245,"end":3248,"name":"set"},"value":{"type":"Identifier","start":3250,"end":3256,"name":"setter"},"kind":"init"},{"type":"Property","start":3274,"end":3290,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3274,"end":3284,"name":"enumerable"},"value":{"type":"Literal","start":3286,"end":3290,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":3308,"end":3326,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3308,"end":3320,"name":"configurable"},"value":{"type":"Literal","start":3322,"end":3326,"value":true,"raw":"true"},"kind":"init"}]}],"optional":false}}]},"alternate":null}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2RlY29yYXRvcnMvYXR0cmlidXRlLmRlY29yYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUV6RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDbEUsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFFNUIsTUFBTSxVQUFVLFNBQVMsQ0FBQyxVQUFxQyxFQUFFO0lBQy9ELE9BQU8sQ0FBQyxNQUFXLEVBQUUsWUFBb0IsRUFBRSxFQUFFO1FBQzNDLE1BQU0sU0FBUyxHQUFHLENBQUMsUUFBYSxFQUFFLEtBQVUsRUFBRSxnQkFBZ0IsR0FBRyxLQUFLLEVBQU8sRUFBRTtZQUM3RSxJQUFJLGFBQWEsQ0FBQztZQUVsQixJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUU7Z0JBQ3JCLGFBQWEsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO2FBQ25DO2lCQUFNLElBQUksUUFBUSxLQUFLLElBQUksRUFBRTtnQkFDNUIsYUFBYSxHQUFHLElBQUksYUFBYSxFQUFFLENBQUM7YUFDckM7aUJBQU07Z0JBQ0wsTUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQztnQkFFaEMsSUFBSSxRQUFRLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEVBQUU7b0JBQ3BDLGFBQWEsR0FBRyxRQUFRLENBQUM7aUJBQzFCO2FBQ0Y7WUFFRCxJQUFJLGFBQWEsRUFBRTtnQkFDakIsSUFBSSxDQUFDLGdCQUFnQixFQUFFO29CQUNyQixPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ2xDO2dCQUNELE9BQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMs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QWUsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRTtnQkFDMUMsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZU1ldGFkYXRhIH0gZnJvbSAnLi4vY29uc3RhbnRzL3N5bWJvbHMnO1xuaW1wb3J0IHsgQXR0cmlidXRlRGVjb3JhdG9yT3B0aW9ucyB9IGZyb20gJy4uL2ludGVyZmFjZXMvYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZSc7XG5pbXBvcnQgeyBEYXRlQ29udmVydGVyIH0gZnJvbSAnLi4vY29udmVydGVycy9kYXRlL2RhdGUuY29udmVydGVyJztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGZ1bmN0aW9uIEF0dHJpYnV0ZShvcHRpb25zOiBBdHRyaWJ1dGVEZWNvcmF0b3JPcHRpb25zID0ge30pOiBQcm9wZXJ0eURlY29yYXRvciB7XG4gIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5TmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY29udmVydGVyID0gKGRhdGFUeXBlOiBhbnksIHZhbHVlOiBhbnksIGZvclNlcmlhbGlzYXRpb24gPSBmYWxzZSk6IGFueSA9PiB7XG4gICAgICBsZXQgYXR0ckNvbnZlcnRlcjtcblxuICAgICAgaWYgKG9wdGlvbnMuY29udmVydGVyKSB7XG4gICAgICAgIGF0dHJDb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09IERhdGUpIHtcbiAgICAgICAgYXR0ckNvbnZlcnRlciA9IG5ldyBEYXRlQ29udmVydGVyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkYXRhdHlwZSA9IG5ldyBkYXRhVHlwZSgpO1xuXG4gICAgICAgIGlmIChkYXRhdHlwZS5tYXNrICYmIGRhdGF0eXBlLnVubWFzaykge1xuICAgICAgICAgIGF0dHJDb252ZXJ0ZXIgPSBkYXRhdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0ckNvbnZlcnRlcikge1xuICAgICAgICBpZiAoIWZvclNlcmlhbGlzYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci5tYXNrKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci51bm1hc2sodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGNvbnN0IHNhdmVBbm5vdGF0aW9ucyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlJywgdGFyZ2V0KSB8fCB7fTtcblxuICAgICAgbWV0YWRhdGFbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgbWFya2VkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdBdHRyaWJ1dGUnLCBtZXRhZGF0YSwgdGFyZ2V0KTtcblxuICAgICAgY29uc3QgbWFwcGluZ01ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlTWFwcGluZycsIHRhcmdldCkgfHwge307XG4gICAgICBjb25zdCBzZXJpYWxpemVkUHJvcGVydHlOYW1lID0gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSA6IHByb3BlcnR5TmFtZTtcbiAgICAgIG1hcHBpbmdNZXRhZGF0YVtzZXJpYWxpemVkUHJvcGVydHlOYW1lXSA9IHByb3BlcnR5TmFtZTtcbiAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0F0dHJpYnV0ZU1hcHBpbmcnLCBtYXBwaW5nTWV0YWRhdGEsIHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldE1ldGFkYXRhID0gKFxuICAgICAgaW5zdGFuY2U6IGFueSxcbiAgICAgIG9sZFZhbHVlOiBhbnksXG4gICAgICBuZXdWYWx1ZTogYW55XG4gICAgKSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXRUeXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIHByb3BlcnR5TmFtZSk7XG5cbiAgICAgIGlmICghaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdKSB7XG4gICAgICAgIGluc3RhbmNlW0F0dHJpYnV0ZU1ldGFkYXRhXSA9IHt9O1xuICAgICAgfVxuICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0gPSB7XG4gICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgbmVzdGVkOiBmYWxzZSxcbiAgICAgICAgc2VyaWFsaXplZE5hbWU6IG9wdGlvbnMuc2VyaWFsaXplZE5hbWUsXG4gICAgICAgIGhhc0RpcnR5QXR0cmlidXRlczogIV8uaXNFcXVhbChvbGRWYWx1ZSwgbmV3VmFsdWUpLFxuICAgICAgICBzZXJpYWxpc2F0aW9uVmFsdWU6IGNvbnZlcnRlcih0YXJnZXRUeXBlLCBuZXdWYWx1ZSwgdHJ1ZSlcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IGdldHRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXNbYF8ke3Byb3BlcnR5TmFtZX1gXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0dGVyID0gZnVuY3Rpb24obmV3VmFsOiBhbnkpIHtcbiAgICAgIGNvbnN0IHRhcmdldFR5cGUgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdkZXNpZ246dHlwZScsIHRhcmdldCwgcHJvcGVydHlOYW1lKTtcbiAgICAgIGNvbnN0IGNvbnZlcnRlZFZhbHVlID0gY29udmVydGVyKHRhcmdldFR5cGUsIG5ld1ZhbCk7XG4gICAgICBsZXQgb2xkVmFsdWUgPSBudWxsO1xuICAgICAgaWYgKHRoaXMuaXNNb2RlbEluaXRpYWxpemF0aW9uKCkgJiYgdGhpcy5pZCkge1xuICAgICAgICBvbGRWYWx1ZSA9IGNvbnZlcnRlcih0YXJnZXRUeXBlLCBuZXdWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdICYmIHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgICAgICBvbGRWYWx1ZSA9IHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0ub2xkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpc1tgXyR7cHJvcGVydHlOYW1lfWBdID0gY29udmVydGVkVmFsdWU7XG4gICAgICBzZXRNZXRhZGF0YSh0aGlzLCBvbGRWYWx1ZSwgY29udmVydGVkVmFsdWUpO1xuICAgIH07XG5cbiAgICBpZiAoZGVsZXRlIHRhcmdldFtwcm9wZXJ0eU5hbWVdKSB7XG4gICAgICBzYXZlQW5ub3RhdGlvbnMoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICBnZXQ6IGdldHRlcixcbiAgICAgICAgc2V0OiBzZXR0ZXIsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuIl19","start":3362,"end":11548}]},"code":"import { AttributeMetadata } from '../constants/symbols';\nimport { DateConverter } from '../converters/date/date.converter';\nimport * as _ from 'lodash';\nexport function Attribute(options = {}) {\n    return (target, propertyName) => {\n        const converter = (dataType, value, forSerialisation = false) => {\n            let attrConverter;\n            if (options.converter) {\n                attrConverter = options.converter;\n            }\n            else if (dataType === Date) {\n                attrConverter = new DateConverter();\n            }\n            else {\n                const datatype = new dataType();\n                if (datatype.mask && datatype.unmask) {\n                    attrConverter = datatype;\n                }\n            }\n            if (attrConverter) {\n                if (!forSerialisation) {\n                    return attrConverter.mask(value);\n                }\n                return attrConverter.unmask(value);\n            }\n            return value;\n        };\n        const saveAnnotations = () => {\n            const metadata = Reflect.getMetadata('Attribute', target) || {};\n            metadata[propertyName] = {\n                marked: true\n            };\n            Reflect.defineMetadata('Attribute', metadata, target);\n            const mappingMetadata = Reflect.getMetadata('AttributeMapping', target) || {};\n            const serializedPropertyName = options.serializedName !== undefined ? options.serializedName : propertyName;\n            mappingMetadata[serializedPropertyName] = propertyName;\n            Reflect.defineMetadata('AttributeMapping', mappingMetadata, target);\n        };\n        const setMetadata = (instance, oldValue, newValue) => {\n            const targetType = Reflect.getMetadata('design:type', target, propertyName);\n            if (!instance[AttributeMetadata]) {\n                instance[AttributeMetadata] = {};\n            }\n            instance[AttributeMetadata][propertyName] = {\n                newValue,\n                oldValue,\n                nested: false,\n                serializedName: options.serializedName,\n                hasDirtyAttributes: !_.isEqual(oldValue, newValue),\n                serialisationValue: converter(targetType, newValue, true)\n            };\n        };\n        const getter = function () {\n            return this[`_${propertyName}`];\n        };\n        const setter = function (newVal) {\n            const targetType = Reflect.getMetadata('design:type', target, propertyName);\n            const convertedValue = converter(targetType, newVal);\n            let oldValue = null;\n            if (this.isModelInitialization() && this.id) {\n                oldValue = converter(targetType, newVal);\n            }\n            else {\n                if (this[AttributeMetadata] && this[AttributeMetadata][propertyName]) {\n                    oldValue = this[AttributeMetadata][propertyName].oldValue;\n                }\n            }\n            this[`_${propertyName}`] = convertedValue;\n            setMetadata(this, oldValue, convertedValue);\n        };\n        if (delete target[propertyName]) {\n            saveAnnotations();\n            Object.defineProperty(target, propertyName, {\n                get: getter,\n                set: setter,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2RlY29yYXRvcnMvYXR0cmlidXRlLmRlY29yYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUV6RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDbEUsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFFNUIsTUFBTSxVQUFVLFNBQVMsQ0FBQyxVQUFxQyxFQUFFO0lBQy9ELE9BQU8sQ0FBQyxNQUFXLEVBQUUsWUFBb0IsRUFBRSxFQUFFO1FBQzNDLE1BQU0sU0FBUyxHQUFHLENBQUMsUUFBYSxFQUFFLEtBQVUsRUFBRSxnQkFBZ0IsR0FBRyxLQUFLLEVBQU8sRUFBRTtZQUM3RSxJQUFJLGFBQWEsQ0FBQztZQUVsQixJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUU7Z0JBQ3JCLGFBQWEsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO2FBQ25DO2lCQUFNLElBQUksUUFBUSxLQUFLLElBQUksRUFBRTtnQkFDNUIsYUFBYSxHQUFHLElBQUksYUFBYSxFQUFFLENBQUM7YUFDckM7aUJBQU07Z0JBQ0wsTUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQztnQkFFaEMsSUFBSSxRQUFRLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEVBQUU7b0JBQ3BDLGFBQWEsR0FBRyxRQUFRLENBQUM7aUJBQzFCO2FBQ0Y7WUFFRCxJQUFJLGFBQWEsRUFBRTtnQkFDakIsSUFBSSxDQUFDLGdCQUFnQixFQUFFO29CQUNyQixPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ2xDO2dCQUNELE9BQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMs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QWUsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRTtnQkFDMUMsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZU1ldGFkYXRhIH0gZnJvbSAnLi4vY29uc3RhbnRzL3N5bWJvbHMnO1xuaW1wb3J0IHsgQXR0cmlidXRlRGVjb3JhdG9yT3B0aW9ucyB9IGZyb20gJy4uL2ludGVyZmFjZXMvYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZSc7XG5pbXBvcnQgeyBEYXRlQ29udmVydGVyIH0gZnJvbSAnLi4vY29udmVydGVycy9kYXRlL2RhdGUuY29udmVydGVyJztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGZ1bmN0aW9uIEF0dHJpYnV0ZShvcHRpb25zOiBBdHRyaWJ1dGVEZWNvcmF0b3JPcHRpb25zID0ge30pOiBQcm9wZXJ0eURlY29yYXRvciB7XG4gIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5TmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY29udmVydGVyID0gKGRhdGFUeXBlOiBhbnksIHZhbHVlOiBhbnksIGZvclNlcmlhbGlzYXRpb24gPSBmYWxzZSk6IGFueSA9PiB7XG4gICAgICBsZXQgYXR0ckNvbnZlcnRlcjtcblxuICAgICAgaWYgKG9wdGlvbnMuY29udmVydGVyKSB7XG4gICAgICAgIGF0dHJDb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09IERhdGUpIHtcbiAgICAgICAgYXR0ckNvbnZlcnRlciA9IG5ldyBEYXRlQ29udmVydGVyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkYXRhdHlwZSA9IG5ldyBkYXRhVHlwZSgpO1xuXG4gICAgICAgIGlmIChkYXRhdHlwZS5tYXNrICYmIGRhdGF0eXBlLnVubWFzaykge1xuICAgICAgICAgIGF0dHJDb252ZXJ0ZXIgPSBkYXRhdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0ckNvbnZlcnRlcikge1xuICAgICAgICBpZiAoIWZvclNlcmlhbGlzYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci5tYXNrKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci51bm1hc2sodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGNvbnN0IHNhdmVBbm5vdGF0aW9ucyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlJywgdGFyZ2V0KSB8fCB7fTtcblxuICAgICAgbWV0YWRhdGFbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgbWFya2VkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdBdHRyaWJ1dGUnLCBtZXRhZGF0YSwgdGFyZ2V0KTtcblxuICAgICAgY29uc3QgbWFwcGluZ01ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlTWFwcGluZycsIHRhcmdldCkgfHwge307XG4gICAgICBjb25zdCBzZXJpYWxpemVkUHJvcGVydHlOYW1lID0gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSA6IHByb3BlcnR5TmFtZTtcbiAgICAgIG1hcHBpbmdNZXRhZGF0YVtzZXJpYWxpemVkUHJvcGVydHlOYW1lXSA9IHByb3BlcnR5TmFtZTtcbiAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0F0dHJpYnV0ZU1hcHBpbmcnLCBtYXBwaW5nTWV0YWRhdGEsIHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldE1ldGFkYXRhID0gKFxuICAgICAgaW5zdGFuY2U6IGFueSxcbiAgICAgIG9sZFZhbHVlOiBhbnksXG4gICAgICBuZXdWYWx1ZTogYW55XG4gICAgKSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXRUeXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIHByb3BlcnR5TmFtZSk7XG5cbiAgICAgIGlmICghaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdKSB7XG4gICAgICAgIGluc3RhbmNlW0F0dHJpYnV0ZU1ldGFkYXRhXSA9IHt9O1xuICAgICAgfVxuICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0gPSB7XG4gICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgbmVzdGVkOiBmYWxzZSxcbiAgICAgICAgc2VyaWFsaXplZE5hbWU6IG9wdGlvbnMuc2VyaWFsaXplZE5hbWUsXG4gICAgICAgIGhhc0RpcnR5QXR0cmlidXRlczogIV8uaXNFcXVhbChvbGRWYWx1ZSwgbmV3VmFsdWUpLFxuICAgICAgICBzZXJpYWxpc2F0aW9uVmFsdWU6IGNvbnZlcnRlcih0YXJnZXRUeXBlLCBuZXdWYWx1ZSwgdHJ1ZSlcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IGdldHRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXNbYF8ke3Byb3BlcnR5TmFtZX1gXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0dGVyID0gZnVuY3Rpb24obmV3VmFsOiBhbnkpIHtcbiAgICAgIGNvbnN0IHRhcmdldFR5cGUgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdkZXNpZ246dHlwZScsIHRhcmdldCwgcHJvcGVydHlOYW1lKTtcbiAgICAgIGNvbnN0IGNvbnZlcnRlZFZhbHVlID0gY29udmVydGVyKHRhcmdldFR5cGUsIG5ld1ZhbCk7XG4gICAgICBsZXQgb2xkVmFsdWUgPSBudWxsO1xuICAgICAgaWYgKHRoaXMuaXNNb2RlbEluaXRpYWxpemF0aW9uKCkgJiYgdGhpcy5pZCkge1xuICAgICAgICBvbGRWYWx1ZSA9IGNvbnZlcnRlcih0YXJnZXRUeXBlLCBuZXdWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdICYmIHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgICAgICBvbGRWYWx1ZSA9IHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0ub2xkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpc1tgXyR7cHJvcGVydHlOYW1lfWBdID0gY29udmVydGVkVmFsdWU7XG4gICAgICBzZXRNZXRhZGF0YSh0aGlzLCBvbGRWYWx1ZSwgY29udmVydGVkVmFsdWUpO1xuICAgIH07XG5cbiAgICBpZiAoZGVsZXRlIHRhcmdldFtwcm9wZXJ0eU5hbWVdKSB7XG4gICAgICBzYXZlQW5ub3RhdGlvbnMoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICBnZXQ6IGdldHRlcixcbiAgICAgICAgc2V0OiBzZXR0ZXIsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuIl19","customTransformCache":false,"dependencies":["/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/constants/symbols.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/converters/date/date.converter.mjs","lodash"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/attribute.decorator.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { AttributeMetadata } from '../constants/symbols';\nimport { DateConverter } from '../converters/date/date.converter';\nimport * as _ from 'lodash';\nexport function Attribute(options = {}) {\n    return (target, propertyName) => {\n        const converter = (dataType, value, forSerialisation = false) => {\n            let attrConverter;\n            if (options.converter) {\n                attrConverter = options.converter;\n            }\n            else if (dataType === Date) {\n                attrConverter = new DateConverter();\n            }\n            else {\n                const datatype = new dataType();\n                if (datatype.mask && datatype.unmask) {\n                    attrConverter = datatype;\n                }\n            }\n            if (attrConverter) {\n                if (!forSerialisation) {\n                    return attrConverter.mask(value);\n                }\n                return attrConverter.unmask(value);\n            }\n            return value;\n        };\n        const saveAnnotations = () => {\n            const metadata = Reflect.getMetadata('Attribute', target) || {};\n            metadata[propertyName] = {\n                marked: true\n            };\n            Reflect.defineMetadata('Attribute', metadata, target);\n            const mappingMetadata = Reflect.getMetadata('AttributeMapping', target) || {};\n            const serializedPropertyName = options.serializedName !== undefined ? options.serializedName : propertyName;\n            mappingMetadata[serializedPropertyName] = propertyName;\n            Reflect.defineMetadata('AttributeMapping', mappingMetadata, target);\n        };\n        const setMetadata = (instance, oldValue, newValue) => {\n            const targetType = Reflect.getMetadata('design:type', target, propertyName);\n            if (!instance[AttributeMetadata]) {\n                instance[AttributeMetadata] = {};\n            }\n            instance[AttributeMetadata][propertyName] = {\n                newValue,\n                oldValue,\n                nested: false,\n                serializedName: options.serializedName,\n                hasDirtyAttributes: !_.isEqual(oldValue, newValue),\n                serialisationValue: converter(targetType, newValue, true)\n            };\n        };\n        const getter = function () {\n            return this[`_${propertyName}`];\n        };\n        const setter = function (newVal) {\n            const targetType = Reflect.getMetadata('design:type', target, propertyName);\n            const convertedValue = converter(targetType, newVal);\n            let oldValue = null;\n            if (this.isModelInitialization() && this.id) {\n                oldValue = converter(targetType, newVal);\n            }\n            else {\n                if (this[AttributeMetadata] && this[AttributeMetadata][propertyName]) {\n                    oldValue = this[AttributeMetadata][propertyName].oldValue;\n                }\n            }\n            this[`_${propertyName}`] = convertedValue;\n            setMetadata(this, oldValue, convertedValue);\n        };\n        if (delete target[propertyName]) {\n            saveAnnotations();\n            Object.defineProperty(target, propertyName, {\n                get: getter,\n                set: setter,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2RlY29yYXRvcnMvYXR0cmlidXRlLmRlY29yYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUV6RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDbEUsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFFNUIsTUFBTSxVQUFVLFNBQVMsQ0FBQyxVQUFxQyxFQUFFO0lBQy9ELE9BQU8sQ0FBQyxNQUFXLEVBQUUsWUFBb0IsRUFBRSxFQUFFO1FBQzNDLE1BQU0sU0FBUyxHQUFHLENBQUMsUUFBYSxFQUFFLEtBQVUsRUFBRSxnQkFBZ0IsR0FBRyxLQUFLLEVBQU8sRUFBRTtZQUM3RSxJQUFJLGFBQWEsQ0FBQztZQUVsQixJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUU7Z0JBQ3JCLGFBQWEsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO2FBQ25DO2lCQUFNLElBQUksUUFBUSxLQUFLLElBQUksRUFBRTtnQkFDNUIsYUFBYSxHQUFHLElBQUksYUFBYSxFQUFFLENBQUM7YUFDckM7aUJBQU07Z0JBQ0wsTUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQztnQkFFaEMsSUFBSSxRQUFRLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEVBQUU7b0JBQ3BDLGFBQWEsR0FBRyxRQUFRLENBQUM7aUJBQzFCO2FBQ0Y7WUFFRCxJQUFJLGFBQWEsRUFBRTtnQkFDakIsSUFBSSxDQUFDLGdCQUFnQixFQUFFO29CQUNyQixPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ2xDO2dCQUNELE9BQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMs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QWUsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRTtnQkFDMUMsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZU1ldGFkYXRhIH0gZnJvbSAnLi4vY29uc3RhbnRzL3N5bWJvbHMnO1xuaW1wb3J0IHsgQXR0cmlidXRlRGVjb3JhdG9yT3B0aW9ucyB9IGZyb20gJy4uL2ludGVyZmFjZXMvYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZSc7XG5pbXBvcnQgeyBEYXRlQ29udmVydGVyIH0gZnJvbSAnLi4vY29udmVydGVycy9kYXRlL2RhdGUuY29udmVydGVyJztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGZ1bmN0aW9uIEF0dHJpYnV0ZShvcHRpb25zOiBBdHRyaWJ1dGVEZWNvcmF0b3JPcHRpb25zID0ge30pOiBQcm9wZXJ0eURlY29yYXRvciB7XG4gIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5TmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY29udmVydGVyID0gKGRhdGFUeXBlOiBhbnksIHZhbHVlOiBhbnksIGZvclNlcmlhbGlzYXRpb24gPSBmYWxzZSk6IGFueSA9PiB7XG4gICAgICBsZXQgYXR0ckNvbnZlcnRlcjtcblxuICAgICAgaWYgKG9wdGlvbnMuY29udmVydGVyKSB7XG4gICAgICAgIGF0dHJDb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09IERhdGUpIHtcbiAgICAgICAgYXR0ckNvbnZlcnRlciA9IG5ldyBEYXRlQ29udmVydGVyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkYXRhdHlwZSA9IG5ldyBkYXRhVHlwZSgpO1xuXG4gICAgICAgIGlmIChkYXRhdHlwZS5tYXNrICYmIGRhdGF0eXBlLnVubWFzaykge1xuICAgICAgICAgIGF0dHJDb252ZXJ0ZXIgPSBkYXRhdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0ckNvbnZlcnRlcikge1xuICAgICAgICBpZiAoIWZvclNlcmlhbGlzYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci5tYXNrKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci51bm1hc2sodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGNvbnN0IHNhdmVBbm5vdGF0aW9ucyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlJywgdGFyZ2V0KSB8fCB7fTtcblxuICAgICAgbWV0YWRhdGFbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgbWFya2VkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdBdHRyaWJ1dGUnLCBtZXRhZGF0YSwgdGFyZ2V0KTtcblxuICAgICAgY29uc3QgbWFwcGluZ01ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlTWFwcGluZycsIHRhcmdldCkgfHwge307XG4gICAgICBjb25zdCBzZXJpYWxpemVkUHJvcGVydHlOYW1lID0gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSA6IHByb3BlcnR5TmFtZTtcbiAgICAgIG1hcHBpbmdNZXRhZGF0YVtzZXJpYWxpemVkUHJvcGVydHlOYW1lXSA9IHByb3BlcnR5TmFtZTtcbiAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0F0dHJpYnV0ZU1hcHBpbmcnLCBtYXBwaW5nTWV0YWRhdGEsIHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldE1ldGFkYXRhID0gKFxuICAgICAgaW5zdGFuY2U6IGFueSxcbiAgICAgIG9sZFZhbHVlOiBhbnksXG4gICAgICBuZXdWYWx1ZTogYW55XG4gICAgKSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXRUeXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIHByb3BlcnR5TmFtZSk7XG5cbiAgICAgIGlmICghaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdKSB7XG4gICAgICAgIGluc3RhbmNlW0F0dHJpYnV0ZU1ldGFkYXRhXSA9IHt9O1xuICAgICAgfVxuICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0gPSB7XG4gICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgbmVzdGVkOiBmYWxzZSxcbiAgICAgICAgc2VyaWFsaXplZE5hbWU6IG9wdGlvbnMuc2VyaWFsaXplZE5hbWUsXG4gICAgICAgIGhhc0RpcnR5QXR0cmlidXRlczogIV8uaXNFcXVhbChvbGRWYWx1ZSwgbmV3VmFsdWUpLFxuICAgICAgICBzZXJpYWxpc2F0aW9uVmFsdWU6IGNvbnZlcnRlcih0YXJnZXRUeXBlLCBuZXdWYWx1ZSwgdHJ1ZSlcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IGdldHRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXNbYF8ke3Byb3BlcnR5TmFtZX1gXTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0dGVyID0gZnVuY3Rpb24obmV3VmFsOiBhbnkpIHtcbiAgICAgIGNvbnN0IHRhcmdldFR5cGUgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdkZXNpZ246dHlwZScsIHRhcmdldCwgcHJvcGVydHlOYW1lKTtcbiAgICAgIGNvbnN0IGNvbnZlcnRlZFZhbHVlID0gY29udmVydGVyKHRhcmdldFR5cGUsIG5ld1ZhbCk7XG4gICAgICBsZXQgb2xkVmFsdWUgPSBudWxsO1xuICAgICAgaWYgKHRoaXMuaXNNb2RlbEluaXRpYWxpemF0aW9uKCkgJiYgdGhpcy5pZCkge1xuICAgICAgICBvbGRWYWx1ZSA9IGNvbnZlcnRlcih0YXJnZXRUeXBlLCBuZXdWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdICYmIHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgICAgICBvbGRWYWx1ZSA9IHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0ub2xkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpc1tgXyR7cHJvcGVydHlOYW1lfWBdID0gY29udmVydGVkVmFsdWU7XG4gICAgICBzZXRNZXRhZGF0YSh0aGlzLCBvbGRWYWx1ZSwgY29udmVydGVkVmFsdWUpO1xuICAgIH07XG5cbiAgICBpZiAoZGVsZXRlIHRhcmdldFtwcm9wZXJ0eU5hbWVdKSB7XG4gICAgICBzYXZlQW5ub3RhdGlvbnMoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICBnZXQ6IGdldHRlcixcbiAgICAgICAgc2V0OiBzZXR0ZXIsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuIl19","originalSourcemap":{"version":3,"file":"attribute.decorator.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/decorators/attribute.decorator.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[26,0,0,26],[28,0,0,28],[34,0,0,34],[56,0,0,56],[57,0,0,57]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[22,0,2,22],[24,0,2,24],[30,0,2,30],[65,0,2,65],[66,0,2,66]],[[0,0,3,0],[7,0,3,7],[12,0,3,12],[13,0,3,13],[19,0,3,19],[27,0,3,27],[28,0,3,28]],[[0,0,5,0],[6,0,5,6],[16,0,5,16],[25,0,5,25],[26,0,5,26],[36,0,5,63],[38,0,5,65]],[[4,0,6,2],[11,0,6,9],[12,0,6,10],[18,0,6,21],[20,0,6,23],[32,0,6,43],[34,0,6,45],[36,0,6,47]],[[8,0,7,4],[14,0,7,10],[23,0,7,19],[26,0,7,22],[27,0,7,23],[35,0,7,36],[37,0,7,38],[42,0,7,48],[44,0,7,50],[60,0,7,66],[63,0,7,69],[68,0,7,74],[70,0,7,81],[72,0,7,83]],[[12,0,8,6],[16,0,8,10],[29,0,8,23],[30,0,8,24]],[[12,0,10,6],[16,0,10,10],[23,0,10,17],[24,0,10,18],[33,0,10,27],[35,0,10,29]],[[16,0,11,8],[29,0,11,21],[32,0,11,24],[39,0,11,31],[40,0,11,32],[49,0,11,41],[50,0,11,42]],[[13,0,12,7]],[[17,0,12,13],[21,0,12,17],[29,0,12,25],[34,0,12,30],[38,0,12,34],[40,0,12,36]],[[16,0,13,8],[29,0,13,21],[32,0,13,24],[36,0,13,28],[49,0,13,41],[51,0,13,43],[52,0,13,44]],[[13,0,14,7]],[[17,0,14,13]],[[16,0,15,8],[22,0,15,14],[30,0,15,22],[33,0,15,25],[37,0,15,29],[45,0,15,37],[47,0,15,39],[48,0,15,40]],[[16,0,17,8],[20,0,17,12],[28,0,17,20],[29,0,17,21],[33,0,17,25],[37,0,17,29],[45,0,17,37],[46,0,17,38],[52,0,17,44],[54,0,17,46]],[[20,0,18,10],[33,0,18,23],[36,0,18,26],[44,0,18,34],[45,0,18,35]],[[17,0,19,9]],[[13,0,20,7]],[[12,0,22,6],[16,0,22,10],[29,0,22,23],[31,0,22,25]],[[16,0,23,8],[20,0,23,12],[21,0,23,13],[37,0,23,29],[39,0,23,31]],[[20,0,24,10],[27,0,24,17],[40,0,24,30],[41,0,24,31],[45,0,24,35],[46,0,24,36],[51,0,24,41],[52,0,24,42],[53,0,24,43]],[[17,0,25,9]],[[16,0,26,8],[23,0,26,15],[36,0,26,28],[37,0,26,29],[43,0,26,35],[44,0,26,36],[49,0,26,41],[50,0,26,42],[51,0,26,43]],[[13,0,27,7]],[[12,0,29,6],[19,0,29,13],[24,0,29,18],[25,0,29,19]],[[8,0,30,4],[9,0,30,5],[10,0,30,6]],[[8,0,32,4],[14,0,32,10],[29,0,32,25],[32,0,32,28],[35,0,32,31],[37,0,32,33]],[[12,0,33,6],[18,0,33,12],[26,0,33,20],[29,0,33,23],[36,0,33,30],[37,0,33,31],[48,0,33,42],[49,0,33,43],[60,0,33,54],[62,0,33,56],[68,0,33,62],[69,0,33,63],[73,0,33,67],[75,0,33,69],[76,0,33,70]],[[12,0,35,6],[20,0,35,14],[21,0,35,15],[33,0,35,27],[34,0,35,28],[37,0,35,31]],[[16,0,36,8],[22,0,36,14],[24,0,36,16],[28,0,36,20]],[[13,0,37,7],[14,0,37,8]],[[12,0,39,6],[19,0,39,13],[20,0,39,14],[34,0,39,28],[35,0,39,29],[46,0,39,40],[48,0,39,42],[56,0,39,50],[58,0,39,52],[64,0,39,58],[65,0,39,59],[66,0,39,60]],[[12,0,41,6],[18,0,41,12],[33,0,41,27],[36,0,41,30],[43,0,41,37],[44,0,41,38],[55,0,41,49],[56,0,41,50],[74,0,41,68],[76,0,41,70],[82,0,41,76],[83,0,41,77],[87,0,41,81],[89,0,41,83],[90,0,41,84]],[[12,0,42,6],[18,0,42,12],[40,0,42,34],[43,0,42,37],[50,0,42,44],[51,0,42,45],[65,0,42,59],[70,0,42,64],[79,0,42,73],[80,0,42,74],[81,0,42,75],[82,0,42,76],[89,0,42,83],[90,0,42,84],[104,0,42,98],[105,0,42,99],[106,0,42,100],[107,0,42,101],[119,0,42,113],[120,0,42,114]],[[12,0,43,6],[27,0,43,21],[28,0,43,22],[50,0,43,44],[51,0,43,45],[54,0,43,48],[66,0,43,60],[67,0,43,61]],[[12,0,44,6],[19,0,44,13],[20,0,44,14],[34,0,44,28],[35,0,44,29],[53,0,44,47],[55,0,44,49],[70,0,44,64],[72,0,44,66],[78,0,44,72],[79,0,44,73],[80,0,44,74]],[[8,0,45,4],[9,0,45,5],[10,0,45,6]],[[8,0,47,4],[14,0,47,10],[25,0,47,21],[28,0,47,24],[29,0,48,6],[37,0,48,19],[39,0,49,6],[47,0,49,19],[49,0,50,6],[57,0,50,19],[59,0,51,6],[61,0,51,8]],[[12,0,52,6],[18,0,52,12],[28,0,52,22],[31,0,52,25],[38,0,52,32],[39,0,52,33],[50,0,52,44],[51,0,52,45],[64,0,52,58],[66,0,52,60],[72,0,52,66],[74,0,52,68],[86,0,52,80],[87,0,52,81],[88,0,52,82]],[[12,0,54,6],[16,0,54,10],[17,0,54,11],[25,0,54,19],[26,0,54,20],[43,0,54,37],[44,0,54,38],[46,0,54,40]],[[16,0,55,8],[24,0,55,16],[25,0,55,17],[42,0,55,34],[43,0,55,35],[46,0,55,38],[48,0,55,40],[49,0,55,41]],[[13,0,56,7]],[[12,0,57,6],[20,0,57,14],[21,0,57,15],[38,0,57,32],[39,0,57,33],[40,0,57,34],[52,0,57,46],[53,0,57,47],[56,0,57,50]],[[16,0,58,8],[24,0,58,16]],[[16,0,59,8],[24,0,59,16]],[[16,0,60,8],[22,0,60,14],[24,0,60,16],[29,0,60,21]],[[16,0,61,8],[30,0,61,22],[32,0,61,24],[39,0,61,31],[40,0,61,32],[54,0,61,46]],[[16,0,62,8],[34,0,62,26],[36,0,62,28],[37,0,62,29],[38,0,62,30],[39,0,62,31],[46,0,62,38],[47,0,62,39],[55,0,62,47],[57,0,62,49],[65,0,62,57],[66,0,62,58]],[[16,0,63,8],[34,0,63,26],[36,0,63,28],[45,0,63,37],[46,0,63,38],[56,0,63,48],[58,0,63,50],[66,0,63,58],[68,0,63,60],[72,0,63,64],[73,0,63,65]],[[13,0,64,7],[14,0,64,8]],[[8,0,65,4],[9,0,65,5],[10,0,65,6]],[[8,0,67,4],[14,0,67,10],[20,0,67,16],[23,0,67,19]],[[12,0,68,6],[19,0,68,13],[23,0,68,17],[24,0,68,18],[28,0,68,22],[40,0,68,34],[42,0,68,36],[43,0,68,37],[44,0,68,38]],[[8,0,69,4],[9,0,69,5],[10,0,69,6]],[[8,0,71,4],[14,0,71,10],[20,0,71,16],[23,0,71,19],[33,0,71,28],[39,0,71,39]],[[12,0,72,6],[18,0,72,12],[28,0,72,22],[31,0,72,25],[38,0,72,32],[39,0,72,33],[50,0,72,44],[51,0,72,45],[64,0,72,58],[66,0,72,60],[72,0,72,66],[74,0,72,68],[86,0,72,80],[87,0,72,81],[88,0,72,82]],[[12,0,73,6],[18,0,73,12],[32,0,73,26],[35,0,73,29],[44,0,73,38],[45,0,73,39],[55,0,73,49],[57,0,73,51],[63,0,73,57],[64,0,73,58],[65,0,73,59]],[[12,0,74,6],[16,0,74,10],[24,0,74,18],[27,0,74,21],[31,0,74,25],[32,0,74,26]],[[12,0,75,6],[16,0,75,10],[20,0,75,14],[21,0,75,15],[42,0,75,36],[44,0,75,38],[48,0,75,42],[52,0,75,46],[53,0,75,47],[55,0,75,49],[57,0,75,51]],[[16,0,76,8],[24,0,76,16],[27,0,76,19],[36,0,76,28],[37,0,76,29],[47,0,76,39],[49,0,76,41],[55,0,76,47],[56,0,76,48],[57,0,76,49]],[[13,0,77,7]],[[17,0,77,13]],[[16,0,78,8],[20,0,78,12],[24,0,78,16],[25,0,78,17],[42,0,78,34],[43,0,78,35],[47,0,78,39],[51,0,78,43],[52,0,78,44],[69,0,78,61],[70,0,78,62],[71,0,78,63],[83,0,78,75],[84,0,78,76],[86,0,78,78]],[[20,0,79,10],[28,0,79,18],[31,0,79,21],[35,0,79,25],[36,0,79,26],[53,0,79,43],[54,0,79,44],[55,0,79,45],[67,0,79,57],[68,0,79,58],[69,0,79,59],[77,0,79,67],[78,0,79,68]],[[17,0,80,9]],[[13,0,81,7]],[[12,0,83,6],[16,0,83,10],[17,0,83,11],[21,0,83,15],[33,0,83,27],[35,0,83,29],[36,0,83,30],[39,0,83,33],[53,0,83,47],[54,0,83,48]],[[12,0,84,6],[23,0,84,17],[24,0,84,18],[28,0,84,22],[30,0,84,24],[38,0,84,32],[40,0,84,34],[54,0,84,48],[55,0,84,49],[56,0,84,50]],[[8,0,85,4],[9,0,85,5],[10,0,85,6]],[[8,0,87,4],[12,0,87,8],[19,0,87,15],[25,0,87,21],[26,0,87,22],[38,0,87,34],[39,0,87,35],[41,0,87,37]],[[12,0,88,6],[27,0,88,21],[29,0,88,23],[30,0,88,24]],[[12,0,89,6],[18,0,89,12],[19,0,89,13],[33,0,89,27],[34,0,89,28],[40,0,89,34],[42,0,89,36],[54,0,89,48],[56,0,89,50]],[[16,0,90,8],[19,0,90,11],[21,0,90,13],[27,0,90,19]],[[16,0,91,8],[19,0,91,11],[21,0,91,13],[27,0,91,19]],[[16,0,92,8],[26,0,92,18],[28,0,92,20],[32,0,92,24]],[[16,0,93,8],[28,0,93,20],[30,0,93,22],[34,0,93,26]],[[13,0,94,7],[14,0,94,8],[15,0,94,9]],[[9,0,95,5]],[[4,0,96,2],[5,0,96,3],[6,0,96,4]],[[0,0,97,0],[1,0,97,1]]],"sourcesContent":["import { AttributeMetadata } from '../constants/symbols';\nimport { AttributeDecoratorOptions } from '../interfaces/attribute-decorator-options.interface';\nimport { DateConverter } from '../converters/date/date.converter';\nimport * as _ from 'lodash';\n\nexport function Attribute(options: AttributeDecoratorOptions = {}): PropertyDecorator {\n  return (target: any, propertyName: string) => {\n    const converter = (dataType: any, value: any, forSerialisation = false): any => {\n      let attrConverter;\n\n      if (options.converter) {\n        attrConverter = options.converter;\n      } else if (dataType === Date) {\n        attrConverter = new DateConverter();\n      } else {\n        const datatype = new dataType();\n\n        if (datatype.mask && datatype.unmask) {\n          attrConverter = datatype;\n        }\n      }\n\n      if (attrConverter) {\n        if (!forSerialisation) {\n          return attrConverter.mask(value);\n        }\n        return attrConverter.unmask(value);\n      }\n\n      return value;\n    };\n\n    const saveAnnotations = () => {\n      const metadata = Reflect.getMetadata('Attribute', target) || {};\n\n      metadata[propertyName] = {\n        marked: true\n      };\n\n      Reflect.defineMetadata('Attribute', metadata, target);\n\n      const mappingMetadata = Reflect.getMetadata('AttributeMapping', target) || {};\n      const serializedPropertyName = options.serializedName !== undefined ? options.serializedName : propertyName;\n      mappingMetadata[serializedPropertyName] = propertyName;\n      Reflect.defineMetadata('AttributeMapping', mappingMetadata, target);\n    };\n\n    const setMetadata = (\n      instance: any,\n      oldValue: any,\n      newValue: any\n    ) => {\n      const targetType = Reflect.getMetadata('design:type', target, propertyName);\n\n      if (!instance[AttributeMetadata]) {\n        instance[AttributeMetadata] = {};\n      }\n      instance[AttributeMetadata][propertyName] = {\n        newValue,\n        oldValue,\n        nested: false,\n        serializedName: options.serializedName,\n        hasDirtyAttributes: !_.isEqual(oldValue, newValue),\n        serialisationValue: converter(targetType, newValue, true)\n      };\n    };\n\n    const getter = function() {\n      return this[`_${propertyName}`];\n    };\n\n    const setter = function(newVal: any) {\n      const targetType = Reflect.getMetadata('design:type', target, propertyName);\n      const convertedValue = converter(targetType, newVal);\n      let oldValue = null;\n      if (this.isModelInitialization() && this.id) {\n        oldValue = converter(targetType, newVal);\n      } else {\n        if (this[AttributeMetadata] && this[AttributeMetadata][propertyName]) {\n          oldValue = this[AttributeMetadata][propertyName].oldValue;\n        }\n      }\n\n      this[`_${propertyName}`] = convertedValue;\n      setMetadata(this, oldValue, convertedValue);\n    };\n\n    if (delete target[propertyName]) {\n      saveAnnotations();\n      Object.defineProperty(target, propertyName, {\n        get: getter,\n        set: setter,\n        enumerable: true,\n        configurable: true\n      });\n    }\n  };\n}\n"]},"resolvedIds":{"lodash":{"external":true,"id":"lodash","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../constants/symbols":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/constants/symbols.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../converters/date/date.converter":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/converters/date/date.converter.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":10904,"body":[{"type":"ImportDeclaration","start":0,"end":57,"specifiers":[{"type":"ImportSpecifier","start":9,"end":26,"imported":{"type":"Identifier","start":9,"end":26,"name":"AttributeMetadata"},"local":{"type":"Identifier","start":9,"end":26,"name":"AttributeMetadata"}}],"source":{"type":"Literal","start":34,"end":56,"value":"../constants/symbols","raw":"'../constants/symbols'"}},{"type":"ImportDeclaration","start":58,"end":86,"specifiers":[{"type":"ImportNamespaceSpecifier","start":65,"end":71,"local":{"type":"Identifier","start":70,"end":71,"name":"_"}}],"source":{"type":"Literal","start":77,"end":85,"value":"lodash","raw":"'lodash'"}},{"type":"ExportNamedDeclaration","start":87,"end":3145,"declaration":{"type":"FunctionDeclaration","start":94,"end":3145,"id":{"type":"Identifier","start":103,"end":118,"name":"NestedAttribute"},"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":119,"end":131,"left":{"type":"Identifier","start":119,"end":126,"name":"options"},"right":{"type":"ObjectExpression","start":129,"end":131,"properties":[]}}],"body":{"type":"BlockStatement","start":133,"end":3145,"body":[{"type":"ReturnStatement","start":139,"end":3143,"argument":{"type":"ArrowFunctionExpression","start":146,"end":3142,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":147,"end":153,"name":"target"},{"type":"Identifier","start":155,"end":167,"name":"propertyName"}],"body":{"type":"BlockStatement","start":172,"end":3142,"body":[{"type":"VariableDeclaration","start":182,"end":832,"declarations":[{"type":"VariableDeclarator","start":188,"end":831,"id":{"type":"Identifier","start":188,"end":197,"name":"converter"},"init":{"type":"ArrowFunctionExpression","start":200,"end":831,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":201,"end":209,"name":"dataType"},{"type":"Identifier","start":211,"end":216,"name":"value"},{"type":"AssignmentPattern","start":218,"end":242,"left":{"type":"Identifier","start":218,"end":234,"name":"forSerialisation"},"right":{"type":"Literal","start":237,"end":242,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":247,"end":831,"body":[{"type":"VariableDeclaration","start":261,"end":279,"declarations":[{"type":"VariableDeclarator","start":265,"end":278,"id":{"type":"Identifier","start":265,"end":278,"name":"attrConverter"},"init":null}],"kind":"let"},{"type":"IfStatement","start":292,"end":583,"test":{"type":"MemberExpression","start":296,"end":313,"object":{"type":"Identifier","start":296,"end":303,"name":"options"},"property":{"type":"Identifier","start":304,"end":313,"name":"converter"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":315,"end":381,"body":[{"type":"ExpressionStatement","start":333,"end":367,"expression":{"type":"AssignmentExpression","start":333,"end":366,"operator":"=","left":{"type":"Identifier","start":333,"end":346,"name":"attrConverter"},"right":{"type":"MemberExpression","start":349,"end":366,"object":{"type":"Identifier","start":349,"end":356,"name":"options"},"property":{"type":"Identifier","start":357,"end":366,"name":"converter"},"computed":false,"optional":false}}}]},"alternate":{"type":"BlockStatement","start":399,"end":583,"body":[{"type":"VariableDeclaration","start":417,"end":449,"declarations":[{"type":"VariableDeclarator","start":423,"end":448,"id":{"type":"Identifier","start":423,"end":431,"name":"datatype"},"init":{"type":"NewExpression","start":434,"end":448,"callee":{"type":"Identifier","start":438,"end":446,"name":"dataType"},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","start":466,"end":569,"test":{"type":"LogicalExpression","start":470,"end":502,"left":{"type":"MemberExpression","start":470,"end":483,"object":{"type":"Identifier","start":470,"end":478,"name":"datatype"},"property":{"type":"Identifier","start":479,"end":483,"name":"mask"},"computed":false,"optional":false},"operator":"&&","right":{"type":"MemberExpression","start":487,"end":502,"object":{"type":"Identifier","start":487,"end":495,"name":"datatype"},"property":{"type":"Identifier","start":496,"end":502,"name":"unmask"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":504,"end":569,"body":[{"type":"ExpressionStatement","start":526,"end":551,"expression":{"type":"AssignmentExpression","start":526,"end":550,"operator":"=","left":{"type":"Identifier","start":526,"end":539,"name":"attrConverter"},"right":{"type":"Identifier","start":542,"end":550,"name":"datatype"}}}]},"alternate":null}]}},{"type":"IfStatement","start":596,"end":795,"test":{"type":"Identifier","start":600,"end":613,"name":"attrConverter"},"consequent":{"type":"BlockStatement","start":615,"end":795,"body":[{"type":"IfStatement","start":633,"end":729,"test":{"type":"UnaryExpression","start":637,"end":654,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":638,"end":654,"name":"forSerialisation"}},"consequent":{"type":"BlockStatement","start":656,"end":729,"body":[{"type":"ReturnStatement","start":678,"end":711,"argument":{"type":"CallExpression","start":685,"end":710,"callee":{"type":"MemberExpression","start":685,"end":703,"object":{"type":"Identifier","start":685,"end":698,"name":"attrConverter"},"property":{"type":"Identifier","start":699,"end":703,"name":"mask"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":704,"end":709,"name":"value"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":746,"end":781,"argument":{"type":"CallExpression","start":753,"end":780,"callee":{"type":"MemberExpression","start":753,"end":773,"object":{"type":"Identifier","start":753,"end":766,"name":"attrConverter"},"property":{"type":"Identifier","start":767,"end":773,"name":"unmask"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":774,"end":779,"name":"value"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":808,"end":821,"argument":{"type":"Identifier","start":815,"end":820,"name":"value"}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":841,"end":1483,"declarations":[{"type":"VariableDeclarator","start":847,"end":1482,"id":{"type":"Identifier","start":847,"end":862,"name":"saveAnnotations"},"init":{"type":"ArrowFunctionExpression","start":865,"end":1482,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":871,"end":1482,"body":[{"type":"VariableDeclaration","start":885,"end":955,"declarations":[{"type":"VariableDeclarator","start":891,"end":954,"id":{"type":"Identifier","start":891,"end":899,"name":"metadata"},"init":{"type":"LogicalExpression","start":902,"end":954,"left":{"type":"CallExpression","start":902,"end":948,"callee":{"type":"MemberExpression","start":902,"end":921,"object":{"type":"Identifier","start":902,"end":909,"name":"Reflect"},"property":{"type":"Identifier","start":910,"end":921,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":922,"end":939,"value":"NestedAttribute","raw":"'NestedAttribute'"},{"type":"Identifier","start":941,"end":947,"name":"target"}],"optional":false},"operator":"||","right":{"type":"ObjectExpression","start":952,"end":954,"properties":[]}}}],"kind":"const"},{"type":"ExpressionStatement","start":968,"end":1038,"expression":{"type":"AssignmentExpression","start":968,"end":1037,"operator":"=","left":{"type":"MemberExpression","start":968,"end":990,"object":{"type":"Identifier","start":968,"end":976,"name":"metadata"},"property":{"type":"Identifier","start":977,"end":989,"name":"propertyName"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":993,"end":1037,"properties":[{"type":"Property","start":1011,"end":1023,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1011,"end":1017,"name":"marked"},"value":{"type":"Literal","start":1019,"end":1023,"value":true,"raw":"true"},"kind":"init"}]}}},{"type":"ExpressionStatement","start":1051,"end":1111,"expression":{"type":"CallExpression","start":1051,"end":1110,"callee":{"type":"MemberExpression","start":1051,"end":1073,"object":{"type":"Identifier","start":1051,"end":1058,"name":"Reflect"},"property":{"type":"Identifier","start":1059,"end":1073,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1074,"end":1091,"value":"NestedAttribute","raw":"'NestedAttribute'"},{"type":"Identifier","start":1093,"end":1101,"name":"metadata"},{"type":"Identifier","start":1103,"end":1109,"name":"target"}],"optional":false}},{"type":"VariableDeclaration","start":1124,"end":1202,"declarations":[{"type":"VariableDeclarator","start":1130,"end":1201,"id":{"type":"Identifier","start":1130,"end":1145,"name":"mappingMetadata"},"init":{"type":"LogicalExpression","start":1148,"end":1201,"left":{"type":"CallExpression","start":1148,"end":1195,"callee":{"type":"MemberExpression","start":1148,"end":1167,"object":{"type":"Identifier","start":1148,"end":1155,"name":"Reflect"},"property":{"type":"Identifier","start":1156,"end":1167,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1168,"end":1186,"value":"AttributeMapping","raw":"'AttributeMapping'"},{"type":"Identifier","start":1188,"end":1194,"name":"target"}],"optional":false},"operator":"||","right":{"type":"ObjectExpression","start":1199,"end":1201,"properties":[]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1215,"end":1323,"declarations":[{"type":"VariableDeclarator","start":1221,"end":1322,"id":{"type":"Identifier","start":1221,"end":1243,"name":"serializedPropertyName"},"init":{"type":"ConditionalExpression","start":1246,"end":1322,"test":{"type":"BinaryExpression","start":1246,"end":1282,"left":{"type":"MemberExpression","start":1246,"end":1268,"object":{"type":"Identifier","start":1246,"end":1253,"name":"options"},"property":{"type":"Identifier","start":1254,"end":1268,"name":"serializedName"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Identifier","start":1273,"end":1282,"name":"undefined"}},"consequent":{"type":"MemberExpression","start":1285,"end":1307,"object":{"type":"Identifier","start":1285,"end":1292,"name":"options"},"property":{"type":"Identifier","start":1293,"end":1307,"name":"serializedName"},"computed":false,"optional":false},"alternate":{"type":"Identifier","start":1310,"end":1322,"name":"propertyName"}}}],"kind":"const"},{"type":"ExpressionStatement","start":1336,"end":1391,"expression":{"type":"AssignmentExpression","start":1336,"end":1390,"operator":"=","left":{"type":"MemberExpression","start":1336,"end":1375,"object":{"type":"Identifier","start":1336,"end":1351,"name":"mappingMetadata"},"property":{"type":"Identifier","start":1352,"end":1374,"name":"serializedPropertyName"},"computed":true,"optional":false},"right":{"type":"Identifier","start":1378,"end":1390,"name":"propertyName"}}},{"type":"ExpressionStatement","start":1404,"end":1472,"expression":{"type":"CallExpression","start":1404,"end":1471,"callee":{"type":"MemberExpression","start":1404,"end":1426,"object":{"type":"Identifier","start":1404,"end":1411,"name":"Reflect"},"property":{"type":"Identifier","start":1412,"end":1426,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1427,"end":1445,"value":"AttributeMapping","raw":"'AttributeMapping'"},{"type":"Identifier","start":1447,"end":1462,"name":"mappingMetadata"},{"type":"Identifier","start":1464,"end":1470,"name":"target"}],"optional":false}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1492,"end":2511,"declarations":[{"type":"VariableDeclarator","start":1498,"end":2510,"id":{"type":"Identifier","start":1498,"end":1512,"name":"updateMetadata"},"init":{"type":"ArrowFunctionExpression","start":1515,"end":2510,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1516,"end":1524,"name":"instance"}],"body":{"type":"BlockStatement","start":1529,"end":2510,"body":[{"type":"VariableDeclaration","start":1543,"end":1589,"declarations":[{"type":"VariableDeclarator","start":1549,"end":1588,"id":{"type":"Identifier","start":1549,"end":1557,"name":"newValue"},"init":{"type":"MemberExpression","start":1560,"end":1588,"object":{"type":"Identifier","start":1560,"end":1568,"name":"instance"},"property":{"type":"TemplateLiteral","start":1569,"end":1587,"expressions":[{"type":"Identifier","start":1573,"end":1585,"name":"propertyName"}],"quasis":[{"type":"TemplateElement","start":1570,"end":1571,"value":{"raw":"_","cooked":"_"},"tail":false},{"type":"TemplateElement","start":1586,"end":1586,"value":{"raw":"","cooked":""},"tail":true}]},"computed":true,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1602,"end":1701,"test":{"type":"UnaryExpression","start":1606,"end":1634,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1607,"end":1634,"object":{"type":"Identifier","start":1607,"end":1615,"name":"instance"},"property":{"type":"Identifier","start":1616,"end":1633,"name":"AttributeMetadata"},"computed":true,"optional":false}},"consequent":{"type":"BlockStatement","start":1636,"end":1701,"body":[{"type":"ExpressionStatement","start":1654,"end":1687,"expression":{"type":"AssignmentExpression","start":1654,"end":1686,"operator":"=","left":{"type":"MemberExpression","start":1654,"end":1681,"object":{"type":"Identifier","start":1654,"end":1662,"name":"instance"},"property":{"type":"Identifier","start":1663,"end":1680,"name":"AttributeMetadata"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":1684,"end":1686,"properties":[]}}}]},"alternate":null},{"type":"IfStatement","start":1714,"end":2500,"test":{"type":"LogicalExpression","start":1718,"end":1796,"left":{"type":"MemberExpression","start":1718,"end":1759,"object":{"type":"MemberExpression","start":1718,"end":1745,"object":{"type":"Identifier","start":1718,"end":1726,"name":"instance"},"property":{"type":"Identifier","start":1727,"end":1744,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1746,"end":1758,"name":"propertyName"},"computed":true,"optional":false},"operator":"&&","right":{"type":"UnaryExpression","start":1763,"end":1796,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1764,"end":1796,"callee":{"type":"MemberExpression","start":1764,"end":1794,"object":{"type":"Identifier","start":1764,"end":1772,"name":"instance"},"property":{"type":"Identifier","start":1773,"end":1794,"name":"isModelInitialization"},"computed":false,"optional":false},"arguments":[],"optional":false}}},"consequent":{"type":"BlockStatement","start":1798,"end":2134,"body":[{"type":"ExpressionStatement","start":1816,"end":1878,"expression":{"type":"AssignmentExpression","start":1816,"end":1877,"operator":"=","left":{"type":"MemberExpression","start":1816,"end":1866,"object":{"type":"MemberExpression","start":1816,"end":1857,"object":{"type":"MemberExpression","start":1816,"end":1843,"object":{"type":"Identifier","start":1816,"end":1824,"name":"instance"},"property":{"type":"Identifier","start":1825,"end":1842,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1844,"end":1856,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1858,"end":1866,"name":"newValue"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1869,"end":1877,"name":"newValue"}}},{"type":"ExpressionStatement","start":1895,"end":2031,"expression":{"type":"AssignmentExpression","start":1895,"end":2030,"operator":"=","left":{"type":"MemberExpression","start":1895,"end":1955,"object":{"type":"MemberExpression","start":1895,"end":1936,"object":{"type":"MemberExpression","start":1895,"end":1922,"object":{"type":"Identifier","start":1895,"end":1903,"name":"instance"},"property":{"type":"Identifier","start":1904,"end":1921,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1923,"end":1935,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1937,"end":1955,"name":"hasDirtyAttributes"},"computed":false,"optional":false},"right":{"type":"UnaryExpression","start":1958,"end":2030,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1959,"end":2030,"callee":{"type":"MemberExpression","start":1959,"end":1968,"object":{"type":"Identifier","start":1959,"end":1960,"name":"_"},"property":{"type":"Identifier","start":1961,"end":1968,"name":"isEqual"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":1969,"end":2019,"object":{"type":"MemberExpression","start":1969,"end":2010,"object":{"type":"MemberExpression","start":1969,"end":1996,"object":{"type":"Identifier","start":1969,"end":1977,"name":"instance"},"property":{"type":"Identifier","start":1978,"end":1995,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1997,"end":2009,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2011,"end":2019,"name":"oldValue"},"computed":false,"optional":false},{"type":"Identifier","start":2021,"end":2029,"name":"newValue"}],"optional":false}}}},{"type":"ExpressionStatement","start":2048,"end":2120,"expression":{"type":"AssignmentExpression","start":2048,"end":2119,"operator":"=","left":{"type":"MemberExpression","start":2048,"end":2108,"object":{"type":"MemberExpression","start":2048,"end":2089,"object":{"type":"MemberExpression","start":2048,"end":2075,"object":{"type":"Identifier","start":2048,"end":2056,"name":"instance"},"property":{"type":"Identifier","start":2057,"end":2074,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2076,"end":2088,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2090,"end":2108,"name":"serialisationValue"},"computed":false,"optional":false},"right":{"type":"Identifier","start":2111,"end":2119,"name":"newValue"}}}]},"alternate":{"type":"BlockStatement","start":2152,"end":2500,"body":[{"type":"VariableDeclaration","start":2170,"end":2209,"declarations":[{"type":"VariableDeclarator","start":2176,"end":2208,"id":{"type":"Identifier","start":2176,"end":2184,"name":"oldValue"},"init":{"type":"CallExpression","start":2187,"end":2208,"callee":{"type":"MemberExpression","start":2187,"end":2198,"object":{"type":"Identifier","start":2187,"end":2188,"name":"_"},"property":{"type":"Identifier","start":2189,"end":2198,"name":"cloneDeep"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2199,"end":2207,"name":"newValue"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2226,"end":2486,"expression":{"type":"AssignmentExpression","start":2226,"end":2485,"operator":"=","left":{"type":"MemberExpression","start":2226,"end":2267,"object":{"type":"MemberExpression","start":2226,"end":2253,"object":{"type":"Identifier","start":2226,"end":2234,"name":"instance"},"property":{"type":"Identifier","start":2235,"end":2252,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2254,"end":2266,"name":"propertyName"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":2270,"end":2485,"properties":[{"type":"Property","start":2292,"end":2300,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2292,"end":2300,"name":"newValue"},"kind":"init","value":{"type":"Identifier","start":2292,"end":2300,"name":"newValue"}},{"type":"Property","start":2322,"end":2330,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2322,"end":2330,"name":"oldValue"},"kind":"init","value":{"type":"Identifier","start":2322,"end":2330,"name":"oldValue"}},{"type":"Property","start":2352,"end":2361,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2352,"end":2361,"name":"converter"},"kind":"init","value":{"type":"Identifier","start":2352,"end":2361,"name":"converter"}},{"type":"Property","start":2383,"end":2395,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2383,"end":2389,"name":"nested"},"value":{"type":"Literal","start":2391,"end":2395,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":2417,"end":2467,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2417,"end":2435,"name":"hasDirtyAttributes"},"value":{"type":"UnaryExpression","start":2437,"end":2467,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":2438,"end":2467,"callee":{"type":"MemberExpression","start":2438,"end":2447,"object":{"type":"Identifier","start":2438,"end":2439,"name":"_"},"property":{"type":"Identifier","start":2440,"end":2447,"name":"isEqual"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2448,"end":2456,"name":"newValue"},{"type":"Identifier","start":2458,"end":2466,"name":"oldValue"}],"optional":false}},"kind":"init"}]}}}]}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":2520,"end":2604,"declarations":[{"type":"VariableDeclarator","start":2526,"end":2603,"id":{"type":"Identifier","start":2526,"end":2532,"name":"getter"},"init":{"type":"FunctionExpression","start":2535,"end":2603,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2547,"end":2603,"body":[{"type":"ReturnStatement","start":2561,"end":2593,"argument":{"type":"MemberExpression","start":2568,"end":2592,"object":{"type":"ThisExpression","start":2568,"end":2572},"property":{"type":"TemplateLiteral","start":2573,"end":2591,"expressions":[{"type":"Identifier","start":2577,"end":2589,"name":"propertyName"}],"quasis":[{"type":"TemplateElement","start":2574,"end":2575,"value":{"raw":"_","cooked":"_"},"tail":false},{"type":"TemplateElement","start":2590,"end":2590,"value":{"raw":"","cooked":""},"tail":true}]},"computed":true,"optional":false}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":2613,"end":2851,"declarations":[{"type":"VariableDeclarator","start":2619,"end":2850,"id":{"type":"Identifier","start":2619,"end":2625,"name":"setter"},"init":{"type":"FunctionExpression","start":2628,"end":2850,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2638,"end":2644,"name":"newVal"}],"body":{"type":"BlockStatement","start":2646,"end":2850,"body":[{"type":"VariableDeclaration","start":2660,"end":2736,"declarations":[{"type":"VariableDeclarator","start":2666,"end":2735,"id":{"type":"Identifier","start":2666,"end":2676,"name":"targetType"},"init":{"type":"CallExpression","start":2679,"end":2735,"callee":{"type":"MemberExpression","start":2679,"end":2698,"object":{"type":"Identifier","start":2679,"end":2686,"name":"Reflect"},"property":{"type":"Identifier","start":2687,"end":2698,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2699,"end":2712,"value":"design:type","raw":"'design:type'"},{"type":"Identifier","start":2714,"end":2720,"name":"target"},{"type":"Identifier","start":2722,"end":2734,"name":"propertyName"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2749,"end":2806,"expression":{"type":"AssignmentExpression","start":2749,"end":2805,"operator":"=","left":{"type":"MemberExpression","start":2749,"end":2773,"object":{"type":"ThisExpression","start":2749,"end":2753},"property":{"type":"TemplateLiteral","start":2754,"end":2772,"expressions":[{"type":"Identifier","start":2758,"end":2770,"name":"propertyName"}],"quasis":[{"type":"TemplateElement","start":2755,"end":2756,"value":{"raw":"_","cooked":"_"},"tail":false},{"type":"TemplateElement","start":2771,"end":2771,"value":{"raw":"","cooked":""},"tail":true}]},"computed":true,"optional":false},"right":{"type":"CallExpression","start":2776,"end":2805,"callee":{"type":"Identifier","start":2776,"end":2785,"name":"converter"},"arguments":[{"type":"Identifier","start":2786,"end":2796,"name":"targetType"},{"type":"Identifier","start":2798,"end":2804,"name":"newVal"}],"optional":false}}},{"type":"ExpressionStatement","start":2819,"end":2840,"expression":{"type":"CallExpression","start":2819,"end":2839,"callee":{"type":"Identifier","start":2819,"end":2833,"name":"updateMetadata"},"arguments":[{"type":"ThisExpression","start":2834,"end":2838}],"optional":false}}]}}}],"kind":"const"},{"type":"IfStatement","start":2860,"end":3136,"test":{"type":"UnaryExpression","start":2864,"end":2891,"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":2871,"end":2891,"object":{"type":"Identifier","start":2871,"end":2877,"name":"target"},"property":{"type":"Identifier","start":2878,"end":2890,"name":"propertyName"},"computed":true,"optional":false}},"consequent":{"type":"BlockStatement","start":2893,"end":3136,"body":[{"type":"ExpressionStatement","start":2907,"end":2925,"expression":{"type":"CallExpression","start":2907,"end":2924,"callee":{"type":"Identifier","start":2907,"end":2922,"name":"saveAnnotations"},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":2938,"end":3126,"expression":{"type":"CallExpression","start":2938,"end":3125,"callee":{"type":"MemberExpression","start":2938,"end":2959,"object":{"type":"Identifier","start":2938,"end":2944,"name":"Object"},"property":{"type":"Identifier","start":2945,"end":2959,"name":"defineProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2960,"end":2966,"name":"target"},{"type":"Identifier","start":2968,"end":2980,"name":"propertyName"},{"type":"ObjectExpression","start":2982,"end":3124,"properties":[{"type":"Property","start":3000,"end":3011,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3000,"end":3003,"name":"get"},"value":{"type":"Identifier","start":3005,"end":3011,"name":"getter"},"kind":"init"},{"type":"Property","start":3029,"end":3040,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3029,"end":3032,"name":"set"},"value":{"type":"Identifier","start":3034,"end":3040,"name":"setter"},"kind":"init"},{"type":"Property","start":3058,"end":3074,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3058,"end":3068,"name":"enumerable"},"value":{"type":"Literal","start":3070,"end":3074,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":3092,"end":3110,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3092,"end":3104,"name":"configurable"},"value":{"type":"Literal","start":3106,"end":3110,"value":true,"raw":"true"},"kind":"init"}]}],"optional":false}}]},"alternate":null}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmVzdGVkLWF0dHJpYnV0ZS5kZWNvcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9kZWNvcmF0b3JzL25lc3RlZC1hdHRyaWJ1dGUuZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRXpELE9BQU8sS0FBSyxDQUFDLE1BQU0sUUFBUSxDQUFDO0FBRTVCLE1BQU0sVUFBVSxlQUFlLENBQUMsVUFBcUMsRUFBRTtJQUNyRSxPQUFPLENBQUMsTUFBVyxFQUFFLFlBQW9CLEVBQUUsRUFBRTtRQUMzQyxNQUFNLFNBQVMsR0FBRyxDQUFDLFFBQWEsRUFBRSxLQUFVLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxFQUFPLEVBQUU7WUFDN0UsSUFBSSxhQUFhLENBQUM7WUFFbEIsSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUNyQixhQUFhLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQzthQUNuQztpQkFBTTtnQkFDTCxNQUFNLFFBQVEsR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUVoQyxJQUFJLFFBQVEsQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRTtvQkFDcEMsYUFBYSxHQUFHLFFBQVEsQ0FBQztpQkFDMUI7YUFDRjtZQUVELElBQUksYUFBYSxFQUFFO2dCQUNqQixJQUFJLENBQUMsZ0JBQWdCLEVBQUU7b0JBQ3JCLE9BQU8sYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDbEM7Z0JBQ0QsT0FBTyxhQUFhLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3BDO1lBRUQsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDLENBQUM7UUFFRixNQUFNLGVBQWUsR0FBRyxHQUFHLEVBQUU7WUFDM0IsTUFBTSxRQUFRLEdBQUcsT0FBTyxD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LFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUVKO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZU1ldGFkYXRhIH0gZnJvbSAnLi4vY29uc3RhbnRzL3N5bWJvbHMnO1xuaW1wb3J0IHsgQXR0cmlidXRlRGVjb3JhdG9yT3B0aW9ucyB9IGZyb20gJy4uL2ludGVyZmFjZXMvYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZSc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXN0ZWRBdHRyaWJ1dGUob3B0aW9uczogQXR0cmlidXRlRGVjb3JhdG9yT3B0aW9ucyA9IHt9KTogUHJvcGVydHlEZWNvcmF0b3Ige1xuICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eU5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGNvbnZlcnRlciA9IChkYXRhVHlwZTogYW55LCB2YWx1ZTogYW55LCBmb3JTZXJpYWxpc2F0aW9uID0gZmFsc2UpOiBhbnkgPT4ge1xuICAgICAgbGV0IGF0dHJDb252ZXJ0ZXI7XG5cbiAgICAgIGlmIChvcHRpb25zLmNvbnZlcnRlcikge1xuICAgICAgICBhdHRyQ29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkYXRhdHlwZSA9IG5ldyBkYXRhVHlwZSgpO1xuXG4gICAgICAgIGlmIChkYXRhdHlwZS5tYXNrICYmIGRhdGF0eXBlLnVubWFzaykge1xuICAgICAgICAgIGF0dHJDb252ZXJ0ZXIgPSBkYXRhdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0ckNvbnZlcnRlcikge1xuICAgICAgICBpZiAoIWZvclNlcmlhbGlzYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci5tYXNrKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci51bm1hc2sodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGNvbnN0IHNhdmVBbm5vdGF0aW9ucyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnTmVzdGVkQXR0cmlidXRlJywgdGFyZ2V0KSB8fCB7fTtcblxuICAgICAgbWV0YWRhdGFbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgbWFya2VkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdOZXN0ZWRBdHRyaWJ1dGUnLCBtZXRhZGF0YSwgdGFyZ2V0KTtcblxuICAgICAgY29uc3QgbWFwcGluZ01ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlTWFwcGluZycsIHRhcmdldCkgfHwge307XG4gICAgICBjb25zdCBzZXJpYWxpemVkUHJvcGVydHlOYW1lID0gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSA6IHByb3BlcnR5TmFtZTtcbiAgICAgIG1hcHBpbmdNZXRhZGF0YVtzZXJpYWxpemVkUHJvcGVydHlOYW1lXSA9IHByb3BlcnR5TmFtZTtcbiAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0F0dHJpYnV0ZU1hcHBpbmcnLCBtYXBwaW5nTWV0YWRhdGEsIHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZU1ldGFkYXRhID0gKGluc3RhbmNlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gaW5zdGFuY2VbYF8ke3Byb3BlcnR5TmFtZX1gXTtcblxuICAgICAgaWYgKCFpbnN0YW5jZVtBdHRyaWJ1dGVNZXRhZGF0YV0pIHtcbiAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdID0ge307XG4gICAgICB9XG4gICAgICBpZiAoaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0gJiYgIWluc3RhbmNlLmlzTW9kZWxJbml0aWFsaXphdGlvbigpKSB7XG4gICAgICAgIGluc3RhbmNlW0F0dHJpYnV0ZU1ldGFkYXRhXVtwcm9wZXJ0eU5hbWVdLm5ld1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGluc3RhbmNlW0F0dHJpYnV0ZU1ldGFkYXRhXVtwcm9wZXJ0eU5hbWVdLmhhc0RpcnR5QXR0cmlidXRlcyA9ICFfLmlzRXF1YWwoXG4gICAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0ub2xkVmFsdWUsXG4gICAgICAgICAgbmV3VmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0uc2VyaWFsaXNhdGlvblZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IF8uY2xvbmVEZWVwKG5ld1ZhbHVlKTtcbiAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0gPSB7XG4gICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgY29udmVydGVyLFxuICAgICAgICAgIG5lc3RlZDogdHJ1ZSxcbiAgICAgICAgICBoYXNEaXJ0eUF0dHJpYnV0ZXM6ICFfLmlzRXF1YWwobmV3VmFsdWUsIG9sZFZhbHVlKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBnZXR0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzW2BfJHtwcm9wZXJ0eU5hbWV9YF07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldHRlciA9IGZ1bmN0aW9uKG5ld1ZhbDogYW55KSB7XG4gICAgICBjb25zdCB0YXJnZXRUeXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIHByb3BlcnR5TmFtZSk7XG4gICAgICB0aGlzW2BfJHtwcm9wZXJ0eU5hbWV9YF0gPSBjb252ZXJ0ZXIodGFyZ2V0VHlwZSwgbmV3VmFsKTtcbiAgICAgIHVwZGF0ZU1ldGFkYXRhKHRoaXMpO1xuICAgIH07XG5cbiAgICBpZiAoZGVsZXRlIHRhcmdldFtwcm9wZXJ0eU5hbWVdKSB7XG4gICAgICBzYXZlQW5ub3RhdGlvbnMoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICBnZXQ6IGdldHRlcixcbiAgICAgICAgc2V0OiBzZXR0ZXIsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICB9XG4gIH07XG59XG4iXX0=","start":3146,"end":10904}]},"code":"import { AttributeMetadata } from '../constants/symbols';\nimport * as _ from 'lodash';\nexport function NestedAttribute(options = {}) {\n    return (target, propertyName) => {\n        const converter = (dataType, value, forSerialisation = false) => {\n            let attrConverter;\n            if (options.converter) {\n                attrConverter = options.converter;\n            }\n            else {\n                const datatype = new dataType();\n                if (datatype.mask && datatype.unmask) {\n                    attrConverter = datatype;\n                }\n            }\n            if (attrConverter) {\n                if (!forSerialisation) {\n                    return attrConverter.mask(value);\n                }\n                return attrConverter.unmask(value);\n            }\n            return value;\n        };\n        const saveAnnotations = () => {\n            const metadata = Reflect.getMetadata('NestedAttribute', target) || {};\n            metadata[propertyName] = {\n                marked: true\n            };\n            Reflect.defineMetadata('NestedAttribute', metadata, target);\n            const mappingMetadata = Reflect.getMetadata('AttributeMapping', target) || {};\n            const serializedPropertyName = options.serializedName !== undefined ? options.serializedName : propertyName;\n            mappingMetadata[serializedPropertyName] = propertyName;\n            Reflect.defineMetadata('AttributeMapping', mappingMetadata, target);\n        };\n        const updateMetadata = (instance) => {\n            const newValue = instance[`_${propertyName}`];\n            if (!instance[AttributeMetadata]) {\n                instance[AttributeMetadata] = {};\n            }\n            if (instance[AttributeMetadata][propertyName] && !instance.isModelInitialization()) {\n                instance[AttributeMetadata][propertyName].newValue = newValue;\n                instance[AttributeMetadata][propertyName].hasDirtyAttributes = !_.isEqual(instance[AttributeMetadata][propertyName].oldValue, newValue);\n                instance[AttributeMetadata][propertyName].serialisationValue = newValue;\n            }\n            else {\n                const oldValue = _.cloneDeep(newValue);\n                instance[AttributeMetadata][propertyName] = {\n                    newValue,\n                    oldValue,\n                    converter,\n                    nested: true,\n                    hasDirtyAttributes: !_.isEqual(newValue, oldValue)\n                };\n            }\n        };\n        const getter = function () {\n            return this[`_${propertyName}`];\n        };\n        const setter = function (newVal) {\n            const targetType = Reflect.getMetadata('design:type', target, propertyName);\n            this[`_${propertyName}`] = converter(targetType, newVal);\n            updateMetadata(this);\n        };\n        if (delete target[propertyName]) {\n            saveAnnotations();\n            Object.defineProperty(target, propertyName, {\n                get: getter,\n                set: setter,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmVzdGVkLWF0dHJpYnV0ZS5kZWNvcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9kZWNvcmF0b3JzL25lc3RlZC1hdHRyaWJ1dGUuZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRXpELE9BQU8sS0FBSyxDQUFDLE1BQU0sUUFBUSxDQUFDO0FBRTVCLE1BQU0sVUFBVSxlQUFlLENBQUMsVUFBcUMsRUFBRTtJQUNyRSxPQUFPLENBQUMsTUFBVyxFQUFFLFlBQW9CLEVBQUUsRUFBRTtRQUMzQyxNQUFNLFNBQVMsR0FBRyxDQUFDLFFBQWEsRUFBRSxLQUFVLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxFQUFPLEVBQUU7WUFDN0UsSUFBSSxhQUFhLENBQUM7WUFFbEIsSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUNyQixhQUFhLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQzthQUNuQztpQkFBTTtnQkFDTCxNQUFNLFFBQVEsR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUVoQyxJQUFJLFFBQVEsQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRTtvQkFDcEMsYUFBYSxHQUFHLFFBQVEsQ0FBQztpQkFDMUI7YUFDRjtZQUVELElBQUksYUFBYSxFQUFFO2dCQUNqQixJQUFJLENBQUMsZ0JBQWdCLEVBQUU7b0JBQ3JCLE9BQU8sYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDbEM7Z0JBQ0QsT0FBTyxhQUFhLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3BDO1lBRUQsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDLENBQUM7UUFFRixNQUFNLGVBQWUsR0FBRyxHQUFHLEVBQUU7WUFDM0IsTUFBTSxRQUFRLEdBQUcsT0FBTyxD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LFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUVKO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZU1ldGFkYXRhIH0gZnJvbSAnLi4vY29uc3RhbnRzL3N5bWJvbHMnO1xuaW1wb3J0IHsgQXR0cmlidXRlRGVjb3JhdG9yT3B0aW9ucyB9IGZyb20gJy4uL2ludGVyZmFjZXMvYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZSc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXN0ZWRBdHRyaWJ1dGUob3B0aW9uczogQXR0cmlidXRlRGVjb3JhdG9yT3B0aW9ucyA9IHt9KTogUHJvcGVydHlEZWNvcmF0b3Ige1xuICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eU5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGNvbnZlcnRlciA9IChkYXRhVHlwZTogYW55LCB2YWx1ZTogYW55LCBmb3JTZXJpYWxpc2F0aW9uID0gZmFsc2UpOiBhbnkgPT4ge1xuICAgICAgbGV0IGF0dHJDb252ZXJ0ZXI7XG5cbiAgICAgIGlmIChvcHRpb25zLmNvbnZlcnRlcikge1xuICAgICAgICBhdHRyQ29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkYXRhdHlwZSA9IG5ldyBkYXRhVHlwZSgpO1xuXG4gICAgICAgIGlmIChkYXRhdHlwZS5tYXNrICYmIGRhdGF0eXBlLnVubWFzaykge1xuICAgICAgICAgIGF0dHJDb252ZXJ0ZXIgPSBkYXRhdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0ckNvbnZlcnRlcikge1xuICAgICAgICBpZiAoIWZvclNlcmlhbGlzYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci5tYXNrKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci51bm1hc2sodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGNvbnN0IHNhdmVBbm5vdGF0aW9ucyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnTmVzdGVkQXR0cmlidXRlJywgdGFyZ2V0KSB8fCB7fTtcblxuICAgICAgbWV0YWRhdGFbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgbWFya2VkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdOZXN0ZWRBdHRyaWJ1dGUnLCBtZXRhZGF0YSwgdGFyZ2V0KTtcblxuICAgICAgY29uc3QgbWFwcGluZ01ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlTWFwcGluZycsIHRhcmdldCkgfHwge307XG4gICAgICBjb25zdCBzZXJpYWxpemVkUHJvcGVydHlOYW1lID0gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSA6IHByb3BlcnR5TmFtZTtcbiAgICAgIG1hcHBpbmdNZXRhZGF0YVtzZXJpYWxpemVkUHJvcGVydHlOYW1lXSA9IHByb3BlcnR5TmFtZTtcbiAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0F0dHJpYnV0ZU1hcHBpbmcnLCBtYXBwaW5nTWV0YWRhdGEsIHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZU1ldGFkYXRhID0gKGluc3RhbmNlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gaW5zdGFuY2VbYF8ke3Byb3BlcnR5TmFtZX1gXTtcblxuICAgICAgaWYgKCFpbnN0YW5jZVtBdHRyaWJ1dGVNZXRhZGF0YV0pIHtcbiAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdID0ge307XG4gICAgICB9XG4gICAgICBpZiAoaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0gJiYgIWluc3RhbmNlLmlzTW9kZWxJbml0aWFsaXphdGlvbigpKSB7XG4gICAgICAgIGluc3RhbmNlW0F0dHJpYnV0ZU1ldGFkYXRhXVtwcm9wZXJ0eU5hbWVdLm5ld1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGluc3RhbmNlW0F0dHJpYnV0ZU1ldGFkYXRhXVtwcm9wZXJ0eU5hbWVdLmhhc0RpcnR5QXR0cmlidXRlcyA9ICFfLmlzRXF1YWwoXG4gICAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0ub2xkVmFsdWUsXG4gICAgICAgICAgbmV3VmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0uc2VyaWFsaXNhdGlvblZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IF8uY2xvbmVEZWVwKG5ld1ZhbHVlKTtcbiAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0gPSB7XG4gICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgY29udmVydGVyLFxuICAgICAgICAgIG5lc3RlZDogdHJ1ZSxcbiAgICAgICAgICBoYXNEaXJ0eUF0dHJpYnV0ZXM6ICFfLmlzRXF1YWwobmV3VmFsdWUsIG9sZFZhbHVlKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBnZXR0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzW2BfJHtwcm9wZXJ0eU5hbWV9YF07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldHRlciA9IGZ1bmN0aW9uKG5ld1ZhbDogYW55KSB7XG4gICAgICBjb25zdCB0YXJnZXRUeXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIHByb3BlcnR5TmFtZSk7XG4gICAgICB0aGlzW2BfJHtwcm9wZXJ0eU5hbWV9YF0gPSBjb252ZXJ0ZXIodGFyZ2V0VHlwZSwgbmV3VmFsKTtcbiAgICAgIHVwZGF0ZU1ldGFkYXRhKHRoaXMpO1xuICAgIH07XG5cbiAgICBpZiAoZGVsZXRlIHRhcmdldFtwcm9wZXJ0eU5hbWVdKSB7XG4gICAgICBzYXZlQW5ub3RhdGlvbnMoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICBnZXQ6IGdldHRlcixcbiAgICAgICAgc2V0OiBzZXR0ZXIsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICB9XG4gIH07XG59XG4iXX0=","customTransformCache":false,"dependencies":["/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/constants/symbols.mjs","lodash"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/nested-attribute.decorator.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { AttributeMetadata } from '../constants/symbols';\nimport * as _ from 'lodash';\nexport function NestedAttribute(options = {}) {\n    return (target, propertyName) => {\n        const converter = (dataType, value, forSerialisation = false) => {\n            let attrConverter;\n            if (options.converter) {\n                attrConverter = options.converter;\n            }\n            else {\n                const datatype = new dataType();\n                if (datatype.mask && datatype.unmask) {\n                    attrConverter = datatype;\n                }\n            }\n            if (attrConverter) {\n                if (!forSerialisation) {\n                    return attrConverter.mask(value);\n                }\n                return attrConverter.unmask(value);\n            }\n            return value;\n        };\n        const saveAnnotations = () => {\n            const metadata = Reflect.getMetadata('NestedAttribute', target) || {};\n            metadata[propertyName] = {\n                marked: true\n            };\n            Reflect.defineMetadata('NestedAttribute', metadata, target);\n            const mappingMetadata = Reflect.getMetadata('AttributeMapping', target) || {};\n            const serializedPropertyName = options.serializedName !== undefined ? options.serializedName : propertyName;\n            mappingMetadata[serializedPropertyName] = propertyName;\n            Reflect.defineMetadata('AttributeMapping', mappingMetadata, target);\n        };\n        const updateMetadata = (instance) => {\n            const newValue = instance[`_${propertyName}`];\n            if (!instance[AttributeMetadata]) {\n                instance[AttributeMetadata] = {};\n            }\n            if (instance[AttributeMetadata][propertyName] && !instance.isModelInitialization()) {\n                instance[AttributeMetadata][propertyName].newValue = newValue;\n                instance[AttributeMetadata][propertyName].hasDirtyAttributes = !_.isEqual(instance[AttributeMetadata][propertyName].oldValue, newValue);\n                instance[AttributeMetadata][propertyName].serialisationValue = newValue;\n            }\n            else {\n                const oldValue = _.cloneDeep(newValue);\n                instance[AttributeMetadata][propertyName] = {\n                    newValue,\n                    oldValue,\n                    converter,\n                    nested: true,\n                    hasDirtyAttributes: !_.isEqual(newValue, oldValue)\n                };\n            }\n        };\n        const getter = function () {\n            return this[`_${propertyName}`];\n        };\n        const setter = function (newVal) {\n            const targetType = Reflect.getMetadata('design:type', target, propertyName);\n            this[`_${propertyName}`] = converter(targetType, newVal);\n            updateMetadata(this);\n        };\n        if (delete target[propertyName]) {\n            saveAnnotations();\n            Object.defineProperty(target, propertyName, {\n                get: getter,\n                set: setter,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmVzdGVkLWF0dHJpYnV0ZS5kZWNvcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9kZWNvcmF0b3JzL25lc3RlZC1hdHRyaWJ1dGUuZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRXpELE9BQU8sS0FBSyxDQUFDLE1BQU0sUUFBUSxDQUFDO0FBRTVCLE1BQU0sVUFBVSxlQUFlLENBQUMsVUFBcUMsRUFBRTtJQUNyRSxPQUFPLENBQUMsTUFBVyxFQUFFLFlBQW9CLEVBQUUsRUFBRTtRQUMzQyxNQUFNLFNBQVMsR0FBRyxDQUFDLFFBQWEsRUFBRSxLQUFVLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxFQUFPLEVBQUU7WUFDN0UsSUFBSSxhQUFhLENBQUM7WUFFbEIsSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUNyQixhQUFhLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQzthQUNuQztpQkFBTTtnQkFDTCxNQUFNLFFBQVEsR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUVoQyxJQUFJLFFBQVEsQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRTtvQkFDcEMsYUFBYSxHQUFHLFFBQVEsQ0FBQztpQkFDMUI7YUFDRjtZQUVELElBQUksYUFBYSxFQUFFO2dCQUNqQixJQUFJLENBQUMsZ0JBQWdCLEVBQUU7b0JBQ3JCLE9BQU8sYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDbEM7Z0JBQ0QsT0FBTyxhQUFhLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3BDO1lBRUQsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDLENBQUM7UUFFRixNQUFNLGVBQWUsR0FBRyxHQUFHLEVBQUU7WUFDM0IsTUFBTSxRQUFRLEdBQUcsT0FBTyxD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LFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUVKO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZU1ldGFkYXRhIH0gZnJvbSAnLi4vY29uc3RhbnRzL3N5bWJvbHMnO1xuaW1wb3J0IHsgQXR0cmlidXRlRGVjb3JhdG9yT3B0aW9ucyB9IGZyb20gJy4uL2ludGVyZmFjZXMvYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZSc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXN0ZWRBdHRyaWJ1dGUob3B0aW9uczogQXR0cmlidXRlRGVjb3JhdG9yT3B0aW9ucyA9IHt9KTogUHJvcGVydHlEZWNvcmF0b3Ige1xuICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eU5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGNvbnZlcnRlciA9IChkYXRhVHlwZTogYW55LCB2YWx1ZTogYW55LCBmb3JTZXJpYWxpc2F0aW9uID0gZmFsc2UpOiBhbnkgPT4ge1xuICAgICAgbGV0IGF0dHJDb252ZXJ0ZXI7XG5cbiAgICAgIGlmIChvcHRpb25zLmNvbnZlcnRlcikge1xuICAgICAgICBhdHRyQ29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkYXRhdHlwZSA9IG5ldyBkYXRhVHlwZSgpO1xuXG4gICAgICAgIGlmIChkYXRhdHlwZS5tYXNrICYmIGRhdGF0eXBlLnVubWFzaykge1xuICAgICAgICAgIGF0dHJDb252ZXJ0ZXIgPSBkYXRhdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0ckNvbnZlcnRlcikge1xuICAgICAgICBpZiAoIWZvclNlcmlhbGlzYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci5tYXNrKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0ckNvbnZlcnRlci51bm1hc2sodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGNvbnN0IHNhdmVBbm5vdGF0aW9ucyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnTmVzdGVkQXR0cmlidXRlJywgdGFyZ2V0KSB8fCB7fTtcblxuICAgICAgbWV0YWRhdGFbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgbWFya2VkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdOZXN0ZWRBdHRyaWJ1dGUnLCBtZXRhZGF0YSwgdGFyZ2V0KTtcblxuICAgICAgY29uc3QgbWFwcGluZ01ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlTWFwcGluZycsIHRhcmdldCkgfHwge307XG4gICAgICBjb25zdCBzZXJpYWxpemVkUHJvcGVydHlOYW1lID0gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zZXJpYWxpemVkTmFtZSA6IHByb3BlcnR5TmFtZTtcbiAgICAgIG1hcHBpbmdNZXRhZGF0YVtzZXJpYWxpemVkUHJvcGVydHlOYW1lXSA9IHByb3BlcnR5TmFtZTtcbiAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0F0dHJpYnV0ZU1hcHBpbmcnLCBtYXBwaW5nTWV0YWRhdGEsIHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZU1ldGFkYXRhID0gKGluc3RhbmNlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gaW5zdGFuY2VbYF8ke3Byb3BlcnR5TmFtZX1gXTtcblxuICAgICAgaWYgKCFpbnN0YW5jZVtBdHRyaWJ1dGVNZXRhZGF0YV0pIHtcbiAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdID0ge307XG4gICAgICB9XG4gICAgICBpZiAoaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0gJiYgIWluc3RhbmNlLmlzTW9kZWxJbml0aWFsaXphdGlvbigpKSB7XG4gICAgICAgIGluc3RhbmNlW0F0dHJpYnV0ZU1ldGFkYXRhXVtwcm9wZXJ0eU5hbWVdLm5ld1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGluc3RhbmNlW0F0dHJpYnV0ZU1ldGFkYXRhXVtwcm9wZXJ0eU5hbWVdLmhhc0RpcnR5QXR0cmlidXRlcyA9ICFfLmlzRXF1YWwoXG4gICAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0ub2xkVmFsdWUsXG4gICAgICAgICAgbmV3VmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0uc2VyaWFsaXNhdGlvblZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IF8uY2xvbmVEZWVwKG5ld1ZhbHVlKTtcbiAgICAgICAgaW5zdGFuY2VbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0gPSB7XG4gICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgY29udmVydGVyLFxuICAgICAgICAgIG5lc3RlZDogdHJ1ZSxcbiAgICAgICAgICBoYXNEaXJ0eUF0dHJpYnV0ZXM6ICFfLmlzRXF1YWwobmV3VmFsdWUsIG9sZFZhbHVlKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBnZXR0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzW2BfJHtwcm9wZXJ0eU5hbWV9YF07XG4gICAgfTtcblxuICAgIGNvbnN0IHNldHRlciA9IGZ1bmN0aW9uKG5ld1ZhbDogYW55KSB7XG4gICAgICBjb25zdCB0YXJnZXRUeXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIHByb3BlcnR5TmFtZSk7XG4gICAgICB0aGlzW2BfJHtwcm9wZXJ0eU5hbWV9YF0gPSBjb252ZXJ0ZXIodGFyZ2V0VHlwZSwgbmV3VmFsKTtcbiAgICAgIHVwZGF0ZU1ldGFkYXRhKHRoaXMpO1xuICAgIH07XG5cbiAgICBpZiAoZGVsZXRlIHRhcmdldFtwcm9wZXJ0eU5hbWVdKSB7XG4gICAgICBzYXZlQW5ub3RhdGlvbnMoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICBnZXQ6IGdldHRlcixcbiAgICAgICAgc2V0OiBzZXR0ZXIsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICB9XG4gIH07XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"nested-attribute.decorator.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/decorators/nested-attribute.decorator.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[26,0,0,26],[28,0,0,28],[34,0,0,34],[56,0,0,56],[57,0,0,57]],[[0,0,2,0],[7,0,2,7],[12,0,2,12],[13,0,2,13],[19,0,2,19],[27,0,2,27],[28,0,2,28]],[[0,0,4,0],[6,0,4,6],[16,0,4,16],[31,0,4,31],[32,0,4,32],[42,0,4,69],[44,0,4,71]],[[4,0,5,2],[11,0,5,9],[12,0,5,10],[18,0,5,21],[20,0,5,23],[32,0,5,43],[34,0,5,45],[36,0,5,47]],[[8,0,6,4],[14,0,6,10],[23,0,6,19],[26,0,6,22],[27,0,6,23],[35,0,6,36],[37,0,6,38],[42,0,6,48],[44,0,6,50],[60,0,6,66],[63,0,6,69],[68,0,6,74],[70,0,6,81],[72,0,6,83]],[[12,0,7,6],[16,0,7,10],[29,0,7,23],[30,0,7,24]],[[12,0,9,6],[16,0,9,10],[23,0,9,17],[24,0,9,18],[33,0,9,27],[35,0,9,29]],[[16,0,10,8],[29,0,10,21],[32,0,10,24],[39,0,10,31],[40,0,10,32],[49,0,10,41],[50,0,10,42]],[[13,0,11,7]],[[17,0,11,13]],[[16,0,12,8],[22,0,12,14],[30,0,12,22],[33,0,12,25],[37,0,12,29],[45,0,12,37],[47,0,12,39],[48,0,12,40]],[[16,0,14,8],[20,0,14,12],[28,0,14,20],[29,0,14,21],[33,0,14,25],[37,0,14,29],[45,0,14,37],[46,0,14,38],[52,0,14,44],[54,0,14,46]],[[20,0,15,10],[33,0,15,23],[36,0,15,26],[44,0,15,34],[45,0,15,35]],[[17,0,16,9]],[[13,0,17,7]],[[12,0,19,6],[16,0,19,10],[29,0,19,23],[31,0,19,25]],[[16,0,20,8],[20,0,20,12],[21,0,20,13],[37,0,20,29],[39,0,20,31]],[[20,0,21,10],[27,0,21,17],[40,0,21,30],[41,0,21,31],[45,0,21,35],[46,0,21,36],[51,0,21,41],[52,0,21,42],[53,0,21,43]],[[17,0,22,9]],[[16,0,23,8],[23,0,23,15],[36,0,23,28],[37,0,23,29],[43,0,23,35],[44,0,23,36],[49,0,23,41],[50,0,23,42],[51,0,23,43]],[[13,0,24,7]],[[12,0,26,6],[19,0,26,13],[24,0,26,18],[25,0,26,19]],[[8,0,27,4],[9,0,27,5],[10,0,27,6]],[[8,0,29,4],[14,0,29,10],[29,0,29,25],[32,0,29,28],[35,0,29,31],[37,0,29,33]],[[12,0,30,6],[18,0,30,12],[26,0,30,20],[29,0,30,23],[36,0,30,30],[37,0,30,31],[48,0,30,42],[49,0,30,43],[66,0,30,60],[68,0,30,62],[74,0,30,68],[75,0,30,69],[79,0,30,73],[81,0,30,75],[82,0,30,76]],[[12,0,32,6],[20,0,32,14],[21,0,32,15],[33,0,32,27],[34,0,32,28],[37,0,32,31]],[[16,0,33,8],[22,0,33,14],[24,0,33,16],[28,0,33,20]],[[13,0,34,7],[14,0,34,8]],[[12,0,36,6],[19,0,36,13],[20,0,36,14],[34,0,36,28],[35,0,36,29],[52,0,36,46],[54,0,36,48],[62,0,36,56],[64,0,36,58],[70,0,36,64],[71,0,36,65],[72,0,36,66]],[[12,0,38,6],[18,0,38,12],[33,0,38,27],[36,0,38,30],[43,0,38,37],[44,0,38,38],[55,0,38,49],[56,0,38,50],[74,0,38,68],[76,0,38,70],[82,0,38,76],[83,0,38,77],[87,0,38,81],[89,0,38,83],[90,0,38,84]],[[12,0,39,6],[18,0,39,12],[40,0,39,34],[43,0,39,37],[50,0,39,44],[51,0,39,45],[65,0,39,59],[70,0,39,64],[79,0,39,73],[80,0,39,74],[81,0,39,75],[82,0,39,76],[89,0,39,83],[90,0,39,84],[104,0,39,98],[105,0,39,99],[106,0,39,100],[107,0,39,101],[119,0,39,113],[120,0,39,114]],[[12,0,40,6],[27,0,40,21],[28,0,40,22],[50,0,40,44],[51,0,40,45],[54,0,40,48],[66,0,40,60],[67,0,40,61]],[[12,0,41,6],[19,0,41,13],[20,0,41,14],[34,0,41,28],[35,0,41,29],[53,0,41,47],[55,0,41,49],[70,0,41,64],[72,0,41,66],[78,0,41,72],[79,0,41,73],[80,0,41,74]],[[8,0,42,4],[9,0,42,5],[10,0,42,6]],[[8,0,44,4],[14,0,44,10],[28,0,44,24],[31,0,44,27],[32,0,44,28],[40,0,44,41],[42,0,44,43],[44,0,44,45]],[[12,0,45,6],[18,0,45,12],[26,0,45,20],[29,0,45,23],[37,0,45,31],[38,0,45,32],[42,0,45,36],[54,0,45,48],[56,0,45,50],[57,0,45,51],[58,0,45,52]],[[12,0,47,6],[16,0,47,10],[17,0,47,11],[25,0,47,19],[26,0,47,20],[43,0,47,37],[44,0,47,38],[46,0,47,40]],[[16,0,48,8],[24,0,48,16],[25,0,48,17],[42,0,48,34],[43,0,48,35],[46,0,48,38],[48,0,48,40],[49,0,48,41]],[[13,0,49,7]],[[12,0,50,6],[16,0,50,10],[24,0,50,18],[25,0,50,19],[42,0,50,36],[43,0,50,37],[44,0,50,38],[56,0,50,50],[57,0,50,51],[61,0,50,55],[62,0,50,56],[70,0,50,64],[71,0,50,65],[92,0,50,86],[94,0,50,88],[96,0,50,90]],[[16,0,51,8],[24,0,51,16],[25,0,51,17],[42,0,51,34],[43,0,51,35],[44,0,51,36],[56,0,51,48],[57,0,51,49],[58,0,51,50],[66,0,51,58],[69,0,51,61],[77,0,51,69],[78,0,51,70]],[[16,0,52,8],[24,0,52,16],[25,0,52,17],[42,0,52,34],[43,0,52,35],[44,0,52,36],[56,0,52,48],[57,0,52,49],[58,0,52,50],[76,0,52,68],[79,0,52,71],[80,0,52,72],[81,0,52,73],[82,0,52,74],[89,0,52,81],[90,0,53,10],[98,0,53,18],[99,0,53,19],[116,0,53,36],[117,0,53,37],[118,0,53,38],[130,0,53,50],[131,0,53,51],[132,0,53,52],[140,0,53,60],[142,0,54,10],[150,0,54,18],[151,0,55,9],[152,0,55,10]],[[16,0,56,8],[24,0,56,16],[25,0,56,17],[42,0,56,34],[43,0,56,35],[44,0,56,36],[56,0,56,48],[57,0,56,49],[58,0,56,50],[76,0,56,68],[79,0,56,71],[87,0,56,79],[88,0,56,80]],[[13,0,57,7]],[[17,0,57,13]],[[16,0,58,8],[22,0,58,14],[30,0,58,22],[33,0,58,25],[34,0,58,26],[35,0,58,27],[44,0,58,36],[45,0,58,37],[53,0,58,45],[54,0,58,46],[55,0,58,47]],[[16,0,59,8],[24,0,59,16],[25,0,59,17],[42,0,59,34],[43,0,59,35],[44,0,59,36],[56,0,59,48],[57,0,59,49],[60,0,59,52]],[[20,0,60,10],[28,0,60,18]],[[20,0,61,10],[28,0,61,18]],[[20,0,62,10],[29,0,62,19]],[[20,0,63,10],[26,0,63,16],[28,0,63,18],[32,0,63,22]],[[20,0,64,10],[38,0,64,28],[40,0,64,30],[41,0,64,31],[42,0,64,32],[43,0,64,33],[50,0,64,40],[51,0,64,41],[59,0,64,49],[61,0,64,51],[69,0,64,59],[70,0,64,60]],[[17,0,65,9],[18,0,65,10]],[[13,0,66,7]],[[8,0,67,4],[9,0,67,5],[10,0,67,6]],[[8,0,69,4],[14,0,69,10],[20,0,69,16],[23,0,69,19]],[[12,0,70,6],[19,0,70,13],[23,0,70,17],[24,0,70,18],[28,0,70,22],[40,0,70,34],[42,0,70,36],[43,0,70,37],[44,0,70,38]],[[8,0,71,4],[9,0,71,5],[10,0,71,6]],[[8,0,73,4],[14,0,73,10],[20,0,73,16],[23,0,73,19],[33,0,73,28],[39,0,73,39]],[[12,0,74,6],[18,0,74,12],[28,0,74,22],[31,0,74,25],[38,0,74,32],[39,0,74,33],[50,0,74,44],[51,0,74,45],[64,0,74,58],[66,0,74,60],[72,0,74,66],[74,0,74,68],[86,0,74,80],[87,0,74,81],[88,0,74,82]],[[12,0,75,6],[16,0,75,10],[17,0,75,11],[21,0,75,15],[33,0,75,27],[35,0,75,29],[36,0,75,30],[39,0,75,33],[48,0,75,42],[49,0,75,43],[59,0,75,53],[61,0,75,55],[67,0,75,61],[68,0,75,62],[69,0,75,63]],[[12,0,76,6],[26,0,76,20],[27,0,76,21],[31,0,76,25],[32,0,76,26],[33,0,76,27]],[[8,0,77,4],[9,0,77,5],[10,0,77,6]],[[8,0,79,4],[12,0,79,8],[19,0,79,15],[25,0,79,21],[26,0,79,22],[38,0,79,34],[39,0,79,35],[41,0,79,37]],[[12,0,80,6],[27,0,80,21],[29,0,80,23],[30,0,80,24]],[[12,0,81,6],[18,0,81,12],[19,0,81,13],[33,0,81,27],[34,0,81,28],[40,0,81,34],[42,0,81,36],[54,0,81,48],[56,0,81,50]],[[16,0,82,8],[19,0,82,11],[21,0,82,13],[27,0,82,19]],[[16,0,83,8],[19,0,83,11],[21,0,83,13],[27,0,83,19]],[[16,0,84,8],[26,0,84,18],[28,0,84,20],[32,0,84,24]],[[16,0,85,8],[28,0,85,20],[30,0,85,22],[34,0,85,26]],[[13,0,86,7],[14,0,86,8],[15,0,86,9]],[[9,0,88,5]],[[4,0,89,2],[5,0,89,3],[6,0,89,4]],[[0,0,90,0],[1,0,90,1]]],"sourcesContent":["import { AttributeMetadata } from '../constants/symbols';\nimport { AttributeDecoratorOptions } from '../interfaces/attribute-decorator-options.interface';\nimport * as _ from 'lodash';\n\nexport function NestedAttribute(options: AttributeDecoratorOptions = {}): PropertyDecorator {\n  return (target: any, propertyName: string) => {\n    const converter = (dataType: any, value: any, forSerialisation = false): any => {\n      let attrConverter;\n\n      if (options.converter) {\n        attrConverter = options.converter;\n      } else {\n        const datatype = new dataType();\n\n        if (datatype.mask && datatype.unmask) {\n          attrConverter = datatype;\n        }\n      }\n\n      if (attrConverter) {\n        if (!forSerialisation) {\n          return attrConverter.mask(value);\n        }\n        return attrConverter.unmask(value);\n      }\n\n      return value;\n    };\n\n    const saveAnnotations = () => {\n      const metadata = Reflect.getMetadata('NestedAttribute', target) || {};\n\n      metadata[propertyName] = {\n        marked: true\n      };\n\n      Reflect.defineMetadata('NestedAttribute', metadata, target);\n\n      const mappingMetadata = Reflect.getMetadata('AttributeMapping', target) || {};\n      const serializedPropertyName = options.serializedName !== undefined ? options.serializedName : propertyName;\n      mappingMetadata[serializedPropertyName] = propertyName;\n      Reflect.defineMetadata('AttributeMapping', mappingMetadata, target);\n    };\n\n    const updateMetadata = (instance: any) => {\n      const newValue = instance[`_${propertyName}`];\n\n      if (!instance[AttributeMetadata]) {\n        instance[AttributeMetadata] = {};\n      }\n      if (instance[AttributeMetadata][propertyName] && !instance.isModelInitialization()) {\n        instance[AttributeMetadata][propertyName].newValue = newValue;\n        instance[AttributeMetadata][propertyName].hasDirtyAttributes = !_.isEqual(\n          instance[AttributeMetadata][propertyName].oldValue,\n          newValue\n        );\n        instance[AttributeMetadata][propertyName].serialisationValue = newValue;\n      } else {\n        const oldValue = _.cloneDeep(newValue);\n        instance[AttributeMetadata][propertyName] = {\n          newValue,\n          oldValue,\n          converter,\n          nested: true,\n          hasDirtyAttributes: !_.isEqual(newValue, oldValue)\n        };\n      }\n    };\n\n    const getter = function() {\n      return this[`_${propertyName}`];\n    };\n\n    const setter = function(newVal: any) {\n      const targetType = Reflect.getMetadata('design:type', target, propertyName);\n      this[`_${propertyName}`] = converter(targetType, newVal);\n      updateMetadata(this);\n    };\n\n    if (delete target[propertyName]) {\n      saveAnnotations();\n      Object.defineProperty(target, propertyName, {\n        get: getter,\n        set: setter,\n        enumerable: true,\n        configurable: true\n      });\n\n    }\n  };\n}\n"]},"resolvedIds":{"lodash":{"external":true,"id":"lodash","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../constants/symbols":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/constants/symbols.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":8239,"body":[{"type":"ImportDeclaration","start":0,"end":66,"specifiers":[{"type":"ImportSpecifier","start":9,"end":22,"imported":{"type":"Identifier","start":9,"end":22,"name":"DateConverter"},"local":{"type":"Identifier","start":9,"end":22,"name":"DateConverter"}}],"source":{"type":"Literal","start":30,"end":65,"value":"../converters/date/date.converter","raw":"'../converters/date/date.converter'"}},{"type":"ExportNamedDeclaration","start":67,"end":2352,"declaration":{"type":"FunctionDeclaration","start":74,"end":2352,"id":{"type":"Identifier","start":83,"end":96,"name":"JsonAttribute"},"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":97,"end":109,"left":{"type":"Identifier","start":97,"end":104,"name":"options"},"right":{"type":"ObjectExpression","start":107,"end":109,"properties":[]}}],"body":{"type":"BlockStatement","start":111,"end":2352,"body":[{"type":"ReturnStatement","start":117,"end":2350,"argument":{"type":"ArrowFunctionExpression","start":124,"end":2349,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":125,"end":131,"name":"target"},{"type":"Identifier","start":133,"end":145,"name":"propertyName"}],"body":{"type":"BlockStatement","start":150,"end":2349,"body":[{"type":"VariableDeclaration","start":160,"end":919,"declarations":[{"type":"VariableDeclarator","start":166,"end":918,"id":{"type":"Identifier","start":166,"end":175,"name":"converter"},"init":{"type":"ArrowFunctionExpression","start":178,"end":918,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":179,"end":187,"name":"dataType"},{"type":"Identifier","start":189,"end":194,"name":"value"},{"type":"AssignmentPattern","start":196,"end":220,"left":{"type":"Identifier","start":196,"end":212,"name":"forSerialisation"},"right":{"type":"Literal","start":215,"end":220,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":225,"end":918,"body":[{"type":"VariableDeclaration","start":239,"end":257,"declarations":[{"type":"VariableDeclarator","start":243,"end":256,"id":{"type":"Identifier","start":243,"end":256,"name":"attrConverter"},"init":null}],"kind":"let"},{"type":"IfStatement","start":270,"end":670,"test":{"type":"MemberExpression","start":274,"end":291,"object":{"type":"Identifier","start":274,"end":281,"name":"options"},"property":{"type":"Identifier","start":282,"end":291,"name":"converter"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":293,"end":359,"body":[{"type":"ExpressionStatement","start":311,"end":345,"expression":{"type":"AssignmentExpression","start":311,"end":344,"operator":"=","left":{"type":"Identifier","start":311,"end":324,"name":"attrConverter"},"right":{"type":"MemberExpression","start":327,"end":344,"object":{"type":"Identifier","start":327,"end":334,"name":"options"},"property":{"type":"Identifier","start":335,"end":344,"name":"converter"},"computed":false,"optional":false}}}]},"alternate":{"type":"IfStatement","start":377,"end":670,"test":{"type":"BinaryExpression","start":381,"end":398,"left":{"type":"Identifier","start":381,"end":389,"name":"dataType"},"operator":"===","right":{"type":"Identifier","start":394,"end":398,"name":"Date"}},"consequent":{"type":"BlockStatement","start":400,"end":468,"body":[{"type":"ExpressionStatement","start":418,"end":454,"expression":{"type":"AssignmentExpression","start":418,"end":453,"operator":"=","left":{"type":"Identifier","start":418,"end":431,"name":"attrConverter"},"right":{"type":"NewExpression","start":434,"end":453,"callee":{"type":"Identifier","start":438,"end":451,"name":"DateConverter"},"arguments":[]}}}]},"alternate":{"type":"BlockStatement","start":486,"end":670,"body":[{"type":"VariableDeclaration","start":504,"end":536,"declarations":[{"type":"VariableDeclarator","start":510,"end":535,"id":{"type":"Identifier","start":510,"end":518,"name":"datatype"},"init":{"type":"NewExpression","start":521,"end":535,"callee":{"type":"Identifier","start":525,"end":533,"name":"dataType"},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","start":553,"end":656,"test":{"type":"LogicalExpression","start":557,"end":589,"left":{"type":"MemberExpression","start":557,"end":570,"object":{"type":"Identifier","start":557,"end":565,"name":"datatype"},"property":{"type":"Identifier","start":566,"end":570,"name":"mask"},"computed":false,"optional":false},"operator":"&&","right":{"type":"MemberExpression","start":574,"end":589,"object":{"type":"Identifier","start":574,"end":582,"name":"datatype"},"property":{"type":"Identifier","start":583,"end":589,"name":"unmask"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":591,"end":656,"body":[{"type":"ExpressionStatement","start":613,"end":638,"expression":{"type":"AssignmentExpression","start":613,"end":637,"operator":"=","left":{"type":"Identifier","start":613,"end":626,"name":"attrConverter"},"right":{"type":"Identifier","start":629,"end":637,"name":"datatype"}}}]},"alternate":null}]}}},{"type":"IfStatement","start":683,"end":882,"test":{"type":"Identifier","start":687,"end":700,"name":"attrConverter"},"consequent":{"type":"BlockStatement","start":702,"end":882,"body":[{"type":"IfStatement","start":720,"end":816,"test":{"type":"UnaryExpression","start":724,"end":741,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":725,"end":741,"name":"forSerialisation"}},"consequent":{"type":"BlockStatement","start":743,"end":816,"body":[{"type":"ReturnStatement","start":765,"end":798,"argument":{"type":"CallExpression","start":772,"end":797,"callee":{"type":"MemberExpression","start":772,"end":790,"object":{"type":"Identifier","start":772,"end":785,"name":"attrConverter"},"property":{"type":"Identifier","start":786,"end":790,"name":"mask"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":791,"end":796,"name":"value"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":833,"end":868,"argument":{"type":"CallExpression","start":840,"end":867,"callee":{"type":"MemberExpression","start":840,"end":860,"object":{"type":"Identifier","start":840,"end":853,"name":"attrConverter"},"property":{"type":"Identifier","start":854,"end":860,"name":"unmask"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":861,"end":866,"name":"value"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":895,"end":908,"argument":{"type":"Identifier","start":902,"end":907,"name":"value"}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":928,"end":1566,"declarations":[{"type":"VariableDeclarator","start":934,"end":1565,"id":{"type":"Identifier","start":934,"end":949,"name":"saveAnnotations"},"init":{"type":"ArrowFunctionExpression","start":952,"end":1565,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":958,"end":1565,"body":[{"type":"VariableDeclaration","start":972,"end":1040,"declarations":[{"type":"VariableDeclarator","start":978,"end":1039,"id":{"type":"Identifier","start":978,"end":986,"name":"metadata"},"init":{"type":"LogicalExpression","start":989,"end":1039,"left":{"type":"CallExpression","start":989,"end":1033,"callee":{"type":"MemberExpression","start":989,"end":1008,"object":{"type":"Identifier","start":989,"end":996,"name":"Reflect"},"property":{"type":"Identifier","start":997,"end":1008,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1009,"end":1024,"value":"JsonAttribute","raw":"'JsonAttribute'"},{"type":"Identifier","start":1026,"end":1032,"name":"target"}],"optional":false},"operator":"||","right":{"type":"ObjectExpression","start":1037,"end":1039,"properties":[]}}}],"kind":"const"},{"type":"ExpressionStatement","start":1053,"end":1123,"expression":{"type":"AssignmentExpression","start":1053,"end":1122,"operator":"=","left":{"type":"MemberExpression","start":1053,"end":1075,"object":{"type":"Identifier","start":1053,"end":1061,"name":"metadata"},"property":{"type":"Identifier","start":1062,"end":1074,"name":"propertyName"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":1078,"end":1122,"properties":[{"type":"Property","start":1096,"end":1108,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1096,"end":1102,"name":"marked"},"value":{"type":"Literal","start":1104,"end":1108,"value":true,"raw":"true"},"kind":"init"}]}}},{"type":"ExpressionStatement","start":1136,"end":1194,"expression":{"type":"CallExpression","start":1136,"end":1193,"callee":{"type":"MemberExpression","start":1136,"end":1158,"object":{"type":"Identifier","start":1136,"end":1143,"name":"Reflect"},"property":{"type":"Identifier","start":1144,"end":1158,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1159,"end":1174,"value":"JsonAttribute","raw":"'JsonAttribute'"},{"type":"Identifier","start":1176,"end":1184,"name":"metadata"},{"type":"Identifier","start":1186,"end":1192,"name":"target"}],"optional":false}},{"type":"VariableDeclaration","start":1207,"end":1285,"declarations":[{"type":"VariableDeclarator","start":1213,"end":1284,"id":{"type":"Identifier","start":1213,"end":1228,"name":"mappingMetadata"},"init":{"type":"LogicalExpression","start":1231,"end":1284,"left":{"type":"CallExpression","start":1231,"end":1278,"callee":{"type":"MemberExpression","start":1231,"end":1250,"object":{"type":"Identifier","start":1231,"end":1238,"name":"Reflect"},"property":{"type":"Identifier","start":1239,"end":1250,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1251,"end":1269,"value":"AttributeMapping","raw":"'AttributeMapping'"},{"type":"Identifier","start":1271,"end":1277,"name":"target"}],"optional":false},"operator":"||","right":{"type":"ObjectExpression","start":1282,"end":1284,"properties":[]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1298,"end":1406,"declarations":[{"type":"VariableDeclarator","start":1304,"end":1405,"id":{"type":"Identifier","start":1304,"end":1326,"name":"serializedPropertyName"},"init":{"type":"ConditionalExpression","start":1329,"end":1405,"test":{"type":"BinaryExpression","start":1329,"end":1365,"left":{"type":"MemberExpression","start":1329,"end":1351,"object":{"type":"Identifier","start":1329,"end":1336,"name":"options"},"property":{"type":"Identifier","start":1337,"end":1351,"name":"serializedName"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Identifier","start":1356,"end":1365,"name":"undefined"}},"consequent":{"type":"MemberExpression","start":1368,"end":1390,"object":{"type":"Identifier","start":1368,"end":1375,"name":"options"},"property":{"type":"Identifier","start":1376,"end":1390,"name":"serializedName"},"computed":false,"optional":false},"alternate":{"type":"Identifier","start":1393,"end":1405,"name":"propertyName"}}}],"kind":"const"},{"type":"ExpressionStatement","start":1419,"end":1474,"expression":{"type":"AssignmentExpression","start":1419,"end":1473,"operator":"=","left":{"type":"MemberExpression","start":1419,"end":1458,"object":{"type":"Identifier","start":1419,"end":1434,"name":"mappingMetadata"},"property":{"type":"Identifier","start":1435,"end":1457,"name":"serializedPropertyName"},"computed":true,"optional":false},"right":{"type":"Identifier","start":1461,"end":1473,"name":"propertyName"}}},{"type":"ExpressionStatement","start":1487,"end":1555,"expression":{"type":"CallExpression","start":1487,"end":1554,"callee":{"type":"MemberExpression","start":1487,"end":1509,"object":{"type":"Identifier","start":1487,"end":1494,"name":"Reflect"},"property":{"type":"Identifier","start":1495,"end":1509,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1510,"end":1528,"value":"AttributeMapping","raw":"'AttributeMapping'"},{"type":"Identifier","start":1530,"end":1545,"name":"mappingMetadata"},{"type":"Identifier","start":1547,"end":1553,"name":"target"}],"optional":false}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1575,"end":1845,"declarations":[{"type":"VariableDeclarator","start":1581,"end":1844,"id":{"type":"Identifier","start":1581,"end":1587,"name":"getter"},"init":{"type":"FunctionExpression","start":1590,"end":1844,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1602,"end":1844,"body":[{"type":"IfStatement","start":1616,"end":1789,"test":{"type":"MemberExpression","start":1620,"end":1648,"object":{"type":"ThisExpression","start":1620,"end":1624},"property":{"type":"Identifier","start":1625,"end":1648,"name":"nestedDataSerialization"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":1650,"end":1789,"body":[{"type":"ReturnStatement","start":1668,"end":1775,"argument":{"type":"CallExpression","start":1675,"end":1774,"callee":{"type":"Identifier","start":1675,"end":1684,"name":"converter"},"arguments":[{"type":"CallExpression","start":1685,"end":1741,"callee":{"type":"MemberExpression","start":1685,"end":1704,"object":{"type":"Identifier","start":1685,"end":1692,"name":"Reflect"},"property":{"type":"Identifier","start":1693,"end":1704,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1705,"end":1718,"value":"design:type","raw":"'design:type'"},{"type":"Identifier","start":1720,"end":1726,"name":"target"},{"type":"Identifier","start":1728,"end":1740,"name":"propertyName"}],"optional":false},{"type":"MemberExpression","start":1743,"end":1767,"object":{"type":"ThisExpression","start":1743,"end":1747},"property":{"type":"TemplateLiteral","start":1748,"end":1766,"expressions":[{"type":"Identifier","start":1752,"end":1764,"name":"propertyName"}],"quasis":[{"type":"TemplateElement","start":1749,"end":1750,"value":{"raw":"_","cooked":"_"},"tail":false},{"type":"TemplateElement","start":1765,"end":1765,"value":{"raw":"","cooked":""},"tail":true}]},"computed":true,"optional":false},{"type":"Literal","start":1769,"end":1773,"value":true,"raw":"true"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":1802,"end":1834,"argument":{"type":"MemberExpression","start":1809,"end":1833,"object":{"type":"ThisExpression","start":1809,"end":1813},"property":{"type":"TemplateLiteral","start":1814,"end":1832,"expressions":[{"type":"Identifier","start":1818,"end":1830,"name":"propertyName"}],"quasis":[{"type":"TemplateElement","start":1815,"end":1816,"value":{"raw":"_","cooked":"_"},"tail":false},{"type":"TemplateElement","start":1831,"end":1831,"value":{"raw":"","cooked":""},"tail":true}]},"computed":true,"optional":false}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1854,"end":2058,"declarations":[{"type":"VariableDeclarator","start":1860,"end":2057,"id":{"type":"Identifier","start":1860,"end":1866,"name":"setter"},"init":{"type":"FunctionExpression","start":1869,"end":2057,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1879,"end":1885,"name":"newVal"}],"body":{"type":"BlockStatement","start":1887,"end":2057,"body":[{"type":"VariableDeclaration","start":1901,"end":1977,"declarations":[{"type":"VariableDeclarator","start":1907,"end":1976,"id":{"type":"Identifier","start":1907,"end":1917,"name":"targetType"},"init":{"type":"CallExpression","start":1920,"end":1976,"callee":{"type":"MemberExpression","start":1920,"end":1939,"object":{"type":"Identifier","start":1920,"end":1927,"name":"Reflect"},"property":{"type":"Identifier","start":1928,"end":1939,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1940,"end":1953,"value":"design:type","raw":"'design:type'"},{"type":"Identifier","start":1955,"end":1961,"name":"target"},{"type":"Identifier","start":1963,"end":1975,"name":"propertyName"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":1990,"end":2047,"expression":{"type":"AssignmentExpression","start":1990,"end":2046,"operator":"=","left":{"type":"MemberExpression","start":1990,"end":2014,"object":{"type":"ThisExpression","start":1990,"end":1994},"property":{"type":"TemplateLiteral","start":1995,"end":2013,"expressions":[{"type":"Identifier","start":1999,"end":2011,"name":"propertyName"}],"quasis":[{"type":"TemplateElement","start":1996,"end":1997,"value":{"raw":"_","cooked":"_"},"tail":false},{"type":"TemplateElement","start":2012,"end":2012,"value":{"raw":"","cooked":""},"tail":true}]},"computed":true,"optional":false},"right":{"type":"CallExpression","start":2017,"end":2046,"callee":{"type":"Identifier","start":2017,"end":2026,"name":"converter"},"arguments":[{"type":"Identifier","start":2027,"end":2037,"name":"targetType"},{"type":"Identifier","start":2039,"end":2045,"name":"newVal"}],"optional":false}}}]}}}],"kind":"const"},{"type":"IfStatement","start":2067,"end":2343,"test":{"type":"UnaryExpression","start":2071,"end":2098,"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":2078,"end":2098,"object":{"type":"Identifier","start":2078,"end":2084,"name":"target"},"property":{"type":"Identifier","start":2085,"end":2097,"name":"propertyName"},"computed":true,"optional":false}},"consequent":{"type":"BlockStatement","start":2100,"end":2343,"body":[{"type":"ExpressionStatement","start":2114,"end":2132,"expression":{"type":"CallExpression","start":2114,"end":2131,"callee":{"type":"Identifier","start":2114,"end":2129,"name":"saveAnnotations"},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":2145,"end":2333,"expression":{"type":"CallExpression","start":2145,"end":2332,"callee":{"type":"MemberExpression","start":2145,"end":2166,"object":{"type":"Identifier","start":2145,"end":2151,"name":"Object"},"property":{"type":"Identifier","start":2152,"end":2166,"name":"defineProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2167,"end":2173,"name":"target"},{"type":"Identifier","start":2175,"end":2187,"name":"propertyName"},{"type":"ObjectExpression","start":2189,"end":2331,"properties":[{"type":"Property","start":2207,"end":2218,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2207,"end":2210,"name":"get"},"value":{"type":"Identifier","start":2212,"end":2218,"name":"getter"},"kind":"init"},{"type":"Property","start":2236,"end":2247,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2236,"end":2239,"name":"set"},"value":{"type":"Identifier","start":2241,"end":2247,"name":"setter"},"kind":"init"},{"type":"Property","start":2265,"end":2281,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2265,"end":2275,"name":"enumerable"},"value":{"type":"Literal","start":2277,"end":2281,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":2299,"end":2317,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2299,"end":2311,"name":"configurable"},"value":{"type":"Literal","start":2313,"end":2317,"value":true,"raw":"true"},"kind":"init"}]}],"optional":false}}]},"alternate":null}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hdHRyaWJ1dGUuZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvZGVjb3JhdG9ycy9qc29uLWF0dHJpYnV0ZS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRWxFLE1BQU0sVUFBVSxhQUFhLENBQUMsVUFBcUMsRUFBRTtJQUNuRSxPQUFPLENBQUMsTUFBVyxFQUFFLFlBQW9CLEVBQUUsRUFBRTtRQUMzQyxNQUFNLFNBQVMsR0FBRyxDQUFDLFFBQWEsRUFBRSxLQUFVLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxFQUFPLEVBQUU7WUFDN0UsSUFBSSxhQUFhLENBQUM7WUFFbEIsSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUNyQixhQUFhLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQzthQUNuQztpQkFBTSxJQUFJLFFBQVEsS0FBSyxJQUFJLEVBQUU7Z0JBQzVCLGFBQWEsR0FBRyxJQUFJLGFBQWEsRUFBRSxDQUFDO2FBQ3JDO2lCQUFNO2dCQUNMLE1BQU0sUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7Z0JBRWhDLElBQUksUUFBUSxDQUFDLElBQUksSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO29CQUNwQyxhQUFhLEdBQUcsUUFBUSxDQUFDO2lCQUMxQjthQUNGO1lBRUQsSUFBSSxhQUFhLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtvQkFDckIsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNsQztnQkFDRCxPQUFPLGFBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEM7WUFFRCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUMsQ0FBQztRQUVGLE1BQU0sZUFBZSxHQUFHLEdBQUcsRUFBRTtZQUMzQixNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7WUFFcEUsUUFBUSxDQUFDLFlBQVksQ0FBQyxHQUFHO2dCQUN2QixNQUFNLEVBQUUsSUFBSTthQUNiLENBQUM7WUFFRixPQUFPLENBQUMsY0FBYyxDQUFDLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFFMUQsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDOUUsTUFBTSxzQkFBc0IsR0FBRyxPQUFPLENBQUMsY0FBYyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDO1lBQzVHLGVBQWUsQ0FBQyxzQkFBc0IsQ0FBQyxHQUFHLFlBQVksQ0FBQztZQUN2RCxPQUFPLENBQUMsY0FBYyxDQUFDLGtCQUFrQixFQUFFLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN0RSxDQUFDLENBQUM7UUFFRixNQUFNLE1BQU0sR0FBRztZQUNiLElBQUksSUFBSSxDQUFDLHVCQUF1QixFQUFFO2dCQUNoQyxPQUFPLFNBQVMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxNQUFNLEVBQUUsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksWUFBWSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzthQUM1RztZQUNELE9BQU8sSUFBSSxDQUFDLElBQUksWUFBWSxFQUFFLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUM7UUFFRixNQUFNLE1BQU0sR0FBRyxVQUFTLE1BQVc7WUFDakMsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzVFLElBQUksQ0FBQyxJQUFJLFlBQVksRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMzRCxDQUFDLENBQUM7UUFFRixJQUFJLE9BQU8sTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQy9CLGVBQWUsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRTtnQkFDMUMsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZURlY29yYXRvck9wdGlvbnMgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2F0dHJpYnV0ZS1kZWNvcmF0b3Itb3B0aW9ucy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRGF0ZUNvbnZlcnRlciB9IGZyb20gJy4uL2NvbnZlcnRlcnMvZGF0ZS9kYXRlLmNvbnZlcnRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBKc29uQXR0cmlidXRlKG9wdGlvbnM6IEF0dHJpYnV0ZURlY29yYXRvck9wdGlvbnMgPSB7fSk6IFByb3BlcnR5RGVjb3JhdG9yIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjb252ZXJ0ZXIgPSAoZGF0YVR5cGU6IGFueSwgdmFsdWU6IGFueSwgZm9yU2VyaWFsaXNhdGlvbiA9IGZhbHNlKTogYW55ID0+IHtcbiAgICAgIGxldCBhdHRyQ29udmVydGVyO1xuXG4gICAgICBpZiAob3B0aW9ucy5jb252ZXJ0ZXIpIHtcbiAgICAgICAgYXR0ckNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyO1xuICAgICAgfSBlbHNlIGlmIChkYXRhVHlwZSA9PT0gRGF0ZSkge1xuICAgICAgICBhdHRyQ29udmVydGVyID0gbmV3IERhdGVDb252ZXJ0ZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRhdGF0eXBlID0gbmV3IGRhdGFUeXBlKCk7XG5cbiAgICAgICAgaWYgKGRhdGF0eXBlLm1hc2sgJiYgZGF0YXR5cGUudW5tYXNrKSB7XG4gICAgICAgICAgYXR0ckNvbnZlcnRlciA9IGRhdGF0eXBlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRyQ29udmVydGVyKSB7XG4gICAgICAgIGlmICghZm9yU2VyaWFsaXNhdGlvbikge1xuICAgICAgICAgIHJldHVybiBhdHRyQ29udmVydGVyLm1hc2sodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyQ29udmVydGVyLnVubWFzayh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2F2ZUFubm90YXRpb25zID0gKCkgPT4ge1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXR0cmlidXRlJywgdGFyZ2V0KSB8fCB7fTtcblxuICAgICAgbWV0YWRhdGFbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgbWFya2VkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdKc29uQXR0cmlidXRlJywgbWV0YWRhdGEsIHRhcmdldCk7XG5cbiAgICAgIGNvbnN0IG1hcHBpbmdNZXRhZGF0YSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0F0dHJpYnV0ZU1hcHBpbmcnLCB0YXJnZXQpIHx8IHt9O1xuICAgICAgY29uc3Qgc2VyaWFsaXplZFByb3BlcnR5TmFtZSA9IG9wdGlvbnMuc2VyaWFsaXplZE5hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2VyaWFsaXplZE5hbWUgOiBwcm9wZXJ0eU5hbWU7XG4gICAgICBtYXBwaW5nTWV0YWRhdGFbc2VyaWFsaXplZFByb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eU5hbWU7XG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdBdHRyaWJ1dGVNYXBwaW5nJywgbWFwcGluZ01ldGFkYXRhLCB0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXR0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLm5lc3RlZERhdGFTZXJpYWxpemF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0ZXIoUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIHByb3BlcnR5TmFtZSksIHRoaXNbYF8ke3Byb3BlcnR5TmFtZX1gXSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1tgXyR7cHJvcGVydHlOYW1lfWBdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXR0ZXIgPSBmdW5jdGlvbihuZXdWYWw6IGFueSkge1xuICAgICAgY29uc3QgdGFyZ2V0VHlwZSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgdGFyZ2V0LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgdGhpc1tgXyR7cHJvcGVydHlOYW1lfWBdID0gY29udmVydGVyKHRhcmdldFR5cGUsIG5ld1ZhbCk7XG4gICAgfTtcblxuICAgIGlmIChkZWxldGUgdGFyZ2V0W3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgIHNhdmVBbm5vdGF0aW9ucygpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCB7XG4gICAgICAgIGdldDogZ2V0dGVyLFxuICAgICAgICBzZXQ6IHNldHRlcixcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG4iXX0=","start":2353,"end":8239}]},"code":"import { DateConverter } from '../converters/date/date.converter';\nexport function JsonAttribute(options = {}) {\n    return (target, propertyName) => {\n        const converter = (dataType, value, forSerialisation = false) => {\n            let attrConverter;\n            if (options.converter) {\n                attrConverter = options.converter;\n            }\n            else if (dataType === Date) {\n                attrConverter = new DateConverter();\n            }\n            else {\n                const datatype = new dataType();\n                if (datatype.mask && datatype.unmask) {\n                    attrConverter = datatype;\n                }\n            }\n            if (attrConverter) {\n                if (!forSerialisation) {\n                    return attrConverter.mask(value);\n                }\n                return attrConverter.unmask(value);\n            }\n            return value;\n        };\n        const saveAnnotations = () => {\n            const metadata = Reflect.getMetadata('JsonAttribute', target) || {};\n            metadata[propertyName] = {\n                marked: true\n            };\n            Reflect.defineMetadata('JsonAttribute', metadata, target);\n            const mappingMetadata = Reflect.getMetadata('AttributeMapping', target) || {};\n            const serializedPropertyName = options.serializedName !== undefined ? options.serializedName : propertyName;\n            mappingMetadata[serializedPropertyName] = propertyName;\n            Reflect.defineMetadata('AttributeMapping', mappingMetadata, target);\n        };\n        const getter = function () {\n            if (this.nestedDataSerialization) {\n                return converter(Reflect.getMetadata('design:type', target, propertyName), this[`_${propertyName}`], true);\n            }\n            return this[`_${propertyName}`];\n        };\n        const setter = function (newVal) {\n            const targetType = Reflect.getMetadata('design:type', target, propertyName);\n            this[`_${propertyName}`] = converter(targetType, newVal);\n        };\n        if (delete target[propertyName]) {\n            saveAnnotations();\n            Object.defineProperty(target, propertyName, {\n                get: getter,\n                set: setter,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hdHRyaWJ1dGUuZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvZGVjb3JhdG9ycy9qc29uLWF0dHJpYnV0ZS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRWxFLE1BQU0sVUFBVSxhQUFhLENBQUMsVUFBcUMsRUFBRTtJQUNuRSxPQUFPLENBQUMsTUFBVyxFQUFFLFlBQW9CLEVBQUUsRUFBRTtRQUMzQyxNQUFNLFNBQVMsR0FBRyxDQUFDLFFBQWEsRUFBRSxLQUFVLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxFQUFPLEVBQUU7WUFDN0UsSUFBSSxhQUFhLENBQUM7WUFFbEIsSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUNyQixhQUFhLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQzthQUNuQztpQkFBTSxJQUFJLFFBQVEsS0FBSyxJQUFJLEVBQUU7Z0JBQzVCLGFBQWEsR0FBRyxJQUFJLGFBQWEsRUFBRSxDQUFDO2FBQ3JDO2lCQUFNO2dCQUNMLE1BQU0sUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7Z0JBRWhDLElBQUksUUFBUSxDQUFDLElBQUksSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO29CQUNwQyxhQUFhLEdBQUcsUUFBUSxDQUFDO2lCQUMxQjthQUNGO1lBRUQsSUFBSSxhQUFhLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtvQkFDckIsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNsQztnQkFDRCxPQUFPLGFBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEM7WUFFRCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUMsQ0FBQztRQUVGLE1BQU0sZUFBZSxHQUFHLEdBQUcsRUFBRTtZQUMzQixNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7WUFFcEUsUUFBUSxDQUFDLFlBQVksQ0FBQyxHQUFHO2dCQUN2QixNQUFNLEVBQUUsSUFBSTthQUNiLENBQUM7WUFFRixPQUFPLENBQUMsY0FBYyxDQUFDLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFFMUQsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDOUUsTUFBTSxzQkFBc0IsR0FBRyxPQUFPLENBQUMsY0FBYyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDO1lBQzVHLGVBQWUsQ0FBQyxzQkFBc0IsQ0FBQyxHQUFHLFlBQVksQ0FBQztZQUN2RCxPQUFPLENBQUMsY0FBYyxDQUFDLGtCQUFrQixFQUFFLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN0RSxDQUFDLENBQUM7UUFFRixNQUFNLE1BQU0sR0FBRztZQUNiLElBQUksSUFBSSxDQUFDLHVCQUF1QixFQUFFO2dCQUNoQyxPQUFPLFNBQVMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxNQUFNLEVBQUUsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksWUFBWSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzthQUM1RztZQUNELE9BQU8sSUFBSSxDQUFDLElBQUksWUFBWSxFQUFFLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUM7UUFFRixNQUFNLE1BQU0sR0FBRyxVQUFTLE1BQVc7WUFDakMsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzVFLElBQUksQ0FBQyxJQUFJLFlBQVksRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMzRCxDQUFDLENBQUM7UUFFRixJQUFJLE9BQU8sTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQy9CLGVBQWUsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRTtnQkFDMUMsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZURlY29yYXRvck9wdGlvbnMgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2F0dHJpYnV0ZS1kZWNvcmF0b3Itb3B0aW9ucy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRGF0ZUNvbnZlcnRlciB9IGZyb20gJy4uL2NvbnZlcnRlcnMvZGF0ZS9kYXRlLmNvbnZlcnRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBKc29uQXR0cmlidXRlKG9wdGlvbnM6IEF0dHJpYnV0ZURlY29yYXRvck9wdGlvbnMgPSB7fSk6IFByb3BlcnR5RGVjb3JhdG9yIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjb252ZXJ0ZXIgPSAoZGF0YVR5cGU6IGFueSwgdmFsdWU6IGFueSwgZm9yU2VyaWFsaXNhdGlvbiA9IGZhbHNlKTogYW55ID0+IHtcbiAgICAgIGxldCBhdHRyQ29udmVydGVyO1xuXG4gICAgICBpZiAob3B0aW9ucy5jb252ZXJ0ZXIpIHtcbiAgICAgICAgYXR0ckNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyO1xuICAgICAgfSBlbHNlIGlmIChkYXRhVHlwZSA9PT0gRGF0ZSkge1xuICAgICAgICBhdHRyQ29udmVydGVyID0gbmV3IERhdGVDb252ZXJ0ZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRhdGF0eXBlID0gbmV3IGRhdGFUeXBlKCk7XG5cbiAgICAgICAgaWYgKGRhdGF0eXBlLm1hc2sgJiYgZGF0YXR5cGUudW5tYXNrKSB7XG4gICAgICAgICAgYXR0ckNvbnZlcnRlciA9IGRhdGF0eXBlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRyQ29udmVydGVyKSB7XG4gICAgICAgIGlmICghZm9yU2VyaWFsaXNhdGlvbikge1xuICAgICAgICAgIHJldHVybiBhdHRyQ29udmVydGVyLm1hc2sodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyQ29udmVydGVyLnVubWFzayh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2F2ZUFubm90YXRpb25zID0gKCkgPT4ge1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXR0cmlidXRlJywgdGFyZ2V0KSB8fCB7fTtcblxuICAgICAgbWV0YWRhdGFbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgbWFya2VkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdKc29uQXR0cmlidXRlJywgbWV0YWRhdGEsIHRhcmdldCk7XG5cbiAgICAgIGNvbnN0IG1hcHBpbmdNZXRhZGF0YSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0F0dHJpYnV0ZU1hcHBpbmcnLCB0YXJnZXQpIHx8IHt9O1xuICAgICAgY29uc3Qgc2VyaWFsaXplZFByb3BlcnR5TmFtZSA9IG9wdGlvbnMuc2VyaWFsaXplZE5hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2VyaWFsaXplZE5hbWUgOiBwcm9wZXJ0eU5hbWU7XG4gICAgICBtYXBwaW5nTWV0YWRhdGFbc2VyaWFsaXplZFByb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eU5hbWU7XG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdBdHRyaWJ1dGVNYXBwaW5nJywgbWFwcGluZ01ldGFkYXRhLCB0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXR0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLm5lc3RlZERhdGFTZXJpYWxpemF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0ZXIoUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIHByb3BlcnR5TmFtZSksIHRoaXNbYF8ke3Byb3BlcnR5TmFtZX1gXSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1tgXyR7cHJvcGVydHlOYW1lfWBdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXR0ZXIgPSBmdW5jdGlvbihuZXdWYWw6IGFueSkge1xuICAgICAgY29uc3QgdGFyZ2V0VHlwZSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgdGFyZ2V0LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgdGhpc1tgXyR7cHJvcGVydHlOYW1lfWBdID0gY29udmVydGVyKHRhcmdldFR5cGUsIG5ld1ZhbCk7XG4gICAgfTtcblxuICAgIGlmIChkZWxldGUgdGFyZ2V0W3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgIHNhdmVBbm5vdGF0aW9ucygpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCB7XG4gICAgICAgIGdldDogZ2V0dGVyLFxuICAgICAgICBzZXQ6IHNldHRlcixcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG4iXX0=","customTransformCache":false,"dependencies":["/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/converters/date/date.converter.mjs"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/json-attribute.decorator.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { DateConverter } from '../converters/date/date.converter';\nexport function JsonAttribute(options = {}) {\n    return (target, propertyName) => {\n        const converter = (dataType, value, forSerialisation = false) => {\n            let attrConverter;\n            if (options.converter) {\n                attrConverter = options.converter;\n            }\n            else if (dataType === Date) {\n                attrConverter = new DateConverter();\n            }\n            else {\n                const datatype = new dataType();\n                if (datatype.mask && datatype.unmask) {\n                    attrConverter = datatype;\n                }\n            }\n            if (attrConverter) {\n                if (!forSerialisation) {\n                    return attrConverter.mask(value);\n                }\n                return attrConverter.unmask(value);\n            }\n            return value;\n        };\n        const saveAnnotations = () => {\n            const metadata = Reflect.getMetadata('JsonAttribute', target) || {};\n            metadata[propertyName] = {\n                marked: true\n            };\n            Reflect.defineMetadata('JsonAttribute', metadata, target);\n            const mappingMetadata = Reflect.getMetadata('AttributeMapping', target) || {};\n            const serializedPropertyName = options.serializedName !== undefined ? options.serializedName : propertyName;\n            mappingMetadata[serializedPropertyName] = propertyName;\n            Reflect.defineMetadata('AttributeMapping', mappingMetadata, target);\n        };\n        const getter = function () {\n            if (this.nestedDataSerialization) {\n                return converter(Reflect.getMetadata('design:type', target, propertyName), this[`_${propertyName}`], true);\n            }\n            return this[`_${propertyName}`];\n        };\n        const setter = function (newVal) {\n            const targetType = Reflect.getMetadata('design:type', target, propertyName);\n            this[`_${propertyName}`] = converter(targetType, newVal);\n        };\n        if (delete target[propertyName]) {\n            saveAnnotations();\n            Object.defineProperty(target, propertyName, {\n                get: getter,\n                set: setter,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hdHRyaWJ1dGUuZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvZGVjb3JhdG9ycy9qc29uLWF0dHJpYnV0ZS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRWxFLE1BQU0sVUFBVSxhQUFhLENBQUMsVUFBcUMsRUFBRTtJQUNuRSxPQUFPLENBQUMsTUFBVyxFQUFFLFlBQW9CLEVBQUUsRUFBRTtRQUMzQyxNQUFNLFNBQVMsR0FBRyxDQUFDLFFBQWEsRUFBRSxLQUFVLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxFQUFPLEVBQUU7WUFDN0UsSUFBSSxhQUFhLENBQUM7WUFFbEIsSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUNyQixhQUFhLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQzthQUNuQztpQkFBTSxJQUFJLFFBQVEsS0FBSyxJQUFJLEVBQUU7Z0JBQzVCLGFBQWEsR0FBRyxJQUFJLGFBQWEsRUFBRSxDQUFDO2FBQ3JDO2lCQUFNO2dCQUNMLE1BQU0sUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7Z0JBRWhDLElBQUksUUFBUSxDQUFDLElBQUksSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO29CQUNwQyxhQUFhLEdBQUcsUUFBUSxDQUFDO2lCQUMxQjthQUNGO1lBRUQsSUFBSSxhQUFhLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtvQkFDckIsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNsQztnQkFDRCxPQUFPLGFBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEM7WUFFRCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUMsQ0FBQztRQUVGLE1BQU0sZUFBZSxHQUFHLEdBQUcsRUFBRTtZQUMzQixNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7WUFFcEUsUUFBUSxDQUFDLFlBQVksQ0FBQyxHQUFHO2dCQUN2QixNQUFNLEVBQUUsSUFBSTthQUNiLENBQUM7WUFFRixPQUFPLENBQUMsY0FBYyxDQUFDLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFFMUQsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDOUUsTUFBTSxzQkFBc0IsR0FBRyxPQUFPLENBQUMsY0FBYyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDO1lBQzVHLGVBQWUsQ0FBQyxzQkFBc0IsQ0FBQyxHQUFHLFlBQVksQ0FBQztZQUN2RCxPQUFPLENBQUMsY0FBYyxDQUFDLGtCQUFrQixFQUFFLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN0RSxDQUFDLENBQUM7UUFFRixNQUFNLE1BQU0sR0FBRztZQUNiLElBQUksSUFBSSxDQUFDLHVCQUF1QixFQUFFO2dCQUNoQyxPQUFPLFNBQVMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxNQUFNLEVBQUUsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksWUFBWSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzthQUM1RztZQUNELE9BQU8sSUFBSSxDQUFDLElBQUksWUFBWSxFQUFFLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUM7UUFFRixNQUFNLE1BQU0sR0FBRyxVQUFTLE1BQVc7WUFDakMsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQzVFLElBQUksQ0FBQyxJQUFJLFlBQVksRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMzRCxDQUFDLENBQUM7UUFFRixJQUFJLE9BQU8sTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQy9CLGVBQWUsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRTtnQkFDMUMsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsR0FBRyxFQUFFLE1BQU07Z0JBQ1gsVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0ZURlY29yYXRvck9wdGlvbnMgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2F0dHJpYnV0ZS1kZWNvcmF0b3Itb3B0aW9ucy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRGF0ZUNvbnZlcnRlciB9IGZyb20gJy4uL2NvbnZlcnRlcnMvZGF0ZS9kYXRlLmNvbnZlcnRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBKc29uQXR0cmlidXRlKG9wdGlvbnM6IEF0dHJpYnV0ZURlY29yYXRvck9wdGlvbnMgPSB7fSk6IFByb3BlcnR5RGVjb3JhdG9yIHtcbiAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjb252ZXJ0ZXIgPSAoZGF0YVR5cGU6IGFueSwgdmFsdWU6IGFueSwgZm9yU2VyaWFsaXNhdGlvbiA9IGZhbHNlKTogYW55ID0+IHtcbiAgICAgIGxldCBhdHRyQ29udmVydGVyO1xuXG4gICAgICBpZiAob3B0aW9ucy5jb252ZXJ0ZXIpIHtcbiAgICAgICAgYXR0ckNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyO1xuICAgICAgfSBlbHNlIGlmIChkYXRhVHlwZSA9PT0gRGF0ZSkge1xuICAgICAgICBhdHRyQ29udmVydGVyID0gbmV3IERhdGVDb252ZXJ0ZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRhdGF0eXBlID0gbmV3IGRhdGFUeXBlKCk7XG5cbiAgICAgICAgaWYgKGRhdGF0eXBlLm1hc2sgJiYgZGF0YXR5cGUudW5tYXNrKSB7XG4gICAgICAgICAgYXR0ckNvbnZlcnRlciA9IGRhdGF0eXBlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRyQ29udmVydGVyKSB7XG4gICAgICAgIGlmICghZm9yU2VyaWFsaXNhdGlvbikge1xuICAgICAgICAgIHJldHVybiBhdHRyQ29udmVydGVyLm1hc2sodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyQ29udmVydGVyLnVubWFzayh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2F2ZUFubm90YXRpb25zID0gKCkgPT4ge1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXR0cmlidXRlJywgdGFyZ2V0KSB8fCB7fTtcblxuICAgICAgbWV0YWRhdGFbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgbWFya2VkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdKc29uQXR0cmlidXRlJywgbWV0YWRhdGEsIHRhcmdldCk7XG5cbiAgICAgIGNvbnN0IG1hcHBpbmdNZXRhZGF0YSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0F0dHJpYnV0ZU1hcHBpbmcnLCB0YXJnZXQpIHx8IHt9O1xuICAgICAgY29uc3Qgc2VyaWFsaXplZFByb3BlcnR5TmFtZSA9IG9wdGlvbnMuc2VyaWFsaXplZE5hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2VyaWFsaXplZE5hbWUgOiBwcm9wZXJ0eU5hbWU7XG4gICAgICBtYXBwaW5nTWV0YWRhdGFbc2VyaWFsaXplZFByb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eU5hbWU7XG4gICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdBdHRyaWJ1dGVNYXBwaW5nJywgbWFwcGluZ01ldGFkYXRhLCB0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXR0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLm5lc3RlZERhdGFTZXJpYWxpemF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0ZXIoUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0YXJnZXQsIHByb3BlcnR5TmFtZSksIHRoaXNbYF8ke3Byb3BlcnR5TmFtZX1gXSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1tgXyR7cHJvcGVydHlOYW1lfWBdO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXR0ZXIgPSBmdW5jdGlvbihuZXdWYWw6IGFueSkge1xuICAgICAgY29uc3QgdGFyZ2V0VHlwZSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgdGFyZ2V0LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgdGhpc1tgXyR7cHJvcGVydHlOYW1lfWBdID0gY29udmVydGVyKHRhcmdldFR5cGUsIG5ld1ZhbCk7XG4gICAgfTtcblxuICAgIGlmIChkZWxldGUgdGFyZ2V0W3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgIHNhdmVBbm5vdGF0aW9ucygpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCB7XG4gICAgICAgIGdldDogZ2V0dGVyLFxuICAgICAgICBzZXQ6IHNldHRlcixcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"json-attribute.decorator.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/decorators/json-attribute.decorator.ts"],"names":[],"mappings":[[[0,0,1,0],[7,0,1,7],[9,0,1,9],[22,0,1,22],[24,0,1,24],[30,0,1,30],[65,0,1,65],[66,0,1,66]],[[0,0,3,0],[6,0,3,6],[16,0,3,16],[29,0,3,29],[30,0,3,30],[40,0,3,67],[42,0,3,69]],[[4,0,4,2],[11,0,4,9],[12,0,4,10],[18,0,4,21],[20,0,4,23],[32,0,4,43],[34,0,4,45],[36,0,4,47]],[[8,0,5,4],[14,0,5,10],[23,0,5,19],[26,0,5,22],[27,0,5,23],[35,0,5,36],[37,0,5,38],[42,0,5,48],[44,0,5,50],[60,0,5,66],[63,0,5,69],[68,0,5,74],[70,0,5,81],[72,0,5,83]],[[12,0,6,6],[16,0,6,10],[29,0,6,23],[30,0,6,24]],[[12,0,8,6],[16,0,8,10],[23,0,8,17],[24,0,8,18],[33,0,8,27],[35,0,8,29]],[[16,0,9,8],[29,0,9,21],[32,0,9,24],[39,0,9,31],[40,0,9,32],[49,0,9,41],[50,0,9,42]],[[13,0,10,7]],[[17,0,10,13],[21,0,10,17],[29,0,10,25],[34,0,10,30],[38,0,10,34],[40,0,10,36]],[[16,0,11,8],[29,0,11,21],[32,0,11,24],[36,0,11,28],[49,0,11,41],[51,0,11,43],[52,0,11,44]],[[13,0,12,7]],[[17,0,12,13]],[[16,0,13,8],[22,0,13,14],[30,0,13,22],[33,0,13,25],[37,0,13,29],[45,0,13,37],[47,0,13,39],[48,0,13,40]],[[16,0,15,8],[20,0,15,12],[28,0,15,20],[29,0,15,21],[33,0,15,25],[37,0,15,29],[45,0,15,37],[46,0,15,38],[52,0,15,44],[54,0,15,46]],[[20,0,16,10],[33,0,16,23],[36,0,16,26],[44,0,16,34],[45,0,16,35]],[[17,0,17,9]],[[13,0,18,7]],[[12,0,20,6],[16,0,20,10],[29,0,20,23],[31,0,20,25]],[[16,0,21,8],[20,0,21,12],[21,0,21,13],[37,0,21,29],[39,0,21,31]],[[20,0,22,10],[27,0,22,17],[40,0,22,30],[41,0,22,31],[45,0,22,35],[46,0,22,36],[51,0,22,41],[52,0,22,42],[53,0,22,43]],[[17,0,23,9]],[[16,0,24,8],[23,0,24,15],[36,0,24,28],[37,0,24,29],[43,0,24,35],[44,0,24,36],[49,0,24,41],[50,0,24,42],[51,0,24,43]],[[13,0,25,7]],[[12,0,27,6],[19,0,27,13],[24,0,27,18],[25,0,27,19]],[[8,0,28,4],[9,0,28,5],[10,0,28,6]],[[8,0,30,4],[14,0,30,10],[29,0,30,25],[32,0,30,28],[35,0,30,31],[37,0,30,33]],[[12,0,31,6],[18,0,31,12],[26,0,31,20],[29,0,31,23],[36,0,31,30],[37,0,31,31],[48,0,31,42],[49,0,31,43],[64,0,31,58],[66,0,31,60],[72,0,31,66],[73,0,31,67],[77,0,31,71],[79,0,31,73],[80,0,31,74]],[[12,0,33,6],[20,0,33,14],[21,0,33,15],[33,0,33,27],[34,0,33,28],[37,0,33,31]],[[16,0,34,8],[22,0,34,14],[24,0,34,16],[28,0,34,20]],[[13,0,35,7],[14,0,35,8]],[[12,0,37,6],[19,0,37,13],[20,0,37,14],[34,0,37,28],[35,0,37,29],[50,0,37,44],[52,0,37,46],[60,0,37,54],[62,0,37,56],[68,0,37,62],[69,0,37,63],[70,0,37,64]],[[12,0,39,6],[18,0,39,12],[33,0,39,27],[36,0,39,30],[43,0,39,37],[44,0,39,38],[55,0,39,49],[56,0,39,50],[74,0,39,68],[76,0,39,70],[82,0,39,76],[83,0,39,77],[87,0,39,81],[89,0,39,83],[90,0,39,84]],[[12,0,40,6],[18,0,40,12],[40,0,40,34],[43,0,40,37],[50,0,40,44],[51,0,40,45],[65,0,40,59],[70,0,40,64],[79,0,40,73],[80,0,40,74],[81,0,40,75],[82,0,40,76],[89,0,40,83],[90,0,40,84],[104,0,40,98],[105,0,40,99],[106,0,40,100],[107,0,40,101],[119,0,40,113],[120,0,40,114]],[[12,0,41,6],[27,0,41,21],[28,0,41,22],[50,0,41,44],[51,0,41,45],[54,0,41,48],[66,0,41,60],[67,0,41,61]],[[12,0,42,6],[19,0,42,13],[20,0,42,14],[34,0,42,28],[35,0,42,29],[53,0,42,47],[55,0,42,49],[70,0,42,64],[72,0,42,66],[78,0,42,72],[79,0,42,73],[80,0,42,74]],[[8,0,43,4],[9,0,43,5],[10,0,43,6]],[[8,0,45,4],[14,0,45,10],[20,0,45,16],[23,0,45,19]],[[12,0,46,6],[16,0,46,10],[20,0,46,14],[21,0,46,15],[44,0,46,38],[46,0,46,40]],[[16,0,47,8],[23,0,47,15],[32,0,47,24],[33,0,47,25],[40,0,47,32],[41,0,47,33],[52,0,47,44],[53,0,47,45],[66,0,47,58],[68,0,47,60],[74,0,47,66],[76,0,47,68],[88,0,47,80],[89,0,47,81],[91,0,47,83],[95,0,47,87],[96,0,47,88],[100,0,47,92],[112,0,47,104],[114,0,47,106],[115,0,47,107],[117,0,47,109],[121,0,47,113],[122,0,47,114],[123,0,47,115]],[[13,0,48,7]],[[12,0,49,6],[19,0,49,13],[23,0,49,17],[24,0,49,18],[28,0,49,22],[40,0,49,34],[42,0,49,36],[43,0,49,37],[44,0,49,38]],[[8,0,50,4],[9,0,50,5],[10,0,50,6]],[[8,0,52,4],[14,0,52,10],[20,0,52,16],[23,0,52,19],[33,0,52,28],[39,0,52,39]],[[12,0,53,6],[18,0,53,12],[28,0,53,22],[31,0,53,25],[38,0,53,32],[39,0,53,33],[50,0,53,44],[51,0,53,45],[64,0,53,58],[66,0,53,60],[72,0,53,66],[74,0,53,68],[86,0,53,80],[87,0,53,81],[88,0,53,82]],[[12,0,54,6],[16,0,54,10],[17,0,54,11],[21,0,54,15],[33,0,54,27],[35,0,54,29],[36,0,54,30],[39,0,54,33],[48,0,54,42],[49,0,54,43],[59,0,54,53],[61,0,54,55],[67,0,54,61],[68,0,54,62],[69,0,54,63]],[[8,0,55,4],[9,0,55,5],[10,0,55,6]],[[8,0,57,4],[12,0,57,8],[19,0,57,15],[25,0,57,21],[26,0,57,22],[38,0,57,34],[39,0,57,35],[41,0,57,37]],[[12,0,58,6],[27,0,58,21],[29,0,58,23],[30,0,58,24]],[[12,0,59,6],[18,0,59,12],[19,0,59,13],[33,0,59,27],[34,0,59,28],[40,0,59,34],[42,0,59,36],[54,0,59,48],[56,0,59,50]],[[16,0,60,8],[19,0,60,11],[21,0,60,13],[27,0,60,19]],[[16,0,61,8],[19,0,61,11],[21,0,61,13],[27,0,61,19]],[[16,0,62,8],[26,0,62,18],[28,0,62,20],[32,0,62,24]],[[16,0,63,8],[28,0,63,20],[30,0,63,22],[34,0,63,26]],[[13,0,64,7],[14,0,64,8],[15,0,64,9]],[[9,0,65,5]],[[4,0,66,2],[5,0,66,3],[6,0,66,4]],[[0,0,67,0],[1,0,67,1]]],"sourcesContent":["import { AttributeDecoratorOptions } from '../interfaces/attribute-decorator-options.interface';\nimport { DateConverter } from '../converters/date/date.converter';\n\nexport function JsonAttribute(options: AttributeDecoratorOptions = {}): PropertyDecorator {\n  return (target: any, propertyName: string) => {\n    const converter = (dataType: any, value: any, forSerialisation = false): any => {\n      let attrConverter;\n\n      if (options.converter) {\n        attrConverter = options.converter;\n      } else if (dataType === Date) {\n        attrConverter = new DateConverter();\n      } else {\n        const datatype = new dataType();\n\n        if (datatype.mask && datatype.unmask) {\n          attrConverter = datatype;\n        }\n      }\n\n      if (attrConverter) {\n        if (!forSerialisation) {\n          return attrConverter.mask(value);\n        }\n        return attrConverter.unmask(value);\n      }\n\n      return value;\n    };\n\n    const saveAnnotations = () => {\n      const metadata = Reflect.getMetadata('JsonAttribute', target) || {};\n\n      metadata[propertyName] = {\n        marked: true\n      };\n\n      Reflect.defineMetadata('JsonAttribute', metadata, target);\n\n      const mappingMetadata = Reflect.getMetadata('AttributeMapping', target) || {};\n      const serializedPropertyName = options.serializedName !== undefined ? options.serializedName : propertyName;\n      mappingMetadata[serializedPropertyName] = propertyName;\n      Reflect.defineMetadata('AttributeMapping', mappingMetadata, target);\n    };\n\n    const getter = function() {\n      if (this.nestedDataSerialization) {\n        return converter(Reflect.getMetadata('design:type', target, propertyName), this[`_${propertyName}`], true);\n      }\n      return this[`_${propertyName}`];\n    };\n\n    const setter = function(newVal: any) {\n      const targetType = Reflect.getMetadata('design:type', target, propertyName);\n      this[`_${propertyName}`] = converter(targetType, newVal);\n    };\n\n    if (delete target[propertyName]) {\n      saveAnnotations();\n      Object.defineProperty(target, propertyName, {\n        get: getter,\n        set: setter,\n        enumerable: true,\n        configurable: true\n      });\n    }\n  };\n}\n"]},"resolvedIds":{"../converters/date/date.converter":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/converters/date/date.converter.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1004,"body":[{"type":"ExportNamedDeclaration","start":0,"end":145,"declaration":{"type":"ClassDeclaration","start":7,"end":145,"id":{"type":"Identifier","start":13,"end":29,"name":"JsonApiMetaModel"},"superClass":null,"body":{"type":"ClassBody","start":30,"end":145,"body":[{"type":"MethodDefinition","start":36,"end":143,"static":false,"computed":false,"key":{"type":"Identifier","start":36,"end":47,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":47,"end":143,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":48,"end":56,"name":"response"}],"body":{"type":"BlockStatement","start":58,"end":143,"body":[{"type":"ExpressionStatement","start":68,"end":102,"expression":{"type":"AssignmentExpression","start":68,"end":101,"operator":"=","left":{"type":"MemberExpression","start":68,"end":78,"object":{"type":"ThisExpression","start":68,"end":72},"property":{"type":"Identifier","start":73,"end":78,"name":"links"},"computed":false,"optional":false},"right":{"type":"LogicalExpression","start":81,"end":101,"left":{"type":"MemberExpression","start":81,"end":95,"object":{"type":"Identifier","start":81,"end":89,"name":"response"},"property":{"type":"Identifier","start":90,"end":95,"name":"links"},"computed":false,"optional":false},"operator":"||","right":{"type":"ArrayExpression","start":99,"end":101,"elements":[]}}}},{"type":"ExpressionStatement","start":111,"end":137,"expression":{"type":"AssignmentExpression","start":111,"end":136,"operator":"=","left":{"type":"MemberExpression","start":111,"end":120,"object":{"type":"ThisExpression","start":111,"end":115},"property":{"type":"Identifier","start":116,"end":120,"name":"meta"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":123,"end":136,"object":{"type":"Identifier","start":123,"end":131,"name":"response"},"property":{"type":"Identifier","start":132,"end":136,"name":"meta"},"computed":false,"optional":false}}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktbWV0YS5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL21vZGVscy9qc29uLWFwaS1tZXRhLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxnQkFBZ0I7SUFJM0IsWUFBWSxRQUFhO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQzVCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIE1ldGFNb2RlbFR5cGU8VD4gPSBuZXcocmVzcG9uc2U6IGFueSkgPT4gVDtcblxuZXhwb3J0IGNsYXNzIEpzb25BcGlNZXRhTW9kZWwge1xuICBwdWJsaWMgbGlua3M6IEFycmF5PGFueT47XG4gIHB1YmxpYyBtZXRhOiBhbnk7XG5cbiAgY29uc3RydWN0b3IocmVzcG9uc2U6IGFueSkge1xuICAgIHRoaXMubGlua3MgPSByZXNwb25zZS5saW5rcyB8fCBbXTtcbiAgICB0aGlzLm1ldGEgPSByZXNwb25zZS5tZXRhO1xuICB9XG59XG4iXX0=","start":146,"end":1004}]},"code":"export class JsonApiMetaModel {\n    constructor(response) {\n        this.links = response.links || [];\n        this.meta = response.meta;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktbWV0YS5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL21vZGVscy9qc29uLWFwaS1tZXRhLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxnQkFBZ0I7SUFJM0IsWUFBWSxRQUFhO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQzVCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIE1ldGFNb2RlbFR5cGU8VD4gPSBuZXcocmVzcG9uc2U6IGFueSkgPT4gVDtcblxuZXhwb3J0IGNsYXNzIEpzb25BcGlNZXRhTW9kZWwge1xuICBwdWJsaWMgbGlua3M6IEFycmF5PGFueT47XG4gIHB1YmxpYyBtZXRhOiBhbnk7XG5cbiAgY29uc3RydWN0b3IocmVzcG9uc2U6IGFueSkge1xuICAgIHRoaXMubGlua3MgPSByZXNwb25zZS5saW5rcyB8fCBbXTtcbiAgICB0aGlzLm1ldGEgPSByZXNwb25zZS5tZXRhO1xuICB9XG59XG4iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-meta.model.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export class JsonApiMetaModel {\n    constructor(response) {\n        this.links = response.links || [];\n        this.meta = response.meta;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktbWV0YS5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL21vZGVscy9qc29uLWFwaS1tZXRhLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxnQkFBZ0I7SUFJM0IsWUFBWSxRQUFhO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQzVCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIE1ldGFNb2RlbFR5cGU8VD4gPSBuZXcocmVzcG9uc2U6IGFueSkgPT4gVDtcblxuZXhwb3J0IGNsYXNzIEpzb25BcGlNZXRhTW9kZWwge1xuICBwdWJsaWMgbGlua3M6IEFycmF5PGFueT47XG4gIHB1YmxpYyBtZXRhOiBhbnk7XG5cbiAgY29uc3RydWN0b3IocmVzcG9uc2U6IGFueSkge1xuICAgIHRoaXMubGlua3MgPSByZXNwb25zZS5saW5rcyB8fCBbXTtcbiAgICB0aGlzLm1ldGEgPSByZXNwb25zZS5tZXRhO1xuICB9XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"json-api-meta.model.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/models/json-api-meta.model.ts"],"names":[],"mappings":[[[0,0,2,0],[6,0,2,6],[13,0,2,13],[29,0,2,29]],[[4,0,6,2],[16,0,6,14],[24,0,6,27]],[[8,0,7,4],[12,0,7,8],[13,0,7,9],[18,0,7,14],[21,0,7,17],[29,0,7,25],[30,0,7,26],[35,0,7,31],[39,0,7,35],[41,0,7,37],[42,0,7,38]],[[8,0,8,4],[12,0,8,8],[13,0,8,9],[17,0,8,13],[20,0,8,16],[28,0,8,24],[29,0,8,25],[33,0,8,29],[34,0,8,30]],[[4,0,9,2],[5,0,9,3]],[[1,0,10,1]]],"sourcesContent":["export type MetaModelType<T> = new(response: any) => T;\n\nexport class JsonApiMetaModel {\n  public links: Array<any>;\n  public meta: any;\n\n  constructor(response: any) {\n    this.links = response.links || [];\n    this.meta = response.meta;\n  }\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1672,"body":[{"type":"ImportDeclaration","start":0,"end":65,"specifiers":[{"type":"ImportSpecifier","start":9,"end":25,"imported":{"type":"Identifier","start":9,"end":25,"name":"JsonApiMetaModel"},"local":{"type":"Identifier","start":9,"end":25,"name":"JsonApiMetaModel"}}],"source":{"type":"Literal","start":33,"end":64,"value":"../models/json-api-meta.model","raw":"'../models/json-api-meta.model'"}},{"type":"ExportNamedDeclaration","start":66,"end":341,"declaration":{"type":"FunctionDeclaration","start":73,"end":341,"id":{"type":"Identifier","start":82,"end":100,"name":"JsonApiModelConfig"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":101,"end":107,"name":"config"}],"body":{"type":"BlockStatement","start":109,"end":341,"body":[{"type":"ReturnStatement","start":115,"end":339,"argument":{"type":"ArrowFunctionExpression","start":122,"end":338,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":123,"end":129,"name":"target"}],"body":{"type":"BlockStatement","start":134,"end":338,"body":[{"type":"IfStatement","start":144,"end":262,"test":{"type":"LogicalExpression","start":148,"end":205,"left":{"type":"BinaryExpression","start":148,"end":182,"left":{"type":"UnaryExpression","start":148,"end":166,"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":155,"end":166,"object":{"type":"Identifier","start":155,"end":161,"name":"config"},"property":{"type":"Identifier","start":162,"end":166,"name":"meta"},"computed":false,"optional":false}},"operator":"===","right":{"type":"Literal","start":171,"end":182,"value":"undefined","raw":"'undefined'"}},"operator":"||","right":{"type":"BinaryExpression","start":186,"end":205,"left":{"type":"MemberExpression","start":186,"end":197,"object":{"type":"Identifier","start":186,"end":192,"name":"config"},"property":{"type":"Identifier","start":193,"end":197,"name":"meta"},"computed":false,"optional":false},"operator":"==","right":{"type":"Literal","start":201,"end":205,"value":null,"raw":"null"}}},"consequent":{"type":"BlockStatement","start":207,"end":262,"body":[{"type":"ExpressionStatement","start":221,"end":252,"expression":{"type":"AssignmentExpression","start":221,"end":251,"operator":"=","left":{"type":"MemberExpression","start":221,"end":232,"object":{"type":"Identifier","start":221,"end":227,"name":"config"},"property":{"type":"Identifier","start":228,"end":232,"name":"meta"},"computed":false,"optional":false},"right":{"type":"Identifier","start":235,"end":251,"name":"JsonApiMetaModel"}}}]},"alternate":null},{"type":"ExpressionStatement","start":271,"end":332,"expression":{"type":"CallExpression","start":271,"end":331,"callee":{"type":"MemberExpression","start":271,"end":293,"object":{"type":"Identifier","start":271,"end":278,"name":"Reflect"},"property":{"type":"Identifier","start":279,"end":293,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":294,"end":314,"value":"JsonApiModelConfig","raw":"'JsonApiModelConfig'"},{"type":"Identifier","start":316,"end":322,"name":"config"},{"type":"Identifier","start":324,"end":330,"name":"target"}],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktbW9kZWwtY29uZmlnLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2RlY29yYXRvcnMvanNvbi1hcGktbW9kZWwtY29uZmlnLmRlY29yYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUdqRSxNQUFNLFVBQVUsa0JBQWtCLENBQUMsTUFBbUI7SUFDcEQsT0FBTyxDQUFDLE1BQVcsRUFBRSxFQUFFO1FBQ3JCLElBQUksT0FBTyxNQUFNLENBQUMsSUFBSSxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksRUFBRTtZQUM3RCxNQUFNLENBQUMsSUFBSSxHQUFHLGdCQUFnQixDQUFDO1NBQ2hDO1FBRUQsT0FBTyxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDL0QsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpzb25BcGlNZXRhTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvanNvbi1hcGktbWV0YS5tb2RlbCc7XG5pbXBvcnQgeyBNb2RlbENvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBKc29uQXBpTW9kZWxDb25maWcoY29uZmlnOiBNb2RlbENvbmZpZykge1xuICByZXR1cm4gKHRhcmdldDogYW55KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcubWV0YSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29uZmlnLm1ldGEgPT0gbnVsbCkge1xuICAgICAgY29uZmlnLm1ldGEgPSBKc29uQXBpTWV0YU1vZGVsO1xuICAgIH1cblxuICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0pzb25BcGlNb2RlbENvbmZpZycsIGNvbmZpZywgdGFyZ2V0KTtcbiAgfTtcbn1cbiJdfQ==","start":342,"end":1672}]},"code":"import { JsonApiMetaModel } from '../models/json-api-meta.model';\nexport function JsonApiModelConfig(config) {\n    return (target) => {\n        if (typeof config.meta === 'undefined' || config.meta == null) {\n            config.meta = JsonApiMetaModel;\n        }\n        Reflect.defineMetadata('JsonApiModelConfig', config, target);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktbW9kZWwtY29uZmlnLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2RlY29yYXRvcnMvanNvbi1hcGktbW9kZWwtY29uZmlnLmRlY29yYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUdqRSxNQUFNLFVBQVUsa0JBQWtCLENBQUMsTUFBbUI7SUFDcEQsT0FBTyxDQUFDLE1BQVcsRUFBRSxFQUFFO1FBQ3JCLElBQUksT0FBTyxNQUFNLENBQUMsSUFBSSxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksRUFBRTtZQUM3RCxNQUFNLENBQUMsSUFBSSxHQUFHLGdCQUFnQixDQUFDO1NBQ2hDO1FBRUQsT0FBTyxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDL0QsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpzb25BcGlNZXRhTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvanNvbi1hcGktbWV0YS5tb2RlbCc7XG5pbXBvcnQgeyBNb2RlbENvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBKc29uQXBpTW9kZWxDb25maWcoY29uZmlnOiBNb2RlbENvbmZpZykge1xuICByZXR1cm4gKHRhcmdldDogYW55KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcubWV0YSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29uZmlnLm1ldGEgPT0gbnVsbCkge1xuICAgICAgY29uZmlnLm1ldGEgPSBKc29uQXBpTWV0YU1vZGVsO1xuICAgIH1cblxuICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0pzb25BcGlNb2RlbENvbmZpZycsIGNvbmZpZywgdGFyZ2V0KTtcbiAgfTtcbn1cbiJdfQ==","customTransformCache":false,"dependencies":["/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-meta.model.mjs"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/json-api-model-config.decorator.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { JsonApiMetaModel } from '../models/json-api-meta.model';\nexport function JsonApiModelConfig(config) {\n    return (target) => {\n        if (typeof config.meta === 'undefined' || config.meta == null) {\n            config.meta = JsonApiMetaModel;\n        }\n        Reflect.defineMetadata('JsonApiModelConfig', config, target);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktbW9kZWwtY29uZmlnLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2RlY29yYXRvcnMvanNvbi1hcGktbW9kZWwtY29uZmlnLmRlY29yYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUdqRSxNQUFNLFVBQVUsa0JBQWtCLENBQUMsTUFBbUI7SUFDcEQsT0FBTyxDQUFDLE1BQVcsRUFBRSxFQUFFO1FBQ3JCLElBQUksT0FBTyxNQUFNLENBQUMsSUFBSSxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksRUFBRTtZQUM3RCxNQUFNLENBQUMsSUFBSSxHQUFHLGdCQUFnQixDQUFDO1NBQ2hDO1FBRUQsT0FBTyxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDL0QsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpzb25BcGlNZXRhTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvanNvbi1hcGktbWV0YS5tb2RlbCc7XG5pbXBvcnQgeyBNb2RlbENvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBKc29uQXBpTW9kZWxDb25maWcoY29uZmlnOiBNb2RlbENvbmZpZykge1xuICByZXR1cm4gKHRhcmdldDogYW55KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcubWV0YSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29uZmlnLm1ldGEgPT0gbnVsbCkge1xuICAgICAgY29uZmlnLm1ldGEgPSBKc29uQXBpTWV0YU1vZGVsO1xuICAgIH1cblxuICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ0pzb25BcGlNb2RlbENvbmZpZycsIGNvbmZpZywgdGFyZ2V0KTtcbiAgfTtcbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"json-api-model-config.decorator.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/decorators/json-api-model-config.decorator.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[25,0,0,25],[27,0,0,27],[33,0,0,33],[64,0,0,64],[65,0,0,65]],[[0,0,3,0],[6,0,3,6],[16,0,3,16],[34,0,3,34],[35,0,3,35],[41,0,3,54]],[[4,0,4,2],[11,0,4,9],[12,0,4,10],[18,0,4,21],[20,0,4,23],[22,0,4,25]],[[8,0,5,4],[12,0,5,8],[19,0,5,15],[25,0,5,21],[26,0,5,22],[30,0,5,26],[35,0,5,31],[46,0,5,42],[50,0,5,46],[56,0,5,52],[57,0,5,53],[61,0,5,57],[65,0,5,61],[69,0,5,65],[71,0,5,67]],[[12,0,6,6],[18,0,6,12],[19,0,6,13],[23,0,6,17],[26,0,6,20],[42,0,6,36],[43,0,6,37]],[[9,0,7,5]],[[8,0,9,4],[15,0,9,11],[16,0,9,12],[30,0,9,26],[31,0,9,27],[51,0,9,47],[53,0,9,49],[59,0,9,55],[61,0,9,57],[67,0,9,63],[68,0,9,64],[69,0,9,65]],[[4,0,10,2],[5,0,10,3],[6,0,10,4]],[[0,0,11,0],[1,0,11,1]]],"sourcesContent":["import { JsonApiMetaModel } from '../models/json-api-meta.model';\nimport { ModelConfig } from '../interfaces/model-config.interface';\n\nexport function JsonApiModelConfig(config: ModelConfig) {\n  return (target: any) => {\n    if (typeof config.meta === 'undefined' || config.meta == null) {\n      config.meta = JsonApiMetaModel;\n    }\n\n    Reflect.defineMetadata('JsonApiModelConfig', config, target);\n  };\n}\n"]},"resolvedIds":{"../models/json-api-meta.model":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-meta.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":952,"body":[{"type":"ExportNamedDeclaration","start":0,"end":161,"declaration":{"type":"FunctionDeclaration","start":7,"end":161,"id":{"type":"Identifier","start":16,"end":38,"name":"JsonApiDatastoreConfig"},"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":39,"end":50,"left":{"type":"Identifier","start":39,"end":45,"name":"config"},"right":{"type":"ObjectExpression","start":48,"end":50,"properties":[]}}],"body":{"type":"BlockStatement","start":52,"end":161,"body":[{"type":"ReturnStatement","start":58,"end":159,"argument":{"type":"ArrowFunctionExpression","start":65,"end":158,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":66,"end":72,"name":"target"}],"body":{"type":"BlockStatement","start":77,"end":158,"body":[{"type":"ExpressionStatement","start":87,"end":152,"expression":{"type":"CallExpression","start":87,"end":151,"callee":{"type":"MemberExpression","start":87,"end":109,"object":{"type":"Identifier","start":87,"end":94,"name":"Reflect"},"property":{"type":"Identifier","start":95,"end":109,"name":"defineMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":110,"end":134,"value":"JsonApiDatastoreConfig","raw":"'JsonApiDatastoreConfig'"},{"type":"Identifier","start":136,"end":142,"name":"config"},{"type":"Identifier","start":144,"end":150,"name":"target"}],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktZGF0YXN0b3JlLWNvbmZpZy5kZWNvcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9kZWNvcmF0b3JzL2pzb24tYXBpLWRhdGFzdG9yZS1jb25maWcuZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxzQkFBc0IsQ0FBQyxTQUFjLEVBQUU7SUFDckQsT0FBTyxDQUFDLE1BQVcsRUFBRSxFQUFFO1FBQ3JCLE9BQU8sQ0FBQyxjQUFjLENBQUMsd0JBQXdCLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25FLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gSnNvbkFwaURhdGFzdG9yZUNvbmZpZyhjb25maWc6IGFueSA9IHt9KSB7XG4gIHJldHVybiAodGFyZ2V0OiBhbnkpID0+IHtcbiAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgY29uZmlnLCB0YXJnZXQpO1xuICB9O1xufVxuIl19","start":162,"end":952}]},"code":"export function JsonApiDatastoreConfig(config = {}) {\n    return (target) => {\n        Reflect.defineMetadata('JsonApiDatastoreConfig', config, target);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktZGF0YXN0b3JlLWNvbmZpZy5kZWNvcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9kZWNvcmF0b3JzL2pzb24tYXBpLWRhdGFzdG9yZS1jb25maWcuZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxzQkFBc0IsQ0FBQyxTQUFjLEVBQUU7SUFDckQsT0FBTyxDQUFDLE1BQVcsRUFBRSxFQUFFO1FBQ3JCLE9BQU8sQ0FBQyxjQUFjLENBQUMsd0JBQXdCLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25FLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gSnNvbkFwaURhdGFzdG9yZUNvbmZpZyhjb25maWc6IGFueSA9IHt9KSB7XG4gIHJldHVybiAodGFyZ2V0OiBhbnkpID0+IHtcbiAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgY29uZmlnLCB0YXJnZXQpO1xuICB9O1xufVxuIl19","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/json-api-datastore-config.decorator.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export function JsonApiDatastoreConfig(config = {}) {\n    return (target) => {\n        Reflect.defineMetadata('JsonApiDatastoreConfig', config, target);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktZGF0YXN0b3JlLWNvbmZpZy5kZWNvcmF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9kZWNvcmF0b3JzL2pzb24tYXBpLWRhdGFzdG9yZS1jb25maWcuZGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxzQkFBc0IsQ0FBQyxTQUFjLEVBQUU7SUFDckQsT0FBTyxDQUFDLE1BQVcsRUFBRSxFQUFFO1FBQ3JCLE9BQU8sQ0FBQyxjQUFjLENBQUMsd0JBQXdCLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25FLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gSnNvbkFwaURhdGFzdG9yZUNvbmZpZyhjb25maWc6IGFueSA9IHt9KSB7XG4gIHJldHVybiAodGFyZ2V0OiBhbnkpID0+IHtcbiAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgY29uZmlnLCB0YXJnZXQpO1xuICB9O1xufVxuIl19","originalSourcemap":{"version":3,"file":"json-api-datastore-config.decorator.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/decorators/json-api-datastore-config.decorator.ts"],"names":[],"mappings":[[[0,0,0,0],[6,0,0,6],[16,0,0,16],[38,0,0,38],[39,0,0,39],[48,0,0,53],[50,0,0,55]],[[4,0,1,2],[11,0,1,9],[12,0,1,10],[18,0,1,21],[20,0,1,23],[22,0,1,25]],[[8,0,2,4],[15,0,2,11],[16,0,2,12],[30,0,2,26],[31,0,2,27],[55,0,2,51],[57,0,2,53],[63,0,2,59],[65,0,2,61],[71,0,2,67],[72,0,2,68],[73,0,2,69]],[[4,0,3,2],[5,0,3,3],[6,0,3,4]],[[0,0,4,0],[1,0,4,1]]],"sourcesContent":["export function JsonApiDatastoreConfig(config: any = {}) {\n  return (target: any) => {\n    Reflect.defineMetadata('JsonApiDatastoreConfig', config, target);\n  };\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":30336,"body":[{"type":"ImportDeclaration","start":0,"end":40,"specifiers":[{"type":"ImportSpecifier","start":9,"end":13,"imported":{"type":"Identifier","start":9,"end":13,"name":"find"},"local":{"type":"Identifier","start":9,"end":13,"name":"find"}},{"type":"ImportSpecifier","start":15,"end":23,"imported":{"type":"Identifier","start":15,"end":23,"name":"includes"},"local":{"type":"Identifier","start":15,"end":23,"name":"includes"}}],"source":{"type":"Literal","start":31,"end":39,"value":"lodash","raw":"'lodash'"}},{"type":"ImportDeclaration","start":41,"end":69,"specifiers":[{"type":"ImportNamespaceSpecifier","start":48,"end":54,"local":{"type":"Identifier","start":53,"end":54,"name":"_"}}],"source":{"type":"Literal","start":60,"end":68,"value":"lodash","raw":"'lodash'"}},{"type":"ImportDeclaration","start":70,"end":127,"specifiers":[{"type":"ImportSpecifier","start":79,"end":96,"imported":{"type":"Identifier","start":79,"end":96,"name":"AttributeMetadata"},"local":{"type":"Identifier","start":79,"end":96,"name":"AttributeMetadata"}}],"source":{"type":"Literal","start":104,"end":126,"value":"../constants/symbols","raw":"'../constants/symbols'"}},{"type":"VariableDeclaration","start":324,"end":373,"declarations":[{"type":"VariableDeclarator","start":330,"end":372,"id":{"type":"Identifier","start":330,"end":352,"name":"AttributeMetadataIndex"},"init":{"type":"Identifier","start":355,"end":372,"name":"AttributeMetadata"}}],"kind":"const"},{"type":"ExportNamedDeclaration","start":374,"end":8773,"declaration":{"type":"ClassDeclaration","start":381,"end":8773,"id":{"type":"Identifier","start":387,"end":399,"name":"JsonApiModel"},"superClass":null,"body":{"type":"ClassBody","start":400,"end":8773,"body":[{"type":"MethodDefinition","start":406,"end":746,"static":false,"computed":false,"key":{"type":"Identifier","start":406,"end":417,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":417,"end":746,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":418,"end":435,"name":"internalDatastore"},{"type":"Identifier","start":437,"end":441,"name":"data"}],"body":{"type":"BlockStatement","start":443,"end":746,"body":[{"type":"ExpressionStatement","start":453,"end":496,"expression":{"type":"AssignmentExpression","start":453,"end":495,"operator":"=","left":{"type":"MemberExpression","start":453,"end":475,"object":{"type":"ThisExpression","start":453,"end":457},"property":{"type":"Identifier","start":458,"end":475,"name":"internalDatastore"},"computed":false,"optional":false},"right":{"type":"Identifier","start":478,"end":495,"name":"internalDatastore"}}},{"type":"ExpressionStatement","start":505,"end":538,"expression":{"type":"AssignmentExpression","start":505,"end":537,"operator":"=","left":{"type":"MemberExpression","start":505,"end":529,"object":{"type":"ThisExpression","start":505,"end":509},"property":{"type":"Identifier","start":510,"end":529,"name":"modelInitialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":532,"end":537,"value":false,"raw":"false"}}},{"type":"IfStatement","start":547,"end":740,"test":{"type":"Identifier","start":551,"end":555,"name":"data"},"consequent":{"type":"BlockStatement","start":557,"end":740,"body":[{"type":"ExpressionStatement","start":571,"end":603,"expression":{"type":"AssignmentExpression","start":571,"end":602,"operator":"=","left":{"type":"MemberExpression","start":571,"end":595,"object":{"type":"ThisExpression","start":571,"end":575},"property":{"type":"Identifier","start":576,"end":595,"name":"modelInitialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":598,"end":602,"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":616,"end":634,"expression":{"type":"AssignmentExpression","start":616,"end":633,"operator":"=","left":{"type":"MemberExpression","start":616,"end":623,"object":{"type":"ThisExpression","start":616,"end":620},"property":{"type":"Identifier","start":621,"end":623,"name":"id"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":626,"end":633,"object":{"type":"Identifier","start":626,"end":630,"name":"data"},"property":{"type":"Identifier","start":631,"end":633,"name":"id"},"computed":false,"optional":false}}},{"type":"ExpressionStatement","start":647,"end":684,"expression":{"type":"CallExpression","start":647,"end":683,"callee":{"type":"MemberExpression","start":647,"end":660,"object":{"type":"Identifier","start":647,"end":653,"name":"Object"},"property":{"type":"Identifier","start":654,"end":660,"name":"assign"},"computed":false,"optional":false},"arguments":[{"type":"ThisExpression","start":661,"end":665},{"type":"MemberExpression","start":667,"end":682,"object":{"type":"Identifier","start":667,"end":671,"name":"data"},"property":{"type":"Identifier","start":672,"end":682,"name":"attributes"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":697,"end":730,"expression":{"type":"AssignmentExpression","start":697,"end":729,"operator":"=","left":{"type":"MemberExpression","start":697,"end":721,"object":{"type":"ThisExpression","start":697,"end":701},"property":{"type":"Identifier","start":702,"end":721,"name":"modelInitialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":724,"end":729,"value":false,"raw":"false"}}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":751,"end":823,"static":false,"computed":false,"key":{"type":"Identifier","start":751,"end":772,"name":"isModelInitialization"},"kind":"method","value":{"type":"FunctionExpression","start":772,"end":823,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":775,"end":823,"body":[{"type":"ReturnStatement","start":785,"end":817,"argument":{"type":"MemberExpression","start":792,"end":816,"object":{"type":"ThisExpression","start":792,"end":796},"property":{"type":"Identifier","start":797,"end":816,"name":"modelInitialization"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":828,"end":1353,"static":false,"computed":false,"key":{"type":"Identifier","start":828,"end":845,"name":"syncRelationships"},"kind":"method","value":{"type":"FunctionExpression","start":845,"end":1353,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":846,"end":850,"name":"data"},{"type":"Identifier","start":852,"end":860,"name":"included"},{"type":"Identifier","start":862,"end":877,"name":"remainingModels"}],"body":{"type":"BlockStatement","start":879,"end":1353,"body":[{"type":"IfStatement","start":889,"end":958,"test":{"type":"BinaryExpression","start":893,"end":925,"left":{"type":"MemberExpression","start":893,"end":912,"object":{"type":"ThisExpression","start":893,"end":897},"property":{"type":"Identifier","start":898,"end":912,"name":"lastSyncModels"},"computed":false,"optional":false},"operator":"===","right":{"type":"Identifier","start":917,"end":925,"name":"included"}},"consequent":{"type":"BlockStatement","start":927,"end":958,"body":[{"type":"ReturnStatement","start":941,"end":948,"argument":null}]},"alternate":null},{"type":"IfStatement","start":967,"end":1307,"test":{"type":"Identifier","start":971,"end":975,"name":"data"},"consequent":{"type":"BlockStatement","start":977,"end":1307,"body":[{"type":"VariableDeclaration","start":991,"end":1033,"declarations":[{"type":"VariableDeclarator","start":995,"end":1032,"id":{"type":"Identifier","start":995,"end":1014,"name":"modelsForProcessing"},"init":{"type":"Identifier","start":1017,"end":1032,"name":"remainingModels"}}],"kind":"let"},{"type":"IfStatement","start":1046,"end":1159,"test":{"type":"BinaryExpression","start":1050,"end":1083,"left":{"type":"Identifier","start":1050,"end":1069,"name":"modelsForProcessing"},"operator":"===","right":{"type":"Identifier","start":1074,"end":1083,"name":"undefined"}},"consequent":{"type":"BlockStatement","start":1085,"end":1159,"body":[{"type":"ExpressionStatement","start":1103,"end":1145,"expression":{"type":"AssignmentExpression","start":1103,"end":1144,"operator":"=","left":{"type":"Identifier","start":1103,"end":1122,"name":"modelsForProcessing"},"right":{"type":"CallExpression","start":1125,"end":1144,"callee":{"type":"MemberExpression","start":1125,"end":1134,"object":{"type":"ArrayExpression","start":1125,"end":1127,"elements":[]},"property":{"type":"Identifier","start":1128,"end":1134,"name":"concat"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1135,"end":1143,"name":"included"}],"optional":false}}}]},"alternate":null},{"type":"ExpressionStatement","start":1172,"end":1227,"expression":{"type":"CallExpression","start":1172,"end":1226,"callee":{"type":"MemberExpression","start":1172,"end":1189,"object":{"type":"ThisExpression","start":1172,"end":1176},"property":{"type":"Identifier","start":1177,"end":1189,"name":"parseHasMany"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1190,"end":1194,"name":"data"},{"type":"Identifier","start":1196,"end":1204,"name":"included"},{"type":"Identifier","start":1206,"end":1225,"name":"modelsForProcessing"}],"optional":false}},{"type":"ExpressionStatement","start":1240,"end":1297,"expression":{"type":"CallExpression","start":1240,"end":1296,"callee":{"type":"MemberExpression","start":1240,"end":1259,"object":{"type":"ThisExpression","start":1240,"end":1244},"property":{"type":"Identifier","start":1245,"end":1259,"name":"parseBelongsTo"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1260,"end":1264,"name":"data"},{"type":"Identifier","start":1266,"end":1274,"name":"included"},{"type":"Identifier","start":1276,"end":1295,"name":"modelsForProcessing"}],"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":1316,"end":1347,"expression":{"type":"AssignmentExpression","start":1316,"end":1346,"operator":"=","left":{"type":"MemberExpression","start":1316,"end":1335,"object":{"type":"ThisExpression","start":1316,"end":1320},"property":{"type":"Identifier","start":1321,"end":1335,"name":"lastSyncModels"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1338,"end":1346,"name":"included"}}}]}}},{"type":"MethodDefinition","start":1358,"end":1596,"static":false,"computed":false,"key":{"type":"Identifier","start":1358,"end":1362,"name":"save"},"kind":"method","value":{"type":"FunctionExpression","start":1362,"end":1596,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1363,"end":1369,"name":"params"},{"type":"Identifier","start":1371,"end":1378,"name":"headers"},{"type":"Identifier","start":1380,"end":1389,"name":"customUrl"}],"body":{"type":"BlockStatement","start":1391,"end":1596,"body":[{"type":"ExpressionStatement","start":1401,"end":1421,"expression":{"type":"CallExpression","start":1401,"end":1420,"callee":{"type":"MemberExpression","start":1401,"end":1418,"object":{"type":"ThisExpression","start":1401,"end":1405},"property":{"type":"Identifier","start":1406,"end":1418,"name":"checkChanges"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"VariableDeclaration","start":1430,"end":1486,"declarations":[{"type":"VariableDeclarator","start":1436,"end":1485,"id":{"type":"Identifier","start":1436,"end":1454,"name":"attributesMetadata"},"init":{"type":"MemberExpression","start":1457,"end":1485,"object":{"type":"ThisExpression","start":1457,"end":1461},"property":{"type":"Identifier","start":1462,"end":1484,"name":"AttributeMetadataIndex"},"computed":true,"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":1495,"end":1590,"argument":{"type":"CallExpression","start":1502,"end":1589,"callee":{"type":"MemberExpression","start":1502,"end":1535,"object":{"type":"MemberExpression","start":1502,"end":1524,"object":{"type":"ThisExpression","start":1502,"end":1506},"property":{"type":"Identifier","start":1507,"end":1524,"name":"internalDatastore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1525,"end":1535,"name":"saveRecord"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1536,"end":1554,"name":"attributesMetadata"},{"type":"ThisExpression","start":1556,"end":1560},{"type":"Identifier","start":1562,"end":1568,"name":"params"},{"type":"Identifier","start":1570,"end":1577,"name":"headers"},{"type":"Identifier","start":1579,"end":1588,"name":"customUrl"}],"optional":false}}]}}},{"type":"MethodDefinition","start":1601,"end":2160,"static":false,"computed":false,"key":{"type":"Identifier","start":1605,"end":1623,"name":"hasDirtyAttributes"},"kind":"get","value":{"type":"FunctionExpression","start":1623,"end":2160,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1626,"end":2160,"body":[{"type":"ExpressionStatement","start":1636,"end":1656,"expression":{"type":"CallExpression","start":1636,"end":1655,"callee":{"type":"MemberExpression","start":1636,"end":1653,"object":{"type":"ThisExpression","start":1636,"end":1640},"property":{"type":"Identifier","start":1641,"end":1653,"name":"checkChanges"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"VariableDeclaration","start":1665,"end":1721,"declarations":[{"type":"VariableDeclarator","start":1671,"end":1720,"id":{"type":"Identifier","start":1671,"end":1689,"name":"attributesMetadata"},"init":{"type":"MemberExpression","start":1692,"end":1720,"object":{"type":"ThisExpression","start":1692,"end":1696},"property":{"type":"Identifier","start":1697,"end":1719,"name":"AttributeMetadataIndex"},"computed":true,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":1730,"end":1761,"declarations":[{"type":"VariableDeclarator","start":1734,"end":1760,"id":{"type":"Identifier","start":1734,"end":1752,"name":"hasDirtyAttributes"},"init":{"type":"Literal","start":1755,"end":1760,"value":false,"raw":"false"}}],"kind":"let"},{"type":"ForInStatement","start":1770,"end":2119,"left":{"type":"VariableDeclaration","start":1775,"end":1793,"declarations":[{"type":"VariableDeclarator","start":1781,"end":1793,"id":{"type":"Identifier","start":1781,"end":1793,"name":"propertyName"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":1797,"end":1815,"name":"attributesMetadata"},"body":{"type":"BlockStatement","start":1817,"end":2119,"body":[{"type":"IfStatement","start":1831,"end":2109,"test":{"type":"CallExpression","start":1835,"end":1882,"callee":{"type":"MemberExpression","start":1835,"end":1868,"object":{"type":"Identifier","start":1835,"end":1853,"name":"attributesMetadata"},"property":{"type":"Identifier","start":1854,"end":1868,"name":"hasOwnProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1869,"end":1881,"name":"propertyName"}],"optional":false},"consequent":{"type":"BlockStatement","start":1884,"end":2109,"body":[{"type":"VariableDeclaration","start":1902,"end":1952,"declarations":[{"type":"VariableDeclarator","start":1908,"end":1951,"id":{"type":"Identifier","start":1908,"end":1916,"name":"metadata"},"init":{"type":"MemberExpression","start":1919,"end":1951,"object":{"type":"Identifier","start":1919,"end":1937,"name":"attributesMetadata"},"property":{"type":"Identifier","start":1938,"end":1950,"name":"propertyName"},"computed":true,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1969,"end":2095,"test":{"type":"MemberExpression","start":1973,"end":2000,"object":{"type":"Identifier","start":1973,"end":1981,"name":"metadata"},"property":{"type":"Identifier","start":1982,"end":2000,"name":"hasDirtyAttributes"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":2002,"end":2095,"body":[{"type":"ExpressionStatement","start":2024,"end":2050,"expression":{"type":"AssignmentExpression","start":2024,"end":2049,"operator":"=","left":{"type":"Identifier","start":2024,"end":2042,"name":"hasDirtyAttributes"},"right":{"type":"Literal","start":2045,"end":2049,"value":true,"raw":"true"}}},{"type":"BreakStatement","start":2071,"end":2077,"label":null}]},"alternate":null}]},"alternate":null}]}},{"type":"ReturnStatement","start":2128,"end":2154,"argument":{"type":"Identifier","start":2135,"end":2153,"name":"hasDirtyAttributes"}}]}}},{"type":"MethodDefinition","start":2165,"end":2937,"static":false,"computed":false,"key":{"type":"Identifier","start":2165,"end":2177,"name":"checkChanges"},"kind":"method","value":{"type":"FunctionExpression","start":2177,"end":2937,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2180,"end":2937,"body":[{"type":"VariableDeclaration","start":2190,"end":2241,"declarations":[{"type":"VariableDeclarator","start":2196,"end":2240,"id":{"type":"Identifier","start":2196,"end":2214,"name":"attributesMetadata"},"init":{"type":"MemberExpression","start":2217,"end":2240,"object":{"type":"ThisExpression","start":2217,"end":2221},"property":{"type":"Identifier","start":2222,"end":2239,"name":"AttributeMetadata"},"computed":true,"optional":false}}],"kind":"const"},{"type":"ForInStatement","start":2250,"end":2931,"left":{"type":"VariableDeclaration","start":2255,"end":2273,"declarations":[{"type":"VariableDeclarator","start":2261,"end":2273,"id":{"type":"Identifier","start":2261,"end":2273,"name":"propertyName"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":2277,"end":2295,"name":"attributesMetadata"},"body":{"type":"BlockStatement","start":2297,"end":2931,"body":[{"type":"IfStatement","start":2311,"end":2921,"test":{"type":"CallExpression","start":2315,"end":2362,"callee":{"type":"MemberExpression","start":2315,"end":2348,"object":{"type":"Identifier","start":2315,"end":2333,"name":"attributesMetadata"},"property":{"type":"Identifier","start":2334,"end":2348,"name":"hasOwnProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2349,"end":2361,"name":"propertyName"}],"optional":false},"consequent":{"type":"BlockStatement","start":2364,"end":2921,"body":[{"type":"VariableDeclaration","start":2382,"end":2432,"declarations":[{"type":"VariableDeclarator","start":2388,"end":2431,"id":{"type":"Identifier","start":2388,"end":2396,"name":"metadata"},"init":{"type":"MemberExpression","start":2399,"end":2431,"object":{"type":"Identifier","start":2399,"end":2417,"name":"attributesMetadata"},"property":{"type":"Identifier","start":2418,"end":2430,"name":"propertyName"},"computed":true,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2449,"end":2907,"test":{"type":"MemberExpression","start":2453,"end":2468,"object":{"type":"Identifier","start":2453,"end":2461,"name":"metadata"},"property":{"type":"Identifier","start":2462,"end":2468,"name":"nested"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":2470,"end":2907,"body":[{"type":"ExpressionStatement","start":2492,"end":2648,"expression":{"type":"AssignmentExpression","start":2492,"end":2647,"operator":"=","left":{"type":"MemberExpression","start":2492,"end":2548,"object":{"type":"MemberExpression","start":2492,"end":2529,"object":{"type":"MemberExpression","start":2492,"end":2515,"object":{"type":"ThisExpression","start":2492,"end":2496},"property":{"type":"Identifier","start":2497,"end":2514,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2516,"end":2528,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2530,"end":2548,"name":"hasDirtyAttributes"},"computed":false,"optional":false},"right":{"type":"UnaryExpression","start":2551,"end":2647,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":2552,"end":2647,"callee":{"type":"MemberExpression","start":2552,"end":2561,"object":{"type":"Identifier","start":2552,"end":2553,"name":"_"},"property":{"type":"Identifier","start":2554,"end":2561,"name":"isEqual"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":2562,"end":2603,"object":{"type":"MemberExpression","start":2562,"end":2594,"object":{"type":"Identifier","start":2562,"end":2580,"name":"attributesMetadata"},"property":{"type":"Identifier","start":2581,"end":2593,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2595,"end":2603,"name":"oldValue"},"computed":false,"optional":false},{"type":"MemberExpression","start":2605,"end":2646,"object":{"type":"MemberExpression","start":2605,"end":2637,"object":{"type":"Identifier","start":2605,"end":2623,"name":"attributesMetadata"},"property":{"type":"Identifier","start":2624,"end":2636,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2638,"end":2646,"name":"newValue"},"computed":false,"optional":false}],"optional":false}}}},{"type":"ExpressionStatement","start":2669,"end":2889,"expression":{"type":"AssignmentExpression","start":2669,"end":2888,"operator":"=","left":{"type":"MemberExpression","start":2669,"end":2725,"object":{"type":"MemberExpression","start":2669,"end":2706,"object":{"type":"MemberExpression","start":2669,"end":2692,"object":{"type":"ThisExpression","start":2669,"end":2673},"property":{"type":"Identifier","start":2674,"end":2691,"name":"AttributeMetadata"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2693,"end":2705,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2707,"end":2725,"name":"serialisationValue"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":2728,"end":2888,"callee":{"type":"MemberExpression","start":2728,"end":2770,"object":{"type":"MemberExpression","start":2728,"end":2760,"object":{"type":"Identifier","start":2728,"end":2746,"name":"attributesMetadata"},"property":{"type":"Identifier","start":2747,"end":2759,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2761,"end":2770,"name":"converter"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2771,"end":2825,"callee":{"type":"MemberExpression","start":2771,"end":2790,"object":{"type":"Identifier","start":2771,"end":2778,"name":"Reflect"},"property":{"type":"Identifier","start":2779,"end":2790,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2791,"end":2804,"value":"design:type","raw":"'design:type'"},{"type":"ThisExpression","start":2806,"end":2810},{"type":"Identifier","start":2812,"end":2824,"name":"propertyName"}],"optional":false},{"type":"CallExpression","start":2827,"end":2881,"callee":{"type":"MemberExpression","start":2827,"end":2838,"object":{"type":"Identifier","start":2827,"end":2828,"name":"_"},"property":{"type":"Identifier","start":2829,"end":2838,"name":"cloneDeep"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":2839,"end":2880,"object":{"type":"MemberExpression","start":2839,"end":2871,"object":{"type":"Identifier","start":2839,"end":2857,"name":"attributesMetadata"},"property":{"type":"Identifier","start":2858,"end":2870,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2872,"end":2880,"name":"newValue"},"computed":false,"optional":false}],"optional":false},{"type":"Literal","start":2883,"end":2887,"value":true,"raw":"true"}],"optional":false}}}]},"alternate":null}]},"alternate":null}]}}]}}},{"type":"MethodDefinition","start":2942,"end":3373,"static":false,"computed":false,"key":{"type":"Identifier","start":2942,"end":2960,"name":"rollbackAttributes"},"kind":"method","value":{"type":"FunctionExpression","start":2960,"end":3373,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2963,"end":3373,"body":[{"type":"VariableDeclaration","start":2973,"end":3029,"declarations":[{"type":"VariableDeclarator","start":2979,"end":3028,"id":{"type":"Identifier","start":2979,"end":2997,"name":"attributesMetadata"},"init":{"type":"MemberExpression","start":3000,"end":3028,"object":{"type":"ThisExpression","start":3000,"end":3004},"property":{"type":"Identifier","start":3005,"end":3027,"name":"AttributeMetadataIndex"},"computed":true,"optional":false}}],"kind":"const"},{"type":"ForInStatement","start":3038,"end":3367,"left":{"type":"VariableDeclaration","start":3043,"end":3061,"declarations":[{"type":"VariableDeclarator","start":3049,"end":3061,"id":{"type":"Identifier","start":3049,"end":3061,"name":"propertyName"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":3065,"end":3083,"name":"attributesMetadata"},"body":{"type":"BlockStatement","start":3085,"end":3367,"body":[{"type":"IfStatement","start":3099,"end":3357,"test":{"type":"CallExpression","start":3103,"end":3150,"callee":{"type":"MemberExpression","start":3103,"end":3136,"object":{"type":"Identifier","start":3103,"end":3121,"name":"attributesMetadata"},"property":{"type":"Identifier","start":3122,"end":3136,"name":"hasOwnProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3137,"end":3149,"name":"propertyName"}],"optional":false},"consequent":{"type":"BlockStatement","start":3152,"end":3357,"body":[{"type":"IfStatement","start":3170,"end":3343,"test":{"type":"MemberExpression","start":3174,"end":3225,"object":{"type":"MemberExpression","start":3174,"end":3206,"object":{"type":"Identifier","start":3174,"end":3192,"name":"attributesMetadata"},"property":{"type":"Identifier","start":3193,"end":3205,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":3207,"end":3225,"name":"hasDirtyAttributes"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":3227,"end":3343,"body":[{"type":"ExpressionStatement","start":3249,"end":3325,"expression":{"type":"AssignmentExpression","start":3249,"end":3324,"operator":"=","left":{"type":"MemberExpression","start":3249,"end":3267,"object":{"type":"ThisExpression","start":3249,"end":3253},"property":{"type":"Identifier","start":3254,"end":3266,"name":"propertyName"},"computed":true,"optional":false},"right":{"type":"CallExpression","start":3270,"end":3324,"callee":{"type":"MemberExpression","start":3270,"end":3281,"object":{"type":"Identifier","start":3270,"end":3271,"name":"_"},"property":{"type":"Identifier","start":3272,"end":3281,"name":"cloneDeep"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":3282,"end":3323,"object":{"type":"MemberExpression","start":3282,"end":3314,"object":{"type":"Identifier","start":3282,"end":3300,"name":"attributesMetadata"},"property":{"type":"Identifier","start":3301,"end":3313,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":3315,"end":3323,"name":"oldValue"},"computed":false,"optional":false}],"optional":false}}}]},"alternate":null}]},"alternate":null}]}}]}}},{"type":"MethodDefinition","start":3378,"end":3479,"static":false,"computed":false,"key":{"type":"Identifier","start":3382,"end":3393,"name":"modelConfig"},"kind":"get","value":{"type":"FunctionExpression","start":3393,"end":3479,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3396,"end":3479,"body":[{"type":"ReturnStatement","start":3406,"end":3473,"argument":{"type":"CallExpression","start":3413,"end":3472,"callee":{"type":"MemberExpression","start":3413,"end":3432,"object":{"type":"Identifier","start":3413,"end":3420,"name":"Reflect"},"property":{"type":"Identifier","start":3421,"end":3432,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":3433,"end":3453,"value":"JsonApiModelConfig","raw":"'JsonApiModelConfig'"},{"type":"MemberExpression","start":3455,"end":3471,"object":{"type":"ThisExpression","start":3455,"end":3459},"property":{"type":"Identifier","start":3460,"end":3471,"name":"constructor"},"computed":false,"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":3484,"end":5218,"static":false,"computed":false,"key":{"type":"Identifier","start":3484,"end":3496,"name":"parseHasMany"},"kind":"method","value":{"type":"FunctionExpression","start":3496,"end":5218,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3497,"end":3501,"name":"data"},{"type":"Identifier","start":3503,"end":3511,"name":"included"},{"type":"Identifier","start":3513,"end":3528,"name":"remainingModels"}],"body":{"type":"BlockStatement","start":3530,"end":5218,"body":[{"type":"VariableDeclaration","start":3540,"end":3593,"declarations":[{"type":"VariableDeclarator","start":3546,"end":3592,"id":{"type":"Identifier","start":3546,"end":3553,"name":"hasMany"},"init":{"type":"CallExpression","start":3556,"end":3592,"callee":{"type":"MemberExpression","start":3556,"end":3575,"object":{"type":"Identifier","start":3556,"end":3563,"name":"Reflect"},"property":{"type":"Identifier","start":3564,"end":3575,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":3576,"end":3585,"value":"HasMany","raw":"'HasMany'"},{"type":"ThisExpression","start":3587,"end":3591}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":3602,"end":5212,"test":{"type":"Identifier","start":3606,"end":3613,"name":"hasMany"},"consequent":{"type":"BlockStatement","start":3615,"end":5212,"body":[{"type":"ForOfStatement","start":3629,"end":5202,"await":false,"left":{"type":"VariableDeclaration","start":3634,"end":3648,"declarations":[{"type":"VariableDeclarator","start":3640,"end":3648,"id":{"type":"Identifier","start":3640,"end":3648,"name":"metadata"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":3652,"end":3659,"name":"hasMany"},"body":{"type":"BlockStatement","start":3661,"end":5202,"body":[{"type":"VariableDeclaration","start":3679,"end":3770,"declarations":[{"type":"VariableDeclarator","start":3685,"end":3769,"id":{"type":"Identifier","start":3685,"end":3697,"name":"relationship"},"init":{"type":"ConditionalExpression","start":3700,"end":3769,"test":{"type":"MemberExpression","start":3700,"end":3718,"object":{"type":"Identifier","start":3700,"end":3704,"name":"data"},"property":{"type":"Identifier","start":3705,"end":3718,"name":"relationships"},"computed":false,"optional":false},"consequent":{"type":"MemberExpression","start":3721,"end":3762,"object":{"type":"MemberExpression","start":3721,"end":3739,"object":{"type":"Identifier","start":3721,"end":3725,"name":"data"},"property":{"type":"Identifier","start":3726,"end":3739,"name":"relationships"},"computed":false,"optional":false},"property":{"type":"MemberExpression","start":3740,"end":3761,"object":{"type":"Identifier","start":3740,"end":3748,"name":"metadata"},"property":{"type":"Identifier","start":3749,"end":3761,"name":"relationship"},"computed":false,"optional":false},"computed":true,"optional":false},"alternate":{"type":"Literal","start":3765,"end":3769,"value":null,"raw":"null"}}}],"kind":"const"},{"type":"IfStatement","start":3787,"end":5188,"test":{"type":"LogicalExpression","start":3791,"end":3860,"left":{"type":"LogicalExpression","start":3791,"end":3824,"left":{"type":"Identifier","start":3791,"end":3803,"name":"relationship"},"operator":"&&","right":{"type":"MemberExpression","start":3807,"end":3824,"object":{"type":"Identifier","start":3807,"end":3819,"name":"relationship"},"property":{"type":"Identifier","start":3820,"end":3824,"name":"data"},"computed":false,"optional":false}},"operator":"&&","right":{"type":"CallExpression","start":3828,"end":3860,"callee":{"type":"MemberExpression","start":3828,"end":3841,"object":{"type":"Identifier","start":3828,"end":3833,"name":"Array"},"property":{"type":"Identifier","start":3834,"end":3841,"name":"isArray"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":3842,"end":3859,"object":{"type":"Identifier","start":3842,"end":3854,"name":"relationship"},"property":{"type":"Identifier","start":3855,"end":3859,"name":"data"},"computed":false,"optional":false}],"optional":false}},"consequent":{"type":"BlockStatement","start":3862,"end":5188,"body":[{"type":"VariableDeclaration","start":3884,"end":3903,"declarations":[{"type":"VariableDeclarator","start":3888,"end":3902,"id":{"type":"Identifier","start":3888,"end":3897,"name":"allModels"},"init":{"type":"ArrayExpression","start":3900,"end":3902,"elements":[]}}],"kind":"let"},{"type":"VariableDeclaration","start":3924,"end":3953,"declarations":[{"type":"VariableDeclarator","start":3930,"end":3952,"id":{"type":"Identifier","start":3930,"end":3947,"name":"modelTypesFetched"},"init":{"type":"ArrayExpression","start":3950,"end":3952,"elements":[]}}],"kind":"const"},{"type":"ForOfStatement","start":3974,"end":5109,"await":false,"left":{"type":"VariableDeclaration","start":3979,"end":3994,"declarations":[{"type":"VariableDeclarator","start":3985,"end":3994,"id":{"type":"Identifier","start":3985,"end":3994,"name":"typeIndex"},"init":null}],"kind":"const"},"right":{"type":"CallExpression","start":3998,"end":4028,"callee":{"type":"MemberExpression","start":3998,"end":4009,"object":{"type":"Identifier","start":3998,"end":4004,"name":"Object"},"property":{"type":"Identifier","start":4005,"end":4009,"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":4010,"end":4027,"object":{"type":"Identifier","start":4010,"end":4022,"name":"relationship"},"property":{"type":"Identifier","start":4023,"end":4027,"name":"data"},"computed":false,"optional":false}],"optional":false},"body":{"type":"BlockStatement","start":4030,"end":5109,"body":[{"type":"VariableDeclaration","start":4056,"end":4107,"declarations":[{"type":"VariableDeclarator","start":4062,"end":4106,"id":{"type":"Identifier","start":4062,"end":4070,"name":"typeName"},"init":{"type":"MemberExpression","start":4073,"end":4106,"object":{"type":"MemberExpression","start":4073,"end":4101,"object":{"type":"MemberExpression","start":4073,"end":4090,"object":{"type":"Identifier","start":4073,"end":4085,"name":"relationship"},"property":{"type":"Identifier","start":4086,"end":4090,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4091,"end":4100,"name":"typeIndex"},"computed":true,"optional":false},"property":{"type":"Identifier","start":4102,"end":4106,"name":"type"},"computed":false,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":4132,"end":5087,"test":{"type":"UnaryExpression","start":4136,"end":4174,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":4137,"end":4174,"callee":{"type":"Identifier","start":4137,"end":4145,"name":"includes"},"arguments":[{"type":"Identifier","start":4146,"end":4163,"name":"modelTypesFetched"},{"type":"Identifier","start":4165,"end":4173,"name":"typeName"}],"optional":false}},"consequent":{"type":"BlockStatement","start":4176,"end":5087,"body":[{"type":"ExpressionStatement","start":4206,"end":4239,"expression":{"type":"CallExpression","start":4206,"end":4238,"callee":{"type":"MemberExpression","start":4206,"end":4228,"object":{"type":"Identifier","start":4206,"end":4223,"name":"modelTypesFetched"},"property":{"type":"Identifier","start":4224,"end":4228,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4229,"end":4237,"name":"typeName"}],"optional":false}},{"type":"VariableDeclaration","start":4340,"end":4457,"declarations":[{"type":"VariableDeclarator","start":4346,"end":4456,"id":{"type":"Identifier","start":4346,"end":4355,"name":"modelType"},"init":{"type":"MemberExpression","start":4358,"end":4456,"object":{"type":"MemberExpression","start":4358,"end":4446,"object":{"type":"CallExpression","start":4358,"end":4439,"callee":{"type":"MemberExpression","start":4358,"end":4377,"object":{"type":"Identifier","start":4358,"end":4365,"name":"Reflect"},"property":{"type":"Identifier","start":4366,"end":4377,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":4378,"end":4402,"value":"JsonApiDatastoreConfig","raw":"'JsonApiDatastoreConfig'"},{"type":"MemberExpression","start":4404,"end":4438,"object":{"type":"MemberExpression","start":4404,"end":4426,"object":{"type":"ThisExpression","start":4404,"end":4408},"property":{"type":"Identifier","start":4409,"end":4426,"name":"internalDatastore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4427,"end":4438,"name":"constructor"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":4440,"end":4446,"name":"models"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4447,"end":4455,"name":"typeName"},"computed":true,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":4486,"end":5061,"test":{"type":"Identifier","start":4490,"end":4499,"name":"modelType"},"consequent":{"type":"BlockStatement","start":4501,"end":4876,"body":[{"type":"VariableDeclaration","start":4535,"end":4657,"declarations":[{"type":"VariableDeclarator","start":4541,"end":4656,"id":{"type":"Identifier","start":4541,"end":4559,"name":"relationshipModels"},"init":{"type":"CallExpression","start":4562,"end":4656,"callee":{"type":"MemberExpression","start":4562,"end":4589,"object":{"type":"ThisExpression","start":4562,"end":4566},"property":{"type":"Identifier","start":4567,"end":4589,"name":"getHasManyRelationship"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4590,"end":4599,"name":"modelType"},{"type":"MemberExpression","start":4601,"end":4618,"object":{"type":"Identifier","start":4601,"end":4613,"name":"relationship"},"property":{"type":"Identifier","start":4614,"end":4618,"name":"data"},"computed":false,"optional":false},{"type":"Identifier","start":4620,"end":4628,"name":"included"},{"type":"Identifier","start":4630,"end":4638,"name":"typeName"},{"type":"Identifier","start":4640,"end":4655,"name":"remainingModels"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":4690,"end":4846,"test":{"type":"BinaryExpression","start":4694,"end":4723,"left":{"type":"MemberExpression","start":4694,"end":4719,"object":{"type":"Identifier","start":4694,"end":4712,"name":"relationshipModels"},"property":{"type":"Identifier","start":4713,"end":4719,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":4722,"end":4723,"value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","start":4725,"end":4846,"body":[{"type":"ExpressionStatement","start":4763,"end":4812,"expression":{"type":"AssignmentExpression","start":4763,"end":4811,"operator":"=","left":{"type":"Identifier","start":4763,"end":4772,"name":"allModels"},"right":{"type":"CallExpression","start":4775,"end":4811,"callee":{"type":"MemberExpression","start":4775,"end":4791,"object":{"type":"Identifier","start":4775,"end":4784,"name":"allModels"},"property":{"type":"Identifier","start":4785,"end":4791,"name":"concat"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4792,"end":4810,"name":"relationshipModels"}],"optional":false}}}]},"alternate":null}]},"alternate":{"type":"BlockStatement","start":4910,"end":5061,"body":[{"type":"ThrowStatement","start":4944,"end":5031,"argument":{"type":"ObjectExpression","start":4950,"end":5030,"properties":[{"type":"Property","start":4952,"end":5028,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4952,"end":4959,"name":"message"},"value":{"type":"TemplateLiteral","start":4961,"end":5028,"expressions":[{"type":"Identifier","start":5007,"end":5015,"name":"typeName"}],"quasis":[{"type":"TemplateElement","start":4962,"end":5005,"value":{"raw":"parseHasMany - Model type for relationship ","cooked":"parseHasMany - Model type for relationship "},"tail":false},{"type":"TemplateElement","start":5016,"end":5027,"value":{"raw":" not found.","cooked":" not found."},"tail":true}]},"kind":"init"}]}}]}}]},"alternate":null}]}},{"type":"ExpressionStatement","start":5130,"end":5170,"expression":{"type":"AssignmentExpression","start":5130,"end":5169,"operator":"=","left":{"type":"MemberExpression","start":5130,"end":5157,"object":{"type":"ThisExpression","start":5130,"end":5134},"property":{"type":"MemberExpression","start":5135,"end":5156,"object":{"type":"Identifier","start":5135,"end":5143,"name":"metadata"},"property":{"type":"Identifier","start":5144,"end":5156,"name":"propertyName"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"Identifier","start":5160,"end":5169,"name":"allModels"}}}]},"alternate":null}]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":5223,"end":6647,"static":false,"computed":false,"key":{"type":"Identifier","start":5223,"end":5237,"name":"parseBelongsTo"},"kind":"method","value":{"type":"FunctionExpression","start":5237,"end":6647,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5238,"end":5242,"name":"data"},{"type":"Identifier","start":5244,"end":5252,"name":"included"},{"type":"Identifier","start":5254,"end":5269,"name":"remainingModels"}],"body":{"type":"BlockStatement","start":5271,"end":6647,"body":[{"type":"VariableDeclaration","start":5281,"end":5338,"declarations":[{"type":"VariableDeclarator","start":5287,"end":5337,"id":{"type":"Identifier","start":5287,"end":5296,"name":"belongsTo"},"init":{"type":"CallExpression","start":5299,"end":5337,"callee":{"type":"MemberExpression","start":5299,"end":5318,"object":{"type":"Identifier","start":5299,"end":5306,"name":"Reflect"},"property":{"type":"Identifier","start":5307,"end":5318,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5319,"end":5330,"value":"BelongsTo","raw":"'BelongsTo'"},{"type":"ThisExpression","start":5332,"end":5336}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":5347,"end":6641,"test":{"type":"Identifier","start":5351,"end":5360,"name":"belongsTo"},"consequent":{"type":"BlockStatement","start":5362,"end":6641,"body":[{"type":"ForOfStatement","start":5376,"end":6631,"await":false,"left":{"type":"VariableDeclaration","start":5381,"end":5395,"declarations":[{"type":"VariableDeclarator","start":5387,"end":5395,"id":{"type":"Identifier","start":5387,"end":5395,"name":"metadata"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":5399,"end":5408,"name":"belongsTo"},"body":{"type":"BlockStatement","start":5410,"end":6631,"body":[{"type":"VariableDeclaration","start":5428,"end":5519,"declarations":[{"type":"VariableDeclarator","start":5434,"end":5518,"id":{"type":"Identifier","start":5434,"end":5446,"name":"relationship"},"init":{"type":"ConditionalExpression","start":5449,"end":5518,"test":{"type":"MemberExpression","start":5449,"end":5467,"object":{"type":"Identifier","start":5449,"end":5453,"name":"data"},"property":{"type":"Identifier","start":5454,"end":5467,"name":"relationships"},"computed":false,"optional":false},"consequent":{"type":"MemberExpression","start":5470,"end":5511,"object":{"type":"MemberExpression","start":5470,"end":5488,"object":{"type":"Identifier","start":5470,"end":5474,"name":"data"},"property":{"type":"Identifier","start":5475,"end":5488,"name":"relationships"},"computed":false,"optional":false},"property":{"type":"MemberExpression","start":5489,"end":5510,"object":{"type":"Identifier","start":5489,"end":5497,"name":"metadata"},"property":{"type":"Identifier","start":5498,"end":5510,"name":"relationship"},"computed":false,"optional":false},"computed":true,"optional":false},"alternate":{"type":"Literal","start":5514,"end":5518,"value":null,"raw":"null"}}}],"kind":"const"},{"type":"IfStatement","start":5536,"end":6617,"test":{"type":"LogicalExpression","start":5540,"end":5573,"left":{"type":"Identifier","start":5540,"end":5552,"name":"relationship"},"operator":"&&","right":{"type":"MemberExpression","start":5556,"end":5573,"object":{"type":"Identifier","start":5556,"end":5568,"name":"relationship"},"property":{"type":"Identifier","start":5569,"end":5573,"name":"data"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":5575,"end":6617,"body":[{"type":"VariableDeclaration","start":5597,"end":5702,"declarations":[{"type":"VariableDeclarator","start":5603,"end":5701,"id":{"type":"Identifier","start":5603,"end":5619,"name":"dataRelationship"},"init":{"type":"ConditionalExpression","start":5622,"end":5701,"test":{"type":"BinaryExpression","start":5623,"end":5657,"left":{"type":"MemberExpression","start":5623,"end":5640,"object":{"type":"Identifier","start":5623,"end":5635,"name":"relationship"},"property":{"type":"Identifier","start":5636,"end":5640,"name":"data"},"computed":false,"optional":false},"operator":"instanceof","right":{"type":"Identifier","start":5652,"end":5657,"name":"Array"}},"consequent":{"type":"MemberExpression","start":5661,"end":5681,"object":{"type":"MemberExpression","start":5661,"end":5678,"object":{"type":"Identifier","start":5661,"end":5673,"name":"relationship"},"property":{"type":"Identifier","start":5674,"end":5678,"name":"data"},"computed":false,"optional":false},"property":{"type":"Literal","start":5679,"end":5680,"value":0,"raw":"0"},"computed":true,"optional":false},"alternate":{"type":"MemberExpression","start":5684,"end":5701,"object":{"type":"Identifier","start":5684,"end":5696,"name":"relationship"},"property":{"type":"Identifier","start":5697,"end":5701,"name":"data"},"computed":false,"optional":false}}}],"kind":"const"},{"type":"IfStatement","start":5723,"end":6599,"test":{"type":"Identifier","start":5727,"end":5743,"name":"dataRelationship"},"consequent":{"type":"BlockStatement","start":5745,"end":6599,"body":[{"type":"VariableDeclaration","start":5771,"end":5810,"declarations":[{"type":"VariableDeclarator","start":5777,"end":5809,"id":{"type":"Identifier","start":5777,"end":5785,"name":"typeName"},"init":{"type":"MemberExpression","start":5788,"end":5809,"object":{"type":"Identifier","start":5788,"end":5804,"name":"dataRelationship"},"property":{"type":"Identifier","start":5805,"end":5809,"name":"type"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":5903,"end":6020,"declarations":[{"type":"VariableDeclarator","start":5909,"end":6019,"id":{"type":"Identifier","start":5909,"end":5918,"name":"modelType"},"init":{"type":"MemberExpression","start":5921,"end":6019,"object":{"type":"MemberExpression","start":5921,"end":6009,"object":{"type":"CallExpression","start":5921,"end":6002,"callee":{"type":"MemberExpression","start":5921,"end":5940,"object":{"type":"Identifier","start":5921,"end":5928,"name":"Reflect"},"property":{"type":"Identifier","start":5929,"end":5940,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5941,"end":5965,"value":"JsonApiDatastoreConfig","raw":"'JsonApiDatastoreConfig'"},{"type":"MemberExpression","start":5967,"end":6001,"object":{"type":"MemberExpression","start":5967,"end":5989,"object":{"type":"ThisExpression","start":5967,"end":5971},"property":{"type":"Identifier","start":5972,"end":5989,"name":"internalDatastore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5990,"end":6001,"name":"constructor"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":6003,"end":6009,"name":"models"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6010,"end":6018,"name":"typeName"},"computed":true,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":6045,"end":6577,"test":{"type":"Identifier","start":6049,"end":6058,"name":"modelType"},"consequent":{"type":"BlockStatement","start":6060,"end":6402,"body":[{"type":"VariableDeclaration","start":6090,"end":6212,"declarations":[{"type":"VariableDeclarator","start":6096,"end":6211,"id":{"type":"Identifier","start":6096,"end":6113,"name":"relationshipModel"},"init":{"type":"CallExpression","start":6116,"end":6211,"callee":{"type":"MemberExpression","start":6116,"end":6145,"object":{"type":"ThisExpression","start":6116,"end":6120},"property":{"type":"Identifier","start":6121,"end":6145,"name":"getBelongsToRelationship"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6146,"end":6155,"name":"modelType"},{"type":"Identifier","start":6157,"end":6173,"name":"dataRelationship"},{"type":"Identifier","start":6175,"end":6183,"name":"included"},{"type":"Identifier","start":6185,"end":6193,"name":"typeName"},{"type":"Identifier","start":6195,"end":6210,"name":"remainingModels"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":6241,"end":6376,"test":{"type":"Identifier","start":6245,"end":6262,"name":"relationshipModel"},"consequent":{"type":"BlockStatement","start":6264,"end":6376,"body":[{"type":"ExpressionStatement","start":6298,"end":6346,"expression":{"type":"AssignmentExpression","start":6298,"end":6345,"operator":"=","left":{"type":"MemberExpression","start":6298,"end":6325,"object":{"type":"ThisExpression","start":6298,"end":6302},"property":{"type":"MemberExpression","start":6303,"end":6324,"object":{"type":"Identifier","start":6303,"end":6311,"name":"metadata"},"property":{"type":"Identifier","start":6312,"end":6324,"name":"propertyName"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"Identifier","start":6328,"end":6345,"name":"relationshipModel"}}}]},"alternate":null}]},"alternate":{"type":"BlockStatement","start":6432,"end":6577,"body":[{"type":"ThrowStatement","start":6462,"end":6551,"argument":{"type":"ObjectExpression","start":6468,"end":6550,"properties":[{"type":"Property","start":6470,"end":6548,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6470,"end":6477,"name":"message"},"value":{"type":"TemplateLiteral","start":6479,"end":6548,"expressions":[{"type":"Identifier","start":6527,"end":6535,"name":"typeName"}],"quasis":[{"type":"TemplateElement","start":6480,"end":6525,"value":{"raw":"parseBelongsTo - Model type for relationship ","cooked":"parseBelongsTo - Model type for relationship "},"tail":false},{"type":"TemplateElement","start":6536,"end":6547,"value":{"raw":" not found.","cooked":" not found."},"tail":true}]},"kind":"init"}]}}]}}]},"alternate":null}]},"alternate":null}]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":6652,"end":7525,"static":false,"computed":false,"key":{"type":"Identifier","start":6652,"end":6674,"name":"getHasManyRelationship"},"kind":"method","value":{"type":"FunctionExpression","start":6674,"end":7525,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6675,"end":6684,"name":"modelType"},{"type":"Identifier","start":6686,"end":6690,"name":"data"},{"type":"Identifier","start":6692,"end":6700,"name":"included"},{"type":"Identifier","start":6702,"end":6710,"name":"typeName"},{"type":"Identifier","start":6712,"end":6727,"name":"remainingModels"}],"body":{"type":"BlockStatement","start":6729,"end":7525,"body":[{"type":"VariableDeclaration","start":6739,"end":6767,"declarations":[{"type":"VariableDeclarator","start":6745,"end":6766,"id":{"type":"Identifier","start":6745,"end":6761,"name":"relationshipList"},"init":{"type":"ArrayExpression","start":6764,"end":6766,"elements":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":6776,"end":7486,"expression":{"type":"CallExpression","start":6776,"end":7485,"callee":{"type":"MemberExpression","start":6776,"end":6788,"object":{"type":"Identifier","start":6776,"end":6780,"name":"data"},"property":{"type":"Identifier","start":6781,"end":6788,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":6789,"end":7484,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6790,"end":6794,"name":"item"}],"body":{"type":"BlockStatement","start":6799,"end":7484,"body":[{"type":"VariableDeclaration","start":6813,"end":6886,"declarations":[{"type":"VariableDeclarator","start":6819,"end":6885,"id":{"type":"Identifier","start":6819,"end":6835,"name":"relationshipData"},"init":{"type":"CallExpression","start":6838,"end":6885,"callee":{"type":"Identifier","start":6838,"end":6842,"name":"find"},"arguments":[{"type":"Identifier","start":6843,"end":6851,"name":"included"},{"type":"ObjectExpression","start":6853,"end":6884,"properties":[{"type":"Property","start":6855,"end":6866,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6855,"end":6857,"name":"id"},"value":{"type":"MemberExpression","start":6859,"end":6866,"object":{"type":"Identifier","start":6859,"end":6863,"name":"item"},"property":{"type":"Identifier","start":6864,"end":6866,"name":"id"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":6868,"end":6882,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6868,"end":6872,"name":"type"},"value":{"type":"Identifier","start":6874,"end":6882,"name":"typeName"},"kind":"init"}]}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":6899,"end":7474,"test":{"type":"Identifier","start":6903,"end":6919,"name":"relationshipData"},"consequent":{"type":"BlockStatement","start":6921,"end":7474,"body":[{"type":"VariableDeclaration","start":6939,"end":7004,"declarations":[{"type":"VariableDeclarator","start":6945,"end":7003,"id":{"type":"Identifier","start":6945,"end":6954,"name":"newObject"},"init":{"type":"CallExpression","start":6957,"end":7003,"callee":{"type":"MemberExpression","start":6957,"end":6974,"object":{"type":"ThisExpression","start":6957,"end":6961},"property":{"type":"Identifier","start":6962,"end":6974,"name":"createOrPeek"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6975,"end":6984,"name":"modelType"},{"type":"Identifier","start":6986,"end":7002,"name":"relationshipData"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":7021,"end":7094,"declarations":[{"type":"VariableDeclarator","start":7027,"end":7093,"id":{"type":"Identifier","start":7027,"end":7049,"name":"indexOfNewlyFoundModel"},"init":{"type":"CallExpression","start":7052,"end":7093,"callee":{"type":"MemberExpression","start":7052,"end":7075,"object":{"type":"Identifier","start":7052,"end":7067,"name":"remainingModels"},"property":{"type":"Identifier","start":7068,"end":7075,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7076,"end":7092,"name":"relationshipData"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":7111,"end":7166,"declarations":[{"type":"VariableDeclarator","start":7117,"end":7165,"id":{"type":"Identifier","start":7117,"end":7136,"name":"modelsForProcessing"},"init":{"type":"CallExpression","start":7139,"end":7165,"callee":{"type":"MemberExpression","start":7139,"end":7161,"object":{"type":"Identifier","start":7139,"end":7154,"name":"remainingModels"},"property":{"type":"Identifier","start":7155,"end":7161,"name":"concat"},"computed":false,"optional":false},"arguments":[{"type":"ArrayExpression","start":7162,"end":7164,"elements":[]}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":7183,"end":7410,"test":{"type":"BinaryExpression","start":7187,"end":7216,"left":{"type":"Identifier","start":7187,"end":7209,"name":"indexOfNewlyFoundModel"},"operator":"!==","right":{"type":"UnaryExpression","start":7214,"end":7216,"operator":"-","prefix":true,"argument":{"type":"Literal","start":7215,"end":7216,"value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","start":7218,"end":7410,"body":[{"type":"ExpressionStatement","start":7240,"end":7294,"expression":{"type":"CallExpression","start":7240,"end":7293,"callee":{"type":"MemberExpression","start":7240,"end":7266,"object":{"type":"Identifier","start":7240,"end":7259,"name":"modelsForProcessing"},"property":{"type":"Identifier","start":7260,"end":7266,"name":"splice"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7267,"end":7289,"name":"indexOfNewlyFoundModel"},{"type":"Literal","start":7291,"end":7292,"value":1,"raw":"1"}],"optional":false}},{"type":"ExpressionStatement","start":7315,"end":7392,"expression":{"type":"CallExpression","start":7315,"end":7391,"callee":{"type":"MemberExpression","start":7315,"end":7342,"object":{"type":"Identifier","start":7315,"end":7324,"name":"newObject"},"property":{"type":"Identifier","start":7325,"end":7342,"name":"syncRelationships"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7343,"end":7359,"name":"relationshipData"},{"type":"Identifier","start":7361,"end":7369,"name":"included"},{"type":"Identifier","start":7371,"end":7390,"name":"modelsForProcessing"}],"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":7427,"end":7460,"expression":{"type":"CallExpression","start":7427,"end":7459,"callee":{"type":"MemberExpression","start":7427,"end":7448,"object":{"type":"Identifier","start":7427,"end":7443,"name":"relationshipList"},"property":{"type":"Identifier","start":7444,"end":7448,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7449,"end":7458,"name":"newObject"}],"optional":false}}]},"alternate":null}]}}],"optional":false}},{"type":"ReturnStatement","start":7495,"end":7519,"argument":{"type":"Identifier","start":7502,"end":7518,"name":"relationshipList"}}]}}},{"type":"MethodDefinition","start":7530,"end":8314,"static":false,"computed":false,"key":{"type":"Identifier","start":7530,"end":7554,"name":"getBelongsToRelationship"},"kind":"method","value":{"type":"FunctionExpression","start":7554,"end":8314,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7555,"end":7564,"name":"modelType"},{"type":"Identifier","start":7566,"end":7570,"name":"data"},{"type":"Identifier","start":7572,"end":7580,"name":"included"},{"type":"Identifier","start":7582,"end":7590,"name":"typeName"},{"type":"Identifier","start":7592,"end":7607,"name":"remainingModels"}],"body":{"type":"BlockStatement","start":7609,"end":8314,"body":[{"type":"VariableDeclaration","start":7619,"end":7638,"declarations":[{"type":"VariableDeclarator","start":7625,"end":7637,"id":{"type":"Identifier","start":7625,"end":7627,"name":"id"},"init":{"type":"MemberExpression","start":7630,"end":7637,"object":{"type":"Identifier","start":7630,"end":7634,"name":"data"},"property":{"type":"Identifier","start":7635,"end":7637,"name":"id"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":7647,"end":7711,"declarations":[{"type":"VariableDeclarator","start":7653,"end":7710,"id":{"type":"Identifier","start":7653,"end":7669,"name":"relationshipData"},"init":{"type":"CallExpression","start":7672,"end":7710,"callee":{"type":"Identifier","start":7672,"end":7676,"name":"find"},"arguments":[{"type":"Identifier","start":7677,"end":7685,"name":"included"},{"type":"ObjectExpression","start":7687,"end":7709,"properties":[{"type":"Property","start":7689,"end":7691,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7689,"end":7691,"name":"id"},"kind":"init","value":{"type":"Identifier","start":7689,"end":7691,"name":"id"}},{"type":"Property","start":7693,"end":7707,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7693,"end":7697,"name":"type"},"value":{"type":"Identifier","start":7699,"end":7707,"name":"typeName"},"kind":"init"}]}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":7720,"end":8243,"test":{"type":"Identifier","start":7724,"end":7740,"name":"relationshipData"},"consequent":{"type":"BlockStatement","start":7742,"end":8243,"body":[{"type":"VariableDeclaration","start":7756,"end":7821,"declarations":[{"type":"VariableDeclarator","start":7762,"end":7820,"id":{"type":"Identifier","start":7762,"end":7771,"name":"newObject"},"init":{"type":"CallExpression","start":7774,"end":7820,"callee":{"type":"MemberExpression","start":7774,"end":7791,"object":{"type":"ThisExpression","start":7774,"end":7778},"property":{"type":"Identifier","start":7779,"end":7791,"name":"createOrPeek"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7792,"end":7801,"name":"modelType"},{"type":"Identifier","start":7803,"end":7819,"name":"relationshipData"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":7834,"end":7907,"declarations":[{"type":"VariableDeclarator","start":7840,"end":7906,"id":{"type":"Identifier","start":7840,"end":7862,"name":"indexOfNewlyFoundModel"},"init":{"type":"CallExpression","start":7865,"end":7906,"callee":{"type":"MemberExpression","start":7865,"end":7888,"object":{"type":"Identifier","start":7865,"end":7880,"name":"remainingModels"},"property":{"type":"Identifier","start":7881,"end":7888,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7889,"end":7905,"name":"relationshipData"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":7920,"end":7975,"declarations":[{"type":"VariableDeclarator","start":7926,"end":7974,"id":{"type":"Identifier","start":7926,"end":7945,"name":"modelsForProcessing"},"init":{"type":"CallExpression","start":7948,"end":7974,"callee":{"type":"MemberExpression","start":7948,"end":7970,"object":{"type":"Identifier","start":7948,"end":7963,"name":"remainingModels"},"property":{"type":"Identifier","start":7964,"end":7970,"name":"concat"},"computed":false,"optional":false},"arguments":[{"type":"ArrayExpression","start":7971,"end":7973,"elements":[]}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":7988,"end":8203,"test":{"type":"BinaryExpression","start":7992,"end":8021,"left":{"type":"Identifier","start":7992,"end":8014,"name":"indexOfNewlyFoundModel"},"operator":"!==","right":{"type":"UnaryExpression","start":8019,"end":8021,"operator":"-","prefix":true,"argument":{"type":"Literal","start":8020,"end":8021,"value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","start":8023,"end":8203,"body":[{"type":"ExpressionStatement","start":8041,"end":8095,"expression":{"type":"CallExpression","start":8041,"end":8094,"callee":{"type":"MemberExpression","start":8041,"end":8067,"object":{"type":"Identifier","start":8041,"end":8060,"name":"modelsForProcessing"},"property":{"type":"Identifier","start":8061,"end":8067,"name":"splice"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8068,"end":8090,"name":"indexOfNewlyFoundModel"},{"type":"Literal","start":8092,"end":8093,"value":1,"raw":"1"}],"optional":false}},{"type":"ExpressionStatement","start":8112,"end":8189,"expression":{"type":"CallExpression","start":8112,"end":8188,"callee":{"type":"MemberExpression","start":8112,"end":8139,"object":{"type":"Identifier","start":8112,"end":8121,"name":"newObject"},"property":{"type":"Identifier","start":8122,"end":8139,"name":"syncRelationships"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8140,"end":8156,"name":"relationshipData"},{"type":"Identifier","start":8158,"end":8166,"name":"included"},{"type":"Identifier","start":8168,"end":8187,"name":"modelsForProcessing"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":8216,"end":8233,"argument":{"type":"Identifier","start":8223,"end":8232,"name":"newObject"}}]},"alternate":null},{"type":"ReturnStatement","start":8252,"end":8308,"argument":{"type":"CallExpression","start":8259,"end":8307,"callee":{"type":"MemberExpression","start":8259,"end":8292,"object":{"type":"MemberExpression","start":8259,"end":8281,"object":{"type":"ThisExpression","start":8259,"end":8263},"property":{"type":"Identifier","start":8264,"end":8281,"name":"internalDatastore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8282,"end":8292,"name":"peekRecord"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8293,"end":8302,"name":"modelType"},{"type":"Identifier","start":8304,"end":8306,"name":"id"}],"optional":false}}]}}},{"type":"MethodDefinition","start":8319,"end":8771,"static":false,"computed":false,"key":{"type":"Identifier","start":8319,"end":8331,"name":"createOrPeek"},"kind":"method","value":{"type":"FunctionExpression","start":8331,"end":8771,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8332,"end":8341,"name":"modelType"},{"type":"Identifier","start":8343,"end":8347,"name":"data"}],"body":{"type":"BlockStatement","start":8349,"end":8771,"body":[{"type":"VariableDeclaration","start":8359,"end":8426,"declarations":[{"type":"VariableDeclarator","start":8365,"end":8425,"id":{"type":"Identifier","start":8365,"end":8369,"name":"peek"},"init":{"type":"CallExpression","start":8372,"end":8425,"callee":{"type":"MemberExpression","start":8372,"end":8405,"object":{"type":"MemberExpression","start":8372,"end":8394,"object":{"type":"ThisExpression","start":8372,"end":8376},"property":{"type":"Identifier","start":8377,"end":8394,"name":"internalDatastore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8395,"end":8405,"name":"peekRecord"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8406,"end":8415,"name":"modelType"},{"type":"MemberExpression","start":8417,"end":8424,"object":{"type":"Identifier","start":8417,"end":8421,"name":"data"},"property":{"type":"Identifier","start":8422,"end":8424,"name":"id"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":8435,"end":8601,"test":{"type":"Identifier","start":8439,"end":8443,"name":"peek"},"consequent":{"type":"BlockStatement","start":8445,"end":8601,"body":[{"type":"ExpressionStatement","start":8459,"end":8566,"expression":{"type":"CallExpression","start":8459,"end":8565,"callee":{"type":"MemberExpression","start":8459,"end":8467,"object":{"type":"Identifier","start":8459,"end":8460,"name":"_"},"property":{"type":"Identifier","start":8461,"end":8467,"name":"extend"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8468,"end":8472,"name":"peek"},{"type":"CallExpression","start":8474,"end":8564,"callee":{"type":"MemberExpression","start":8474,"end":8536,"object":{"type":"MemberExpression","start":8474,"end":8496,"object":{"type":"ThisExpression","start":8474,"end":8478},"property":{"type":"Identifier","start":8479,"end":8496,"name":"internalDatastore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8497,"end":8536,"name":"transformSerializedNamesToPropertyNames"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8537,"end":8546,"name":"modelType"},{"type":"MemberExpression","start":8548,"end":8563,"object":{"type":"Identifier","start":8548,"end":8552,"name":"data"},"property":{"type":"Identifier","start":8553,"end":8563,"name":"attributes"},"computed":false,"optional":false}],"optional":false}],"optional":false}},{"type":"ReturnStatement","start":8579,"end":8591,"argument":{"type":"Identifier","start":8586,"end":8590,"name":"peek"}}]},"alternate":null},{"type":"VariableDeclaration","start":8610,"end":8685,"declarations":[{"type":"VariableDeclarator","start":8616,"end":8684,"id":{"type":"Identifier","start":8616,"end":8625,"name":"newObject"},"init":{"type":"CallExpression","start":8628,"end":8684,"callee":{"type":"MemberExpression","start":8628,"end":8667,"object":{"type":"MemberExpression","start":8628,"end":8650,"object":{"type":"ThisExpression","start":8628,"end":8632},"property":{"type":"Identifier","start":8633,"end":8650,"name":"internalDatastore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8651,"end":8667,"name":"deserializeModel"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8668,"end":8677,"name":"modelType"},{"type":"Identifier","start":8679,"end":8683,"name":"data"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":8694,"end":8739,"expression":{"type":"CallExpression","start":8694,"end":8738,"callee":{"type":"MemberExpression","start":8694,"end":8727,"object":{"type":"MemberExpression","start":8694,"end":8716,"object":{"type":"ThisExpression","start":8694,"end":8698},"property":{"type":"Identifier","start":8699,"end":8716,"name":"internalDatastore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8717,"end":8727,"name":"addToStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8728,"end":8737,"name":"newObject"}],"optional":false}},{"type":"ReturnStatement","start":8748,"end":8765,"argument":{"type":"Identifier","start":8755,"end":8764,"name":"newObject"}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGkubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9tb2RlbHMvanNvbi1hcGkubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFJeEMsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFDNUIsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFHekQ7Ozs7O0dBS0c7QUFDSCx5Q0FBeUM7QUFDekMsTUFBTSxzQkFBc0IsR0FBVyxpQkFBd0IsQ0FBQztBQUVoRSxNQUFNLE9BQU8sWUFBWTtJQVF2QixZQUFvQixpQkFBbUMsRUFBRSxJQUFVO1FBQS9DLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBa0I7UUFOaEQsd0JBQW1CLEdBQUcsS0FBSyxDQUFDO1FBT2pDLElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQztZQUNoQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDbEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7U0FDbEM7SUFDSCxDQUFDO0lBRU0scUJBQXFCO1FBQzFCLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ2xDLENBQUM7SUFFTSxpQkFBaUIsQ0FBQyxJQUFTLEVBQUUsUUFBYSxFQUFFLGVBQTRCO1FBQzdFLElBQUksSUFBSSxDQUFDLGNBQWMsS0FBSyxRQUFRLEVBQUU7WUFDcEMsT0FBTztTQUNSO1FBRUQsSUFBSSxJQUFJLEVBQUU7WUFDUixJQUFJLG1CQUFtQixHQUFHLGVBQWUsQ0FBQztZQUUxQyxJQUFJ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Z0JBQWdCLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixDQUFDLENBQUM7YUFDOUU7WUFFRCxPQUFPLFNBQVMsQ0FBQztTQUNsQjtRQUVELE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVPLFlBQVksQ0FBeUIsU0FBdUIsRUFBRSxJQUFTO1FBQzdFLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVuRSxJQUFJLElBQUksRUFBRTtZQUNSLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyx1Q0FBdUMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDM0csT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELE1BQU0sU0FBUyxHQUFNLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUU3QyxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaW5kLCBpbmNsdWRlcyB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBKc29uQXBpRGF0YXN0b3JlLCBNb2RlbFR5cGUgfSBmcm9tICcuLi9zZXJ2aWNlcy9qc29uLWFwaS1kYXRhc3RvcmUuc2VydmljZSc7XG5pbXBvcnQgeyBNb2RlbENvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVNZXRhZGF0YSB9IGZyb20gJy4uL2NvbnN0YW50cy9zeW1ib2xzJztcbmltcG9ydCB7IEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG4vKipcbiAqIEhBQ0svRklYTUU6XG4gKiBUeXBlICdzeW1ib2wnIGNhbm5vdCBiZSB1c2VkIGFzIGFuIGluZGV4IHR5cGUuXG4gKiBUeXBlU2NyaXB0IDIuOS54XG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4Ny5cbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbmNvbnN0IEF0dHJpYnV0ZU1ldGFkYXRhSW5kZXg6IHN0cmluZyA9IEF0dHJpYnV0ZU1ldGFkYXRhIGFzIGFueTtcblxuZXhwb3J0IGNsYXNzIEpzb25BcGlNb2RlbCB7XG4gIGlkOiBzdHJpbmc7XG4gIHB1YmxpYyBtb2RlbEluaXRpYWxpemF0aW9uID0gZmFsc2U7XG5cbiAgW2tleTogc3RyaW5nXTogYW55O1xuXG4gIGxhc3RTeW5jTW9kZWxzOiBBcnJheTxhbnk+O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW50ZXJuYWxEYXRhc3RvcmU6IEpzb25BcGlEYXRhc3RvcmUsIGRhdGE/OiBhbnkpIHtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy5tb2RlbEluaXRpYWxpemF0aW9uID0gdHJ1ZTtcbiAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBkYXRhLmF0dHJpYnV0ZXMpO1xuICAgICAgdGhpcy5tb2RlbEluaXRpYWxpemF0aW9uID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGlzTW9kZWxJbml0aWFsaXphdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEluaXRpYWxpemF0aW9uO1xuICB9XG5cbiAgcHVibGljIHN5bmNSZWxhdGlvbnNoaXBzKGRhdGE6IGFueSwgaW5jbHVkZWQ6IGFueSwgcmVtYWluaW5nTW9kZWxzPzogQXJyYXk8YW55Pik6IHZvaWQge1xuICAgIGlmICh0aGlzLmxhc3RTeW5jTW9kZWxzID09PSBpbmNsdWRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkYXRhKSB7XG4gICAgICBsZXQgbW9kZWxzRm9yUHJvY2Vzc2luZyA9IHJlbWFpbmluZ01vZGVscztcblxuICAgICAgaWYgKG1vZGVsc0ZvclByb2Nlc3NpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtb2RlbHNGb3JQcm9jZXNzaW5nID0gW10uY29uY2F0KGluY2x1ZGVkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wYXJzZUhhc01hbnkoZGF0YSwgaW5jbHVkZWQsIG1vZGVsc0ZvclByb2Nlc3NpbmcpO1xuICAgICAgdGhpcy5wYXJzZUJlbG9uZ3NUbyhkYXRhLCBpbmNsdWRlZCwgbW9kZWxzRm9yUHJvY2Vzc2luZyk7XG4gICAgfVxuXG4gICAgdGhpcy5sYXN0U3luY01vZGVscyA9IGluY2x1ZGVkO1xuICB9XG5cbiAgcHVibGljIHNhdmUocGFyYW1zPzogYW55LCBoZWFkZXJzPzogSHR0cEhlYWRlcnMsIGN1c3RvbVVybD86IHN0cmluZyk6IE9ic2VydmFibGU8dGhpcz4ge1xuICAgIHRoaXMuY2hlY2tDaGFuZ2VzKCk7XG4gICAgY29uc3QgYXR0cmlidXRlc01ldGFkYXRhOiBhbnkgPSB0aGlzW0F0dHJpYnV0ZU1ldGFkYXRhSW5kZXhdO1xuICAgIHJldHVybiB0aGlzLmludGVybmFsRGF0YXN0b3JlLnNhdmVSZWNvcmQoYXR0cmlidXRlc01ldGFkYXRhLCB0aGlzLCBwYXJhbXMsIGhlYWRlcnMsIGN1c3RvbVVybCk7XG4gIH1cblxuICBnZXQgaGFzRGlydHlBdHRyaWJ1dGVzKCkge1xuICAgIHRoaXMuY2hlY2tDaGFuZ2VzKCk7XG4gICAgY29uc3QgYXR0cmlidXRlc01ldGFkYXRhOiBhbnkgPSB0aGlzW0F0dHJpYnV0ZU1ldGFkYXRhSW5kZXhdO1xuICAgIGxldCBoYXNEaXJ0eUF0dHJpYnV0ZXMgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogYW55ID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGlmIChtZXRhZGF0YS5oYXNEaXJ0eUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBoYXNEaXJ0eUF0dHJpYnV0ZXMgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNEaXJ0eUF0dHJpYnV0ZXM7XG4gIH1cblxuICBwcml2YXRlIGNoZWNrQ2hhbmdlcygpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzTWV0YWRhdGE6IGFueSA9IHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdO1xuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIGF0dHJpYnV0ZXNNZXRhZGF0YSkge1xuICAgICAgaWYgKGF0dHJpYnV0ZXNNZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhOiBhbnkgPSBhdHRyaWJ1dGVzTWV0YWRhdGFbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgaWYgKG1ldGFkYXRhLm5lc3RlZCkge1xuICAgICAgICAgIHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0uaGFzRGlydHlBdHRyaWJ1dGVzID0gIV8uaXNFcXVhbChcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNNZXRhZGF0YVtwcm9wZXJ0eU5hbWVdLm9sZFZhbHVlLFxuICAgICAgICAgICAgYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0ubmV3VmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0uc2VyaWFsaXNhdGlvblZhbHVlID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0uY29udmVydGVyKFxuICAgICAgICAgICAgUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0aGlzLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgICAgICAgXy5jbG9uZURlZXAoYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0ubmV3VmFsdWUpLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcm9sbGJhY2tBdHRyaWJ1dGVzKCk6IHZvaWQge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXNNZXRhZGF0YTogYW55ID0gdGhpc1tBdHRyaWJ1dGVNZXRhZGF0YUluZGV4XTtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBpZiAoYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0uaGFzRGlydHlBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWVdID0gXy5jbG9uZURlZXAoYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0ub2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0IG1vZGVsQ29uZmlnKCk6IE1vZGVsQ29uZmlnIHtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSnNvbkFwaU1vZGVsQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH1cblxuICBwcml2YXRlIHBhcnNlSGFzTWFueShkYXRhOiBhbnksIGluY2x1ZGVkOiBhbnksIHJlbWFpbmluZ01vZGVsczogQXJyYXk8YW55Pik6IHZvaWQge1xuICAgIGNvbnN0IGhhc01hbnk6IGFueSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0hhc01hbnknLCB0aGlzKTtcblxuICAgIGlmIChoYXNNYW55KSB7XG4gICAgICBmb3IgKGNvbnN0IG1ldGFkYXRhIG9mIGhhc01hbnkpIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwOiBhbnkgPSBkYXRhLnJlbGF0aW9uc2hpcHMgPyBkYXRhLnJlbGF0aW9uc2hpcHNbbWV0YWRhdGEucmVsYXRpb25zaGlwXSA6IG51bGw7XG5cbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZGF0YSAmJiBBcnJheS5pc0FycmF5KHJlbGF0aW9uc2hpcC5kYXRhKSkge1xuICAgICAgICAgIGxldCBhbGxNb2RlbHM6IEpzb25BcGlNb2RlbFtdID0gW107XG4gICAgICAgICAgY29uc3QgbW9kZWxUeXBlc0ZldGNoZWQ6IGFueSA9IFtdO1xuXG4gICAgICAgICAgZm9yIChjb25zdCB0eXBlSW5kZXggb2YgT2JqZWN0LmtleXMocmVsYXRpb25zaGlwLmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlTmFtZTogc3RyaW5nID0gcmVsYXRpb25zaGlwLmRhdGFbdHlwZUluZGV4XS50eXBlO1xuXG4gICAgICAgICAgICBpZiAoIWluY2x1ZGVzKG1vZGVsVHlwZXNGZXRjaGVkLCB0eXBlTmFtZSkpIHtcbiAgICAgICAgICAgICAgbW9kZWxUeXBlc0ZldGNoZWQucHVzaCh0eXBlTmFtZSk7XG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgY29uc3QgbW9kZWxUeXBlOiBNb2RlbFR5cGU8dGhpcz4gPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgdGhpcy5pbnRlcm5hbERhdGFzdG9yZS5jb25zdHJ1Y3RvcikubW9kZWxzW3R5cGVOYW1lXTtcblxuICAgICAgICAgICAgICBpZiAobW9kZWxUeXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwTW9kZWxzOiBKc29uQXBpTW9kZWxbXSA9IHRoaXMuZ2V0SGFzTWFueVJlbGF0aW9uc2hpcChcbiAgICAgICAgICAgICAgICAgIG1vZGVsVHlwZSxcbiAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcC5kYXRhLFxuICAgICAgICAgICAgICAgICAgaW5jbHVkZWQsXG4gICAgICAgICAgICAgICAgICB0eXBlTmFtZSxcbiAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ01vZGVsc1xuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpb25zaGlwTW9kZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGFsbE1vZGVscyA9IGFsbE1vZGVscy5jb25jYXQocmVsYXRpb25zaGlwTW9kZWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgeyBtZXNzYWdlOiBgcGFyc2VIYXNNYW55IC0gTW9kZWwgdHlwZSBmb3IgcmVsYXRpb25zaGlwICR7dHlwZU5hbWV9IG5vdCBmb3VuZC5gIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzW21ldGFkYXRhLnByb3BlcnR5TmFtZV0gPSBhbGxNb2RlbHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlQmVsb25nc1RvKGRhdGE6IGFueSwgaW5jbHVkZWQ6IEFycmF5PGFueT4sIHJlbWFpbmluZ01vZGVsczogQXJyYXk8YW55Pik6IHZvaWQge1xuICAgIGNvbnN0IGJlbG9uZ3NUbzogYW55ID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQmVsb25nc1RvJywgdGhpcyk7XG5cbiAgICBpZiAoYmVsb25nc1RvKSB7XG4gICAgICBmb3IgKGNvbnN0IG1ldGFkYXRhIG9mIGJlbG9uZ3NUbykge1xuICAgICAgICBjb25zdCByZWxhdGlvbnNoaXA6IGFueSA9IGRhdGEucmVsYXRpb25zaGlwcyA/IGRhdGEucmVsYXRpb25zaGlwc1ttZXRhZGF0YS5yZWxhdGlvbnNoaXBdIDogbnVsbDtcbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZGF0YSkge1xuICAgICAgICAgIGNvbnN0IGRhdGFSZWxhdGlvbnNoaXA6IGFueSA9IChyZWxhdGlvbnNoaXAuZGF0YSBpbnN0YW5jZW9mIEFycmF5KSA/IHJlbGF0aW9uc2hpcC5kYXRhWzBdIDogcmVsYXRpb25zaGlwLmRhdGE7XG4gICAgICAgICAgaWYgKGRhdGFSZWxhdGlvbnNoaXApIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVOYW1lOiBzdHJpbmcgPSBkYXRhUmVsYXRpb25zaGlwLnR5cGU7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBjb25zdCBtb2RlbFR5cGU6IE1vZGVsVHlwZTx0aGlzPiA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0pzb25BcGlEYXRhc3RvcmVDb25maWcnLCB0aGlzLmludGVybmFsRGF0YXN0b3JlLmNvbnN0cnVjdG9yKS5tb2RlbHNbdHlwZU5hbWVdO1xuXG4gICAgICAgICAgICBpZiAobW9kZWxUeXBlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcE1vZGVsID0gdGhpcy5nZXRCZWxvbmdzVG9SZWxhdGlvbnNoaXAoXG4gICAgICAgICAgICAgICAgbW9kZWxUeXBlLFxuICAgICAgICAgICAgICAgIGRhdGFSZWxhdGlvbnNoaXAsXG4gICAgICAgICAgICAgICAgaW5jbHVkZWQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWUsXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nTW9kZWxzXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKHJlbGF0aW9uc2hpcE1vZGVsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1ttZXRhZGF0YS5wcm9wZXJ0eU5hbWVdID0gcmVsYXRpb25zaGlwTW9kZWw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IHsgbWVzc2FnZTogYHBhcnNlQmVsb25nc1RvIC0gTW9kZWwgdHlwZSBmb3IgcmVsYXRpb25zaGlwICR7dHlwZU5hbWV9IG5vdCBmb3VuZC5gIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRIYXNNYW55UmVsYXRpb25zaGlwPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIGRhdGE6IGFueSxcbiAgICBpbmNsdWRlZDogYW55LFxuICAgIHR5cGVOYW1lOiBzdHJpbmcsXG4gICAgcmVtYWluaW5nTW9kZWxzOiBBcnJheTxhbnk+XG4gICk6IEFycmF5PFQ+IHtcbiAgICBjb25zdCByZWxhdGlvbnNoaXBMaXN0OiBBcnJheTxUPiA9IFtdO1xuXG4gICAgZGF0YS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcERhdGE6IGFueSA9IGZpbmQoaW5jbHVkZWQsIHsgaWQ6IGl0ZW0uaWQsIHR5cGU6IHR5cGVOYW1lIH0gYXMgYW55KTtcblxuICAgICAgaWYgKHJlbGF0aW9uc2hpcERhdGEpIHtcbiAgICAgICAgY29uc3QgbmV3T2JqZWN0OiBUID0gdGhpcy5jcmVhdGVPclBlZWsobW9kZWxUeXBlLCByZWxhdGlvbnNoaXBEYXRhKTtcblxuICAgICAgICBjb25zdCBpbmRleE9mTmV3bHlGb3VuZE1vZGVsID0gcmVtYWluaW5nTW9kZWxzLmluZGV4T2YocmVsYXRpb25zaGlwRGF0YSk7XG4gICAgICAgIGNvbnN0IG1vZGVsc0ZvclByb2Nlc3NpbmcgPSByZW1haW5pbmdNb2RlbHMuY29uY2F0KFtdKTtcblxuICAgICAgICBpZiAoaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCAhPT0gLTEpIHtcbiAgICAgICAgICBtb2RlbHNGb3JQcm9jZXNzaW5nLnNwbGljZShpbmRleE9mTmV3bHlGb3VuZE1vZGVsLCAxKTtcbiAgICAgICAgICBuZXdPYmplY3Quc3luY1JlbGF0aW9uc2hpcHMocmVsYXRpb25zaGlwRGF0YSwgaW5jbHVkZWQsIG1vZGVsc0ZvclByb2Nlc3NpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVsYXRpb25zaGlwTGlzdC5wdXNoKG5ld09iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVsYXRpb25zaGlwTGlzdDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QmVsb25nc1RvUmVsYXRpb25zaGlwPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIGRhdGE6IGFueSxcbiAgICBpbmNsdWRlZDogQXJyYXk8YW55PixcbiAgICB0eXBlTmFtZTogc3RyaW5nLFxuICAgIHJlbWFpbmluZ01vZGVsczogQXJyYXk8YW55PlxuICApOiBUIHwgbnVsbCB7XG4gICAgY29uc3QgaWQ6IHN0cmluZyA9IGRhdGEuaWQ7XG5cbiAgICBjb25zdCByZWxhdGlvbnNoaXBEYXRhOiBhbnkgPSBmaW5kKGluY2x1ZGVkLCB7IGlkLCB0eXBlOiB0eXBlTmFtZSB9IGFzIGFueSk7XG5cbiAgICBpZiAocmVsYXRpb25zaGlwRGF0YSkge1xuICAgICAgY29uc3QgbmV3T2JqZWN0OiBUID0gdGhpcy5jcmVhdGVPclBlZWsobW9kZWxUeXBlLCByZWxhdGlvbnNoaXBEYXRhKTtcblxuICAgICAgY29uc3QgaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCA9IHJlbWFpbmluZ01vZGVscy5pbmRleE9mKHJlbGF0aW9uc2hpcERhdGEpO1xuICAgICAgY29uc3QgbW9kZWxzRm9yUHJvY2Vzc2luZyA9IHJlbWFpbmluZ01vZGVscy5jb25jYXQoW10pO1xuXG4gICAgICBpZiAoaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCAhPT0gLTEpIHtcbiAgICAgICAgbW9kZWxzRm9yUHJvY2Vzc2luZy5zcGxpY2UoaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCwgMSk7XG4gICAgICAgIG5ld09iamVjdC5zeW5jUmVsYXRpb25zaGlwcyhyZWxhdGlvbnNoaXBEYXRhLCBpbmNsdWRlZCwgbW9kZWxzRm9yUHJvY2Vzc2luZyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdPYmplY3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxEYXRhc3RvcmUucGVla1JlY29yZChtb2RlbFR5cGUsIGlkKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlT3JQZWVrPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LCBkYXRhOiBhbnkpOiBUIHtcbiAgICBjb25zdCBwZWVrID0gdGhpcy5pbnRlcm5hbERhdGFzdG9yZS5wZWVrUmVjb3JkKG1vZGVsVHlwZSwgZGF0YS5pZCk7XG5cbiAgICBpZiAocGVlaykge1xuICAgICAgXy5leHRlbmQocGVlaywgdGhpcy5pbnRlcm5hbERhdGFzdG9yZS50cmFuc2Zvcm1TZXJpYWxpemVkTmFtZXNUb1Byb3BlcnR5TmFtZXMobW9kZWxUeXBlLCBkYXRhLmF0dHJpYnV0ZXMpKTtcbiAgICAgIHJldHVybiBwZWVrO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld09iamVjdDogVCA9IHRoaXMuaW50ZXJuYWxEYXRhc3RvcmUuZGVzZXJpYWxpemVNb2RlbChtb2RlbFR5cGUsIGRhdGEpO1xuICAgIHRoaXMuaW50ZXJuYWxEYXRhc3RvcmUuYWRkVG9TdG9yZShuZXdPYmplY3QpO1xuXG4gICAgcmV0dXJuIG5ld09iamVjdDtcbiAgfVxufVxuIl19","start":8774,"end":30336}]},"code":"import { find, includes } from 'lodash';\nimport * as _ from 'lodash';\nimport { AttributeMetadata } from '../constants/symbols';\n/**\n * HACK/FIXME:\n * Type 'symbol' cannot be used as an index type.\n * TypeScript 2.9.x\n * See https://github.com/Microsoft/TypeScript/issues/24587.\n */\n// tslint:disable-next-line:variable-name\nconst AttributeMetadataIndex = AttributeMetadata;\nexport class JsonApiModel {\n    constructor(internalDatastore, data) {\n        this.internalDatastore = internalDatastore;\n        this.modelInitialization = false;\n        if (data) {\n            this.modelInitialization = true;\n            this.id = data.id;\n            Object.assign(this, data.attributes);\n            this.modelInitialization = false;\n        }\n    }\n    isModelInitialization() {\n        return this.modelInitialization;\n    }\n    syncRelationships(data, included, remainingModels) {\n        if (this.lastSyncModels === included) {\n            return;\n        }\n        if (data) {\n            let modelsForProcessing = remainingModels;\n            if (modelsForProcessing === undefined) {\n                modelsForProcessing = [].concat(included);\n            }\n            this.parseHasMany(data, included, modelsForProcessing);\n            this.parseBelongsTo(data, included, modelsForProcessing);\n        }\n        this.lastSyncModels = included;\n    }\n    save(params, headers, customUrl) {\n        this.checkChanges();\n        const attributesMetadata = this[AttributeMetadataIndex];\n        return this.internalDatastore.saveRecord(attributesMetadata, this, params, headers, customUrl);\n    }\n    get hasDirtyAttributes() {\n        this.checkChanges();\n        const attributesMetadata = this[AttributeMetadataIndex];\n        let hasDirtyAttributes = false;\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                const metadata = attributesMetadata[propertyName];\n                if (metadata.hasDirtyAttributes) {\n                    hasDirtyAttributes = true;\n                    break;\n                }\n            }\n        }\n        return hasDirtyAttributes;\n    }\n    checkChanges() {\n        const attributesMetadata = this[AttributeMetadata];\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                const metadata = attributesMetadata[propertyName];\n                if (metadata.nested) {\n                    this[AttributeMetadata][propertyName].hasDirtyAttributes = !_.isEqual(attributesMetadata[propertyName].oldValue, attributesMetadata[propertyName].newValue);\n                    this[AttributeMetadata][propertyName].serialisationValue = attributesMetadata[propertyName].converter(Reflect.getMetadata('design:type', this, propertyName), _.cloneDeep(attributesMetadata[propertyName].newValue), true);\n                }\n            }\n        }\n    }\n    rollbackAttributes() {\n        const attributesMetadata = this[AttributeMetadataIndex];\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                if (attributesMetadata[propertyName].hasDirtyAttributes) {\n                    this[propertyName] = _.cloneDeep(attributesMetadata[propertyName].oldValue);\n                }\n            }\n        }\n    }\n    get modelConfig() {\n        return Reflect.getMetadata('JsonApiModelConfig', this.constructor);\n    }\n    parseHasMany(data, included, remainingModels) {\n        const hasMany = Reflect.getMetadata('HasMany', this);\n        if (hasMany) {\n            for (const metadata of hasMany) {\n                const relationship = data.relationships ? data.relationships[metadata.relationship] : null;\n                if (relationship && relationship.data && Array.isArray(relationship.data)) {\n                    let allModels = [];\n                    const modelTypesFetched = [];\n                    for (const typeIndex of Object.keys(relationship.data)) {\n                        const typeName = relationship.data[typeIndex].type;\n                        if (!includes(modelTypesFetched, typeName)) {\n                            modelTypesFetched.push(typeName);\n                            // tslint:disable-next-line:max-line-length\n                            const modelType = Reflect.getMetadata('JsonApiDatastoreConfig', this.internalDatastore.constructor).models[typeName];\n                            if (modelType) {\n                                const relationshipModels = this.getHasManyRelationship(modelType, relationship.data, included, typeName, remainingModels);\n                                if (relationshipModels.length > 0) {\n                                    allModels = allModels.concat(relationshipModels);\n                                }\n                            }\n                            else {\n                                throw { message: `parseHasMany - Model type for relationship ${typeName} not found.` };\n                            }\n                        }\n                    }\n                    this[metadata.propertyName] = allModels;\n                }\n            }\n        }\n    }\n    parseBelongsTo(data, included, remainingModels) {\n        const belongsTo = Reflect.getMetadata('BelongsTo', this);\n        if (belongsTo) {\n            for (const metadata of belongsTo) {\n                const relationship = data.relationships ? data.relationships[metadata.relationship] : null;\n                if (relationship && relationship.data) {\n                    const dataRelationship = (relationship.data instanceof Array) ? relationship.data[0] : relationship.data;\n                    if (dataRelationship) {\n                        const typeName = dataRelationship.type;\n                        // tslint:disable-next-line:max-line-length\n                        const modelType = Reflect.getMetadata('JsonApiDatastoreConfig', this.internalDatastore.constructor).models[typeName];\n                        if (modelType) {\n                            const relationshipModel = this.getBelongsToRelationship(modelType, dataRelationship, included, typeName, remainingModels);\n                            if (relationshipModel) {\n                                this[metadata.propertyName] = relationshipModel;\n                            }\n                        }\n                        else {\n                            throw { message: `parseBelongsTo - Model type for relationship ${typeName} not found.` };\n                        }\n                    }\n                }\n            }\n        }\n    }\n    getHasManyRelationship(modelType, data, included, typeName, remainingModels) {\n        const relationshipList = [];\n        data.forEach((item) => {\n            const relationshipData = find(included, { id: item.id, type: typeName });\n            if (relationshipData) {\n                const newObject = this.createOrPeek(modelType, relationshipData);\n                const indexOfNewlyFoundModel = remainingModels.indexOf(relationshipData);\n                const modelsForProcessing = remainingModels.concat([]);\n                if (indexOfNewlyFoundModel !== -1) {\n                    modelsForProcessing.splice(indexOfNewlyFoundModel, 1);\n                    newObject.syncRelationships(relationshipData, included, modelsForProcessing);\n                }\n                relationshipList.push(newObject);\n            }\n        });\n        return relationshipList;\n    }\n    getBelongsToRelationship(modelType, data, included, typeName, remainingModels) {\n        const id = data.id;\n        const relationshipData = find(included, { id, type: typeName });\n        if (relationshipData) {\n            const newObject = this.createOrPeek(modelType, relationshipData);\n            const indexOfNewlyFoundModel = remainingModels.indexOf(relationshipData);\n            const modelsForProcessing = remainingModels.concat([]);\n            if (indexOfNewlyFoundModel !== -1) {\n                modelsForProcessing.splice(indexOfNewlyFoundModel, 1);\n                newObject.syncRelationships(relationshipData, included, modelsForProcessing);\n            }\n            return newObject;\n        }\n        return this.internalDatastore.peekRecord(modelType, id);\n    }\n    createOrPeek(modelType, data) {\n        const peek = this.internalDatastore.peekRecord(modelType, data.id);\n        if (peek) {\n            _.extend(peek, this.internalDatastore.transformSerializedNamesToPropertyNames(modelType, data.attributes));\n            return peek;\n        }\n        const newObject = this.internalDatastore.deserializeModel(modelType, data);\n        this.internalDatastore.addToStore(newObject);\n        return newObject;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGkubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9tb2RlbHMvanNvbi1hcGkubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFJeEMsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFDNUIsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFHekQ7Ozs7O0dBS0c7QUFDSCx5Q0FBeUM7QUFDekMsTUFBTSxzQkFBc0IsR0FBVyxpQkFBd0IsQ0FBQztBQUVoRSxNQUFNLE9BQU8sWUFBWTtJQVF2QixZQUFvQixpQkFBbUMsRUFBRSxJQUFVO1FBQS9DLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBa0I7UUFOaEQsd0JBQW1CLEdBQUcsS0FBSyxDQUFDO1FBT2pDLElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQztZQUNoQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDbEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7U0FDbEM7SUFDSCxDQUFDO0lBRU0scUJBQXFCO1FBQzFCLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ2xDLENBQUM7SUFFTSxpQkFBaUIsQ0FBQyxJQUFTLEVBQUUsUUFBYSxFQUFFLGVBQTRCO1FBQzdFLElBQUksSUFBSSxDQUFDLGNBQWMsS0FBSyxRQUFRLEVBQUU7WUFDcEMsT0FBTztTQUNSO1FBRUQsSUFBSSxJQUFJLEVBQUU7WUFDUixJQUFJLG1CQUFtQixHQUFHLGVBQWUsQ0FBQztZQUUxQyxJQUFJ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Z0JBQWdCLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixDQUFDLENBQUM7YUFDOUU7WUFFRCxPQUFPLFNBQVMsQ0FBQztTQUNsQjtRQUVELE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVPLFlBQVksQ0FBeUIsU0FBdUIsRUFBRSxJQUFTO1FBQzdFLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVuRSxJQUFJLElBQUksRUFBRTtZQUNSLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyx1Q0FBdUMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDM0csT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELE1BQU0sU0FBUyxHQUFNLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUU3QyxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaW5kLCBpbmNsdWRlcyB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBKc29uQXBpRGF0YXN0b3JlLCBNb2RlbFR5cGUgfSBmcm9tICcuLi9zZXJ2aWNlcy9qc29uLWFwaS1kYXRhc3RvcmUuc2VydmljZSc7XG5pbXBvcnQgeyBNb2RlbENvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVNZXRhZGF0YSB9IGZyb20gJy4uL2NvbnN0YW50cy9zeW1ib2xzJztcbmltcG9ydCB7IEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG4vKipcbiAqIEhBQ0svRklYTUU6XG4gKiBUeXBlICdzeW1ib2wnIGNhbm5vdCBiZSB1c2VkIGFzIGFuIGluZGV4IHR5cGUuXG4gKiBUeXBlU2NyaXB0IDIuOS54XG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4Ny5cbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbmNvbnN0IEF0dHJpYnV0ZU1ldGFkYXRhSW5kZXg6IHN0cmluZyA9IEF0dHJpYnV0ZU1ldGFkYXRhIGFzIGFueTtcblxuZXhwb3J0IGNsYXNzIEpzb25BcGlNb2RlbCB7XG4gIGlkOiBzdHJpbmc7XG4gIHB1YmxpYyBtb2RlbEluaXRpYWxpemF0aW9uID0gZmFsc2U7XG5cbiAgW2tleTogc3RyaW5nXTogYW55O1xuXG4gIGxhc3RTeW5jTW9kZWxzOiBBcnJheTxhbnk+O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW50ZXJuYWxEYXRhc3RvcmU6IEpzb25BcGlEYXRhc3RvcmUsIGRhdGE/OiBhbnkpIHtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy5tb2RlbEluaXRpYWxpemF0aW9uID0gdHJ1ZTtcbiAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBkYXRhLmF0dHJpYnV0ZXMpO1xuICAgICAgdGhpcy5tb2RlbEluaXRpYWxpemF0aW9uID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGlzTW9kZWxJbml0aWFsaXphdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEluaXRpYWxpemF0aW9uO1xuICB9XG5cbiAgcHVibGljIHN5bmNSZWxhdGlvbnNoaXBzKGRhdGE6IGFueSwgaW5jbHVkZWQ6IGFueSwgcmVtYWluaW5nTW9kZWxzPzogQXJyYXk8YW55Pik6IHZvaWQge1xuICAgIGlmICh0aGlzLmxhc3RTeW5jTW9kZWxzID09PSBpbmNsdWRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkYXRhKSB7XG4gICAgICBsZXQgbW9kZWxzRm9yUHJvY2Vzc2luZyA9IHJlbWFpbmluZ01vZGVscztcblxuICAgICAgaWYgKG1vZGVsc0ZvclByb2Nlc3NpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtb2RlbHNGb3JQcm9jZXNzaW5nID0gW10uY29uY2F0KGluY2x1ZGVkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wYXJzZUhhc01hbnkoZGF0YSwgaW5jbHVkZWQsIG1vZGVsc0ZvclByb2Nlc3NpbmcpO1xuICAgICAgdGhpcy5wYXJzZUJlbG9uZ3NUbyhkYXRhLCBpbmNsdWRlZCwgbW9kZWxzRm9yUHJvY2Vzc2luZyk7XG4gICAgfVxuXG4gICAgdGhpcy5sYXN0U3luY01vZGVscyA9IGluY2x1ZGVkO1xuICB9XG5cbiAgcHVibGljIHNhdmUocGFyYW1zPzogYW55LCBoZWFkZXJzPzogSHR0cEhlYWRlcnMsIGN1c3RvbVVybD86IHN0cmluZyk6IE9ic2VydmFibGU8dGhpcz4ge1xuICAgIHRoaXMuY2hlY2tDaGFuZ2VzKCk7XG4gICAgY29uc3QgYXR0cmlidXRlc01ldGFkYXRhOiBhbnkgPSB0aGlzW0F0dHJpYnV0ZU1ldGFkYXRhSW5kZXhdO1xuICAgIHJldHVybiB0aGlzLmludGVybmFsRGF0YXN0b3JlLnNhdmVSZWNvcmQoYXR0cmlidXRlc01ldGFkYXRhLCB0aGlzLCBwYXJhbXMsIGhlYWRlcnMsIGN1c3RvbVVybCk7XG4gIH1cblxuICBnZXQgaGFzRGlydHlBdHRyaWJ1dGVzKCkge1xuICAgIHRoaXMuY2hlY2tDaGFuZ2VzKCk7XG4gICAgY29uc3QgYXR0cmlidXRlc01ldGFkYXRhOiBhbnkgPSB0aGlzW0F0dHJpYnV0ZU1ldGFkYXRhSW5kZXhdO1xuICAgIGxldCBoYXNEaXJ0eUF0dHJpYnV0ZXMgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogYW55ID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGlmIChtZXRhZGF0YS5oYXNEaXJ0eUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBoYXNEaXJ0eUF0dHJpYnV0ZXMgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNEaXJ0eUF0dHJpYnV0ZXM7XG4gIH1cblxuICBwcml2YXRlIGNoZWNrQ2hhbmdlcygpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzTWV0YWRhdGE6IGFueSA9IHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdO1xuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIGF0dHJpYnV0ZXNNZXRhZGF0YSkge1xuICAgICAgaWYgKGF0dHJpYnV0ZXNNZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhOiBhbnkgPSBhdHRyaWJ1dGVzTWV0YWRhdGFbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgaWYgKG1ldGFkYXRhLm5lc3RlZCkge1xuICAgICAgICAgIHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0uaGFzRGlydHlBdHRyaWJ1dGVzID0gIV8uaXNFcXVhbChcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNNZXRhZGF0YVtwcm9wZXJ0eU5hbWVdLm9sZFZhbHVlLFxuICAgICAgICAgICAgYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0ubmV3VmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0uc2VyaWFsaXNhdGlvblZhbHVlID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0uY29udmVydGVyKFxuICAgICAgICAgICAgUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0aGlzLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgICAgICAgXy5jbG9uZURlZXAoYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0ubmV3VmFsdWUpLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcm9sbGJhY2tBdHRyaWJ1dGVzKCk6IHZvaWQge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXNNZXRhZGF0YTogYW55ID0gdGhpc1tBdHRyaWJ1dGVNZXRhZGF0YUluZGV4XTtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBpZiAoYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0uaGFzRGlydHlBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWVdID0gXy5jbG9uZURlZXAoYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0ub2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0IG1vZGVsQ29uZmlnKCk6IE1vZGVsQ29uZmlnIHtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSnNvbkFwaU1vZGVsQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH1cblxuICBwcml2YXRlIHBhcnNlSGFzTWFueShkYXRhOiBhbnksIGluY2x1ZGVkOiBhbnksIHJlbWFpbmluZ01vZGVsczogQXJyYXk8YW55Pik6IHZvaWQge1xuICAgIGNvbnN0IGhhc01hbnk6IGFueSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0hhc01hbnknLCB0aGlzKTtcblxuICAgIGlmIChoYXNNYW55KSB7XG4gICAgICBmb3IgKGNvbnN0IG1ldGFkYXRhIG9mIGhhc01hbnkpIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwOiBhbnkgPSBkYXRhLnJlbGF0aW9uc2hpcHMgPyBkYXRhLnJlbGF0aW9uc2hpcHNbbWV0YWRhdGEucmVsYXRpb25zaGlwXSA6IG51bGw7XG5cbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZGF0YSAmJiBBcnJheS5pc0FycmF5KHJlbGF0aW9uc2hpcC5kYXRhKSkge1xuICAgICAgICAgIGxldCBhbGxNb2RlbHM6IEpzb25BcGlNb2RlbFtdID0gW107XG4gICAgICAgICAgY29uc3QgbW9kZWxUeXBlc0ZldGNoZWQ6IGFueSA9IFtdO1xuXG4gICAgICAgICAgZm9yIChjb25zdCB0eXBlSW5kZXggb2YgT2JqZWN0LmtleXMocmVsYXRpb25zaGlwLmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlTmFtZTogc3RyaW5nID0gcmVsYXRpb25zaGlwLmRhdGFbdHlwZUluZGV4XS50eXBlO1xuXG4gICAgICAgICAgICBpZiAoIWluY2x1ZGVzKG1vZGVsVHlwZXNGZXRjaGVkLCB0eXBlTmFtZSkpIHtcbiAgICAgICAgICAgICAgbW9kZWxUeXBlc0ZldGNoZWQucHVzaCh0eXBlTmFtZSk7XG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgY29uc3QgbW9kZWxUeXBlOiBNb2RlbFR5cGU8dGhpcz4gPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgdGhpcy5pbnRlcm5hbERhdGFzdG9yZS5jb25zdHJ1Y3RvcikubW9kZWxzW3R5cGVOYW1lXTtcblxuICAgICAgICAgICAgICBpZiAobW9kZWxUeXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwTW9kZWxzOiBKc29uQXBpTW9kZWxbXSA9IHRoaXMuZ2V0SGFzTWFueVJlbGF0aW9uc2hpcChcbiAgICAgICAgICAgICAgICAgIG1vZGVsVHlwZSxcbiAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcC5kYXRhLFxuICAgICAgICAgICAgICAgICAgaW5jbHVkZWQsXG4gICAgICAgICAgICAgICAgICB0eXBlTmFtZSxcbiAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ01vZGVsc1xuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpb25zaGlwTW9kZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGFsbE1vZGVscyA9IGFsbE1vZGVscy5jb25jYXQocmVsYXRpb25zaGlwTW9kZWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgeyBtZXNzYWdlOiBgcGFyc2VIYXNNYW55IC0gTW9kZWwgdHlwZSBmb3IgcmVsYXRpb25zaGlwICR7dHlwZU5hbWV9IG5vdCBmb3VuZC5gIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzW21ldGFkYXRhLnByb3BlcnR5TmFtZV0gPSBhbGxNb2RlbHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlQmVsb25nc1RvKGRhdGE6IGFueSwgaW5jbHVkZWQ6IEFycmF5PGFueT4sIHJlbWFpbmluZ01vZGVsczogQXJyYXk8YW55Pik6IHZvaWQge1xuICAgIGNvbnN0IGJlbG9uZ3NUbzogYW55ID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQmVsb25nc1RvJywgdGhpcyk7XG5cbiAgICBpZiAoYmVsb25nc1RvKSB7XG4gICAgICBmb3IgKGNvbnN0IG1ldGFkYXRhIG9mIGJlbG9uZ3NUbykge1xuICAgICAgICBjb25zdCByZWxhdGlvbnNoaXA6IGFueSA9IGRhdGEucmVsYXRpb25zaGlwcyA/IGRhdGEucmVsYXRpb25zaGlwc1ttZXRhZGF0YS5yZWxhdGlvbnNoaXBdIDogbnVsbDtcbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZGF0YSkge1xuICAgICAgICAgIGNvbnN0IGRhdGFSZWxhdGlvbnNoaXA6IGFueSA9IChyZWxhdGlvbnNoaXAuZGF0YSBpbnN0YW5jZW9mIEFycmF5KSA/IHJlbGF0aW9uc2hpcC5kYXRhWzBdIDogcmVsYXRpb25zaGlwLmRhdGE7XG4gICAgICAgICAgaWYgKGRhdGFSZWxhdGlvbnNoaXApIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVOYW1lOiBzdHJpbmcgPSBkYXRhUmVsYXRpb25zaGlwLnR5cGU7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBjb25zdCBtb2RlbFR5cGU6IE1vZGVsVHlwZTx0aGlzPiA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0pzb25BcGlEYXRhc3RvcmVDb25maWcnLCB0aGlzLmludGVybmFsRGF0YXN0b3JlLmNvbnN0cnVjdG9yKS5tb2RlbHNbdHlwZU5hbWVdO1xuXG4gICAgICAgICAgICBpZiAobW9kZWxUeXBlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcE1vZGVsID0gdGhpcy5nZXRCZWxvbmdzVG9SZWxhdGlvbnNoaXAoXG4gICAgICAgICAgICAgICAgbW9kZWxUeXBlLFxuICAgICAgICAgICAgICAgIGRhdGFSZWxhdGlvbnNoaXAsXG4gICAgICAgICAgICAgICAgaW5jbHVkZWQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWUsXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nTW9kZWxzXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKHJlbGF0aW9uc2hpcE1vZGVsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1ttZXRhZGF0YS5wcm9wZXJ0eU5hbWVdID0gcmVsYXRpb25zaGlwTW9kZWw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IHsgbWVzc2FnZTogYHBhcnNlQmVsb25nc1RvIC0gTW9kZWwgdHlwZSBmb3IgcmVsYXRpb25zaGlwICR7dHlwZU5hbWV9IG5vdCBmb3VuZC5gIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRIYXNNYW55UmVsYXRpb25zaGlwPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIGRhdGE6IGFueSxcbiAgICBpbmNsdWRlZDogYW55LFxuICAgIHR5cGVOYW1lOiBzdHJpbmcsXG4gICAgcmVtYWluaW5nTW9kZWxzOiBBcnJheTxhbnk+XG4gICk6IEFycmF5PFQ+IHtcbiAgICBjb25zdCByZWxhdGlvbnNoaXBMaXN0OiBBcnJheTxUPiA9IFtdO1xuXG4gICAgZGF0YS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcERhdGE6IGFueSA9IGZpbmQoaW5jbHVkZWQsIHsgaWQ6IGl0ZW0uaWQsIHR5cGU6IHR5cGVOYW1lIH0gYXMgYW55KTtcblxuICAgICAgaWYgKHJlbGF0aW9uc2hpcERhdGEpIHtcbiAgICAgICAgY29uc3QgbmV3T2JqZWN0OiBUID0gdGhpcy5jcmVhdGVPclBlZWsobW9kZWxUeXBlLCByZWxhdGlvbnNoaXBEYXRhKTtcblxuICAgICAgICBjb25zdCBpbmRleE9mTmV3bHlGb3VuZE1vZGVsID0gcmVtYWluaW5nTW9kZWxzLmluZGV4T2YocmVsYXRpb25zaGlwRGF0YSk7XG4gICAgICAgIGNvbnN0IG1vZGVsc0ZvclByb2Nlc3NpbmcgPSByZW1haW5pbmdNb2RlbHMuY29uY2F0KFtdKTtcblxuICAgICAgICBpZiAoaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCAhPT0gLTEpIHtcbiAgICAgICAgICBtb2RlbHNGb3JQcm9jZXNzaW5nLnNwbGljZShpbmRleE9mTmV3bHlGb3VuZE1vZGVsLCAxKTtcbiAgICAgICAgICBuZXdPYmplY3Quc3luY1JlbGF0aW9uc2hpcHMocmVsYXRpb25zaGlwRGF0YSwgaW5jbHVkZWQsIG1vZGVsc0ZvclByb2Nlc3NpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVsYXRpb25zaGlwTGlzdC5wdXNoKG5ld09iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVsYXRpb25zaGlwTGlzdDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QmVsb25nc1RvUmVsYXRpb25zaGlwPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIGRhdGE6IGFueSxcbiAgICBpbmNsdWRlZDogQXJyYXk8YW55PixcbiAgICB0eXBlTmFtZTogc3RyaW5nLFxuICAgIHJlbWFpbmluZ01vZGVsczogQXJyYXk8YW55PlxuICApOiBUIHwgbnVsbCB7XG4gICAgY29uc3QgaWQ6IHN0cmluZyA9IGRhdGEuaWQ7XG5cbiAgICBjb25zdCByZWxhdGlvbnNoaXBEYXRhOiBhbnkgPSBmaW5kKGluY2x1ZGVkLCB7IGlkLCB0eXBlOiB0eXBlTmFtZSB9IGFzIGFueSk7XG5cbiAgICBpZiAocmVsYXRpb25zaGlwRGF0YSkge1xuICAgICAgY29uc3QgbmV3T2JqZWN0OiBUID0gdGhpcy5jcmVhdGVPclBlZWsobW9kZWxUeXBlLCByZWxhdGlvbnNoaXBEYXRhKTtcblxuICAgICAgY29uc3QgaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCA9IHJlbWFpbmluZ01vZGVscy5pbmRleE9mKHJlbGF0aW9uc2hpcERhdGEpO1xuICAgICAgY29uc3QgbW9kZWxzRm9yUHJvY2Vzc2luZyA9IHJlbWFpbmluZ01vZGVscy5jb25jYXQoW10pO1xuXG4gICAgICBpZiAoaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCAhPT0gLTEpIHtcbiAgICAgICAgbW9kZWxzRm9yUHJvY2Vzc2luZy5zcGxpY2UoaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCwgMSk7XG4gICAgICAgIG5ld09iamVjdC5zeW5jUmVsYXRpb25zaGlwcyhyZWxhdGlvbnNoaXBEYXRhLCBpbmNsdWRlZCwgbW9kZWxzRm9yUHJvY2Vzc2luZyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdPYmplY3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxEYXRhc3RvcmUucGVla1JlY29yZChtb2RlbFR5cGUsIGlkKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlT3JQZWVrPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LCBkYXRhOiBhbnkpOiBUIHtcbiAgICBjb25zdCBwZWVrID0gdGhpcy5pbnRlcm5hbERhdGFzdG9yZS5wZWVrUmVjb3JkKG1vZGVsVHlwZSwgZGF0YS5pZCk7XG5cbiAgICBpZiAocGVlaykge1xuICAgICAgXy5leHRlbmQocGVlaywgdGhpcy5pbnRlcm5hbERhdGFzdG9yZS50cmFuc2Zvcm1TZXJpYWxpemVkTmFtZXNUb1Byb3BlcnR5TmFtZXMobW9kZWxUeXBlLCBkYXRhLmF0dHJpYnV0ZXMpKTtcbiAgICAgIHJldHVybiBwZWVrO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld09iamVjdDogVCA9IHRoaXMuaW50ZXJuYWxEYXRhc3RvcmUuZGVzZXJpYWxpemVNb2RlbChtb2RlbFR5cGUsIGRhdGEpO1xuICAgIHRoaXMuaW50ZXJuYWxEYXRhc3RvcmUuYWRkVG9TdG9yZShuZXdPYmplY3QpO1xuXG4gICAgcmV0dXJuIG5ld09iamVjdDtcbiAgfVxufVxuIl19","customTransformCache":false,"dependencies":["lodash","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/constants/symbols.mjs"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api.model.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { find, includes } from 'lodash';\nimport * as _ from 'lodash';\nimport { AttributeMetadata } from '../constants/symbols';\n/**\n * HACK/FIXME:\n * Type 'symbol' cannot be used as an index type.\n * TypeScript 2.9.x\n * See https://github.com/Microsoft/TypeScript/issues/24587.\n */\n// tslint:disable-next-line:variable-name\nconst AttributeMetadataIndex = AttributeMetadata;\nexport class JsonApiModel {\n    constructor(internalDatastore, data) {\n        this.internalDatastore = internalDatastore;\n        this.modelInitialization = false;\n        if (data) {\n            this.modelInitialization = true;\n            this.id = data.id;\n            Object.assign(this, data.attributes);\n            this.modelInitialization = false;\n        }\n    }\n    isModelInitialization() {\n        return this.modelInitialization;\n    }\n    syncRelationships(data, included, remainingModels) {\n        if (this.lastSyncModels === included) {\n            return;\n        }\n        if (data) {\n            let modelsForProcessing = remainingModels;\n            if (modelsForProcessing === undefined) {\n                modelsForProcessing = [].concat(included);\n            }\n            this.parseHasMany(data, included, modelsForProcessing);\n            this.parseBelongsTo(data, included, modelsForProcessing);\n        }\n        this.lastSyncModels = included;\n    }\n    save(params, headers, customUrl) {\n        this.checkChanges();\n        const attributesMetadata = this[AttributeMetadataIndex];\n        return this.internalDatastore.saveRecord(attributesMetadata, this, params, headers, customUrl);\n    }\n    get hasDirtyAttributes() {\n        this.checkChanges();\n        const attributesMetadata = this[AttributeMetadataIndex];\n        let hasDirtyAttributes = false;\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                const metadata = attributesMetadata[propertyName];\n                if (metadata.hasDirtyAttributes) {\n                    hasDirtyAttributes = true;\n                    break;\n                }\n            }\n        }\n        return hasDirtyAttributes;\n    }\n    checkChanges() {\n        const attributesMetadata = this[AttributeMetadata];\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                const metadata = attributesMetadata[propertyName];\n                if (metadata.nested) {\n                    this[AttributeMetadata][propertyName].hasDirtyAttributes = !_.isEqual(attributesMetadata[propertyName].oldValue, attributesMetadata[propertyName].newValue);\n                    this[AttributeMetadata][propertyName].serialisationValue = attributesMetadata[propertyName].converter(Reflect.getMetadata('design:type', this, propertyName), _.cloneDeep(attributesMetadata[propertyName].newValue), true);\n                }\n            }\n        }\n    }\n    rollbackAttributes() {\n        const attributesMetadata = this[AttributeMetadataIndex];\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                if (attributesMetadata[propertyName].hasDirtyAttributes) {\n                    this[propertyName] = _.cloneDeep(attributesMetadata[propertyName].oldValue);\n                }\n            }\n        }\n    }\n    get modelConfig() {\n        return Reflect.getMetadata('JsonApiModelConfig', this.constructor);\n    }\n    parseHasMany(data, included, remainingModels) {\n        const hasMany = Reflect.getMetadata('HasMany', this);\n        if (hasMany) {\n            for (const metadata of hasMany) {\n                const relationship = data.relationships ? data.relationships[metadata.relationship] : null;\n                if (relationship && relationship.data && Array.isArray(relationship.data)) {\n                    let allModels = [];\n                    const modelTypesFetched = [];\n                    for (const typeIndex of Object.keys(relationship.data)) {\n                        const typeName = relationship.data[typeIndex].type;\n                        if (!includes(modelTypesFetched, typeName)) {\n                            modelTypesFetched.push(typeName);\n                            // tslint:disable-next-line:max-line-length\n                            const modelType = Reflect.getMetadata('JsonApiDatastoreConfig', this.internalDatastore.constructor).models[typeName];\n                            if (modelType) {\n                                const relationshipModels = this.getHasManyRelationship(modelType, relationship.data, included, typeName, remainingModels);\n                                if (relationshipModels.length > 0) {\n                                    allModels = allModels.concat(relationshipModels);\n                                }\n                            }\n                            else {\n                                throw { message: `parseHasMany - Model type for relationship ${typeName} not found.` };\n                            }\n                        }\n                    }\n                    this[metadata.propertyName] = allModels;\n                }\n            }\n        }\n    }\n    parseBelongsTo(data, included, remainingModels) {\n        const belongsTo = Reflect.getMetadata('BelongsTo', this);\n        if (belongsTo) {\n            for (const metadata of belongsTo) {\n                const relationship = data.relationships ? data.relationships[metadata.relationship] : null;\n                if (relationship && relationship.data) {\n                    const dataRelationship = (relationship.data instanceof Array) ? relationship.data[0] : relationship.data;\n                    if (dataRelationship) {\n                        const typeName = dataRelationship.type;\n                        // tslint:disable-next-line:max-line-length\n                        const modelType = Reflect.getMetadata('JsonApiDatastoreConfig', this.internalDatastore.constructor).models[typeName];\n                        if (modelType) {\n                            const relationshipModel = this.getBelongsToRelationship(modelType, dataRelationship, included, typeName, remainingModels);\n                            if (relationshipModel) {\n                                this[metadata.propertyName] = relationshipModel;\n                            }\n                        }\n                        else {\n                            throw { message: `parseBelongsTo - Model type for relationship ${typeName} not found.` };\n                        }\n                    }\n                }\n            }\n        }\n    }\n    getHasManyRelationship(modelType, data, included, typeName, remainingModels) {\n        const relationshipList = [];\n        data.forEach((item) => {\n            const relationshipData = find(included, { id: item.id, type: typeName });\n            if (relationshipData) {\n                const newObject = this.createOrPeek(modelType, relationshipData);\n                const indexOfNewlyFoundModel = remainingModels.indexOf(relationshipData);\n                const modelsForProcessing = remainingModels.concat([]);\n                if (indexOfNewlyFoundModel !== -1) {\n                    modelsForProcessing.splice(indexOfNewlyFoundModel, 1);\n                    newObject.syncRelationships(relationshipData, included, modelsForProcessing);\n                }\n                relationshipList.push(newObject);\n            }\n        });\n        return relationshipList;\n    }\n    getBelongsToRelationship(modelType, data, included, typeName, remainingModels) {\n        const id = data.id;\n        const relationshipData = find(included, { id, type: typeName });\n        if (relationshipData) {\n            const newObject = this.createOrPeek(modelType, relationshipData);\n            const indexOfNewlyFoundModel = remainingModels.indexOf(relationshipData);\n            const modelsForProcessing = remainingModels.concat([]);\n            if (indexOfNewlyFoundModel !== -1) {\n                modelsForProcessing.splice(indexOfNewlyFoundModel, 1);\n                newObject.syncRelationships(relationshipData, included, modelsForProcessing);\n            }\n            return newObject;\n        }\n        return this.internalDatastore.peekRecord(modelType, id);\n    }\n    createOrPeek(modelType, data) {\n        const peek = this.internalDatastore.peekRecord(modelType, data.id);\n        if (peek) {\n            _.extend(peek, this.internalDatastore.transformSerializedNamesToPropertyNames(modelType, data.attributes));\n            return peek;\n        }\n        const newObject = this.internalDatastore.deserializeModel(modelType, data);\n        this.internalDatastore.addToStore(newObject);\n        return newObject;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGkubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9tb2RlbHMvanNvbi1hcGkubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFJeEMsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFDNUIsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFHekQ7Ozs7O0dBS0c7QUFDSCx5Q0FBeUM7QUFDekMsTUFBTSxzQkFBc0IsR0FBVyxpQkFBd0IsQ0FBQztBQUVoRSxNQUFNLE9BQU8sWUFBWTtJQVF2QixZQUFvQixpQkFBbUMsRUFBRSxJQUFVO1FBQS9DLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBa0I7UUFOaEQsd0JBQW1CLEdBQUcsS0FBSyxDQUFDO1FBT2pDLElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQztZQUNoQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDbEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7U0FDbEM7SUFDSCxDQUFDO0lBRU0scUJBQXFCO1FBQzFCLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ2xDLENBQUM7SUFFTSxpQkFBaUIsQ0FBQyxJQUFTLEVBQUUsUUFBYSxFQUFFLGVBQTRCO1FBQzdFLElBQUksSUFBSSxDQUFDLGNBQWMsS0FBSyxRQUFRLEVBQUU7WUFDcEMsT0FBTztTQUNSO1FBRUQsSUFBSSxJQUFJLEVBQUU7WUFDUixJQUFJLG1CQUFtQixHQUFHLGVBQWUsQ0FBQztZQUUxQyxJQUFJ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Z0JBQWdCLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixDQUFDLENBQUM7YUFDOUU7WUFFRCxPQUFPLFNBQVMsQ0FBQztTQUNsQjtRQUVELE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVPLFlBQVksQ0FBeUIsU0FBdUIsRUFBRSxJQUFTO1FBQzdFLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVuRSxJQUFJLElBQUksRUFBRTtZQUNSLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyx1Q0FBdUMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDM0csT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELE1BQU0sU0FBUyxHQUFNLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUU3QyxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaW5kLCBpbmNsdWRlcyB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBKc29uQXBpRGF0YXN0b3JlLCBNb2RlbFR5cGUgfSBmcm9tICcuLi9zZXJ2aWNlcy9qc29uLWFwaS1kYXRhc3RvcmUuc2VydmljZSc7XG5pbXBvcnQgeyBNb2RlbENvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVNZXRhZGF0YSB9IGZyb20gJy4uL2NvbnN0YW50cy9zeW1ib2xzJztcbmltcG9ydCB7IEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG4vKipcbiAqIEhBQ0svRklYTUU6XG4gKiBUeXBlICdzeW1ib2wnIGNhbm5vdCBiZSB1c2VkIGFzIGFuIGluZGV4IHR5cGUuXG4gKiBUeXBlU2NyaXB0IDIuOS54XG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4Ny5cbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbmNvbnN0IEF0dHJpYnV0ZU1ldGFkYXRhSW5kZXg6IHN0cmluZyA9IEF0dHJpYnV0ZU1ldGFkYXRhIGFzIGFueTtcblxuZXhwb3J0IGNsYXNzIEpzb25BcGlNb2RlbCB7XG4gIGlkOiBzdHJpbmc7XG4gIHB1YmxpYyBtb2RlbEluaXRpYWxpemF0aW9uID0gZmFsc2U7XG5cbiAgW2tleTogc3RyaW5nXTogYW55O1xuXG4gIGxhc3RTeW5jTW9kZWxzOiBBcnJheTxhbnk+O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW50ZXJuYWxEYXRhc3RvcmU6IEpzb25BcGlEYXRhc3RvcmUsIGRhdGE/OiBhbnkpIHtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy5tb2RlbEluaXRpYWxpemF0aW9uID0gdHJ1ZTtcbiAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBkYXRhLmF0dHJpYnV0ZXMpO1xuICAgICAgdGhpcy5tb2RlbEluaXRpYWxpemF0aW9uID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGlzTW9kZWxJbml0aWFsaXphdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEluaXRpYWxpemF0aW9uO1xuICB9XG5cbiAgcHVibGljIHN5bmNSZWxhdGlvbnNoaXBzKGRhdGE6IGFueSwgaW5jbHVkZWQ6IGFueSwgcmVtYWluaW5nTW9kZWxzPzogQXJyYXk8YW55Pik6IHZvaWQge1xuICAgIGlmICh0aGlzLmxhc3RTeW5jTW9kZWxzID09PSBpbmNsdWRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkYXRhKSB7XG4gICAgICBsZXQgbW9kZWxzRm9yUHJvY2Vzc2luZyA9IHJlbWFpbmluZ01vZGVscztcblxuICAgICAgaWYgKG1vZGVsc0ZvclByb2Nlc3NpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtb2RlbHNGb3JQcm9jZXNzaW5nID0gW10uY29uY2F0KGluY2x1ZGVkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wYXJzZUhhc01hbnkoZGF0YSwgaW5jbHVkZWQsIG1vZGVsc0ZvclByb2Nlc3NpbmcpO1xuICAgICAgdGhpcy5wYXJzZUJlbG9uZ3NUbyhkYXRhLCBpbmNsdWRlZCwgbW9kZWxzRm9yUHJvY2Vzc2luZyk7XG4gICAgfVxuXG4gICAgdGhpcy5sYXN0U3luY01vZGVscyA9IGluY2x1ZGVkO1xuICB9XG5cbiAgcHVibGljIHNhdmUocGFyYW1zPzogYW55LCBoZWFkZXJzPzogSHR0cEhlYWRlcnMsIGN1c3RvbVVybD86IHN0cmluZyk6IE9ic2VydmFibGU8dGhpcz4ge1xuICAgIHRoaXMuY2hlY2tDaGFuZ2VzKCk7XG4gICAgY29uc3QgYXR0cmlidXRlc01ldGFkYXRhOiBhbnkgPSB0aGlzW0F0dHJpYnV0ZU1ldGFkYXRhSW5kZXhdO1xuICAgIHJldHVybiB0aGlzLmludGVybmFsRGF0YXN0b3JlLnNhdmVSZWNvcmQoYXR0cmlidXRlc01ldGFkYXRhLCB0aGlzLCBwYXJhbXMsIGhlYWRlcnMsIGN1c3RvbVVybCk7XG4gIH1cblxuICBnZXQgaGFzRGlydHlBdHRyaWJ1dGVzKCkge1xuICAgIHRoaXMuY2hlY2tDaGFuZ2VzKCk7XG4gICAgY29uc3QgYXR0cmlidXRlc01ldGFkYXRhOiBhbnkgPSB0aGlzW0F0dHJpYnV0ZU1ldGFkYXRhSW5kZXhdO1xuICAgIGxldCBoYXNEaXJ0eUF0dHJpYnV0ZXMgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogYW55ID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGlmIChtZXRhZGF0YS5oYXNEaXJ0eUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBoYXNEaXJ0eUF0dHJpYnV0ZXMgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNEaXJ0eUF0dHJpYnV0ZXM7XG4gIH1cblxuICBwcml2YXRlIGNoZWNrQ2hhbmdlcygpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzTWV0YWRhdGE6IGFueSA9IHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdO1xuICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIGF0dHJpYnV0ZXNNZXRhZGF0YSkge1xuICAgICAgaWYgKGF0dHJpYnV0ZXNNZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhOiBhbnkgPSBhdHRyaWJ1dGVzTWV0YWRhdGFbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgaWYgKG1ldGFkYXRhLm5lc3RlZCkge1xuICAgICAgICAgIHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0uaGFzRGlydHlBdHRyaWJ1dGVzID0gIV8uaXNFcXVhbChcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNNZXRhZGF0YVtwcm9wZXJ0eU5hbWVdLm9sZFZhbHVlLFxuICAgICAgICAgICAgYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0ubmV3VmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXNbQXR0cmlidXRlTWV0YWRhdGFdW3Byb3BlcnR5TmFtZV0uc2VyaWFsaXNhdGlvblZhbHVlID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0uY29udmVydGVyKFxuICAgICAgICAgICAgUmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnR5cGUnLCB0aGlzLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgICAgICAgXy5jbG9uZURlZXAoYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0ubmV3VmFsdWUpLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcm9sbGJhY2tBdHRyaWJ1dGVzKCk6IHZvaWQge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXNNZXRhZGF0YTogYW55ID0gdGhpc1tBdHRyaWJ1dGVNZXRhZGF0YUluZGV4XTtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBpZiAoYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0uaGFzRGlydHlBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWVdID0gXy5jbG9uZURlZXAoYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV0ub2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0IG1vZGVsQ29uZmlnKCk6IE1vZGVsQ29uZmlnIHtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSnNvbkFwaU1vZGVsQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH1cblxuICBwcml2YXRlIHBhcnNlSGFzTWFueShkYXRhOiBhbnksIGluY2x1ZGVkOiBhbnksIHJlbWFpbmluZ01vZGVsczogQXJyYXk8YW55Pik6IHZvaWQge1xuICAgIGNvbnN0IGhhc01hbnk6IGFueSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0hhc01hbnknLCB0aGlzKTtcblxuICAgIGlmIChoYXNNYW55KSB7XG4gICAgICBmb3IgKGNvbnN0IG1ldGFkYXRhIG9mIGhhc01hbnkpIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwOiBhbnkgPSBkYXRhLnJlbGF0aW9uc2hpcHMgPyBkYXRhLnJlbGF0aW9uc2hpcHNbbWV0YWRhdGEucmVsYXRpb25zaGlwXSA6IG51bGw7XG5cbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZGF0YSAmJiBBcnJheS5pc0FycmF5KHJlbGF0aW9uc2hpcC5kYXRhKSkge1xuICAgICAgICAgIGxldCBhbGxNb2RlbHM6IEpzb25BcGlNb2RlbFtdID0gW107XG4gICAgICAgICAgY29uc3QgbW9kZWxUeXBlc0ZldGNoZWQ6IGFueSA9IFtdO1xuXG4gICAgICAgICAgZm9yIChjb25zdCB0eXBlSW5kZXggb2YgT2JqZWN0LmtleXMocmVsYXRpb25zaGlwLmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlTmFtZTogc3RyaW5nID0gcmVsYXRpb25zaGlwLmRhdGFbdHlwZUluZGV4XS50eXBlO1xuXG4gICAgICAgICAgICBpZiAoIWluY2x1ZGVzKG1vZGVsVHlwZXNGZXRjaGVkLCB0eXBlTmFtZSkpIHtcbiAgICAgICAgICAgICAgbW9kZWxUeXBlc0ZldGNoZWQucHVzaCh0eXBlTmFtZSk7XG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgY29uc3QgbW9kZWxUeXBlOiBNb2RlbFR5cGU8dGhpcz4gPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgdGhpcy5pbnRlcm5hbERhdGFzdG9yZS5jb25zdHJ1Y3RvcikubW9kZWxzW3R5cGVOYW1lXTtcblxuICAgICAgICAgICAgICBpZiAobW9kZWxUeXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwTW9kZWxzOiBKc29uQXBpTW9kZWxbXSA9IHRoaXMuZ2V0SGFzTWFueVJlbGF0aW9uc2hpcChcbiAgICAgICAgICAgICAgICAgIG1vZGVsVHlwZSxcbiAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcC5kYXRhLFxuICAgICAgICAgICAgICAgICAgaW5jbHVkZWQsXG4gICAgICAgICAgICAgICAgICB0eXBlTmFtZSxcbiAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ01vZGVsc1xuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpb25zaGlwTW9kZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGFsbE1vZGVscyA9IGFsbE1vZGVscy5jb25jYXQocmVsYXRpb25zaGlwTW9kZWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgeyBtZXNzYWdlOiBgcGFyc2VIYXNNYW55IC0gTW9kZWwgdHlwZSBmb3IgcmVsYXRpb25zaGlwICR7dHlwZU5hbWV9IG5vdCBmb3VuZC5gIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzW21ldGFkYXRhLnByb3BlcnR5TmFtZV0gPSBhbGxNb2RlbHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlQmVsb25nc1RvKGRhdGE6IGFueSwgaW5jbHVkZWQ6IEFycmF5PGFueT4sIHJlbWFpbmluZ01vZGVsczogQXJyYXk8YW55Pik6IHZvaWQge1xuICAgIGNvbnN0IGJlbG9uZ3NUbzogYW55ID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQmVsb25nc1RvJywgdGhpcyk7XG5cbiAgICBpZiAoYmVsb25nc1RvKSB7XG4gICAgICBmb3IgKGNvbnN0IG1ldGFkYXRhIG9mIGJlbG9uZ3NUbykge1xuICAgICAgICBjb25zdCByZWxhdGlvbnNoaXA6IGFueSA9IGRhdGEucmVsYXRpb25zaGlwcyA/IGRhdGEucmVsYXRpb25zaGlwc1ttZXRhZGF0YS5yZWxhdGlvbnNoaXBdIDogbnVsbDtcbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZGF0YSkge1xuICAgICAgICAgIGNvbnN0IGRhdGFSZWxhdGlvbnNoaXA6IGFueSA9IChyZWxhdGlvbnNoaXAuZGF0YSBpbnN0YW5jZW9mIEFycmF5KSA/IHJlbGF0aW9uc2hpcC5kYXRhWzBdIDogcmVsYXRpb25zaGlwLmRhdGE7XG4gICAgICAgICAgaWYgKGRhdGFSZWxhdGlvbnNoaXApIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVOYW1lOiBzdHJpbmcgPSBkYXRhUmVsYXRpb25zaGlwLnR5cGU7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBjb25zdCBtb2RlbFR5cGU6IE1vZGVsVHlwZTx0aGlzPiA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0pzb25BcGlEYXRhc3RvcmVDb25maWcnLCB0aGlzLmludGVybmFsRGF0YXN0b3JlLmNvbnN0cnVjdG9yKS5tb2RlbHNbdHlwZU5hbWVdO1xuXG4gICAgICAgICAgICBpZiAobW9kZWxUeXBlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcE1vZGVsID0gdGhpcy5nZXRCZWxvbmdzVG9SZWxhdGlvbnNoaXAoXG4gICAgICAgICAgICAgICAgbW9kZWxUeXBlLFxuICAgICAgICAgICAgICAgIGRhdGFSZWxhdGlvbnNoaXAsXG4gICAgICAgICAgICAgICAgaW5jbHVkZWQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWUsXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nTW9kZWxzXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKHJlbGF0aW9uc2hpcE1vZGVsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1ttZXRhZGF0YS5wcm9wZXJ0eU5hbWVdID0gcmVsYXRpb25zaGlwTW9kZWw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IHsgbWVzc2FnZTogYHBhcnNlQmVsb25nc1RvIC0gTW9kZWwgdHlwZSBmb3IgcmVsYXRpb25zaGlwICR7dHlwZU5hbWV9IG5vdCBmb3VuZC5gIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRIYXNNYW55UmVsYXRpb25zaGlwPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIGRhdGE6IGFueSxcbiAgICBpbmNsdWRlZDogYW55LFxuICAgIHR5cGVOYW1lOiBzdHJpbmcsXG4gICAgcmVtYWluaW5nTW9kZWxzOiBBcnJheTxhbnk+XG4gICk6IEFycmF5PFQ+IHtcbiAgICBjb25zdCByZWxhdGlvbnNoaXBMaXN0OiBBcnJheTxUPiA9IFtdO1xuXG4gICAgZGF0YS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcERhdGE6IGFueSA9IGZpbmQoaW5jbHVkZWQsIHsgaWQ6IGl0ZW0uaWQsIHR5cGU6IHR5cGVOYW1lIH0gYXMgYW55KTtcblxuICAgICAgaWYgKHJlbGF0aW9uc2hpcERhdGEpIHtcbiAgICAgICAgY29uc3QgbmV3T2JqZWN0OiBUID0gdGhpcy5jcmVhdGVPclBlZWsobW9kZWxUeXBlLCByZWxhdGlvbnNoaXBEYXRhKTtcblxuICAgICAgICBjb25zdCBpbmRleE9mTmV3bHlGb3VuZE1vZGVsID0gcmVtYWluaW5nTW9kZWxzLmluZGV4T2YocmVsYXRpb25zaGlwRGF0YSk7XG4gICAgICAgIGNvbnN0IG1vZGVsc0ZvclByb2Nlc3NpbmcgPSByZW1haW5pbmdNb2RlbHMuY29uY2F0KFtdKTtcblxuICAgICAgICBpZiAoaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCAhPT0gLTEpIHtcbiAgICAgICAgICBtb2RlbHNGb3JQcm9jZXNzaW5nLnNwbGljZShpbmRleE9mTmV3bHlGb3VuZE1vZGVsLCAxKTtcbiAgICAgICAgICBuZXdPYmplY3Quc3luY1JlbGF0aW9uc2hpcHMocmVsYXRpb25zaGlwRGF0YSwgaW5jbHVkZWQsIG1vZGVsc0ZvclByb2Nlc3NpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVsYXRpb25zaGlwTGlzdC5wdXNoKG5ld09iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVsYXRpb25zaGlwTGlzdDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QmVsb25nc1RvUmVsYXRpb25zaGlwPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIGRhdGE6IGFueSxcbiAgICBpbmNsdWRlZDogQXJyYXk8YW55PixcbiAgICB0eXBlTmFtZTogc3RyaW5nLFxuICAgIHJlbWFpbmluZ01vZGVsczogQXJyYXk8YW55PlxuICApOiBUIHwgbnVsbCB7XG4gICAgY29uc3QgaWQ6IHN0cmluZyA9IGRhdGEuaWQ7XG5cbiAgICBjb25zdCByZWxhdGlvbnNoaXBEYXRhOiBhbnkgPSBmaW5kKGluY2x1ZGVkLCB7IGlkLCB0eXBlOiB0eXBlTmFtZSB9IGFzIGFueSk7XG5cbiAgICBpZiAocmVsYXRpb25zaGlwRGF0YSkge1xuICAgICAgY29uc3QgbmV3T2JqZWN0OiBUID0gdGhpcy5jcmVhdGVPclBlZWsobW9kZWxUeXBlLCByZWxhdGlvbnNoaXBEYXRhKTtcblxuICAgICAgY29uc3QgaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCA9IHJlbWFpbmluZ01vZGVscy5pbmRleE9mKHJlbGF0aW9uc2hpcERhdGEpO1xuICAgICAgY29uc3QgbW9kZWxzRm9yUHJvY2Vzc2luZyA9IHJlbWFpbmluZ01vZGVscy5jb25jYXQoW10pO1xuXG4gICAgICBpZiAoaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCAhPT0gLTEpIHtcbiAgICAgICAgbW9kZWxzRm9yUHJvY2Vzc2luZy5zcGxpY2UoaW5kZXhPZk5ld2x5Rm91bmRNb2RlbCwgMSk7XG4gICAgICAgIG5ld09iamVjdC5zeW5jUmVsYXRpb25zaGlwcyhyZWxhdGlvbnNoaXBEYXRhLCBpbmNsdWRlZCwgbW9kZWxzRm9yUHJvY2Vzc2luZyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdPYmplY3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxEYXRhc3RvcmUucGVla1JlY29yZChtb2RlbFR5cGUsIGlkKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlT3JQZWVrPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LCBkYXRhOiBhbnkpOiBUIHtcbiAgICBjb25zdCBwZWVrID0gdGhpcy5pbnRlcm5hbERhdGFzdG9yZS5wZWVrUmVjb3JkKG1vZGVsVHlwZSwgZGF0YS5pZCk7XG5cbiAgICBpZiAocGVlaykge1xuICAgICAgXy5leHRlbmQocGVlaywgdGhpcy5pbnRlcm5hbERhdGFzdG9yZS50cmFuc2Zvcm1TZXJpYWxpemVkTmFtZXNUb1Byb3BlcnR5TmFtZXMobW9kZWxUeXBlLCBkYXRhLmF0dHJpYnV0ZXMpKTtcbiAgICAgIHJldHVybiBwZWVrO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld09iamVjdDogVCA9IHRoaXMuaW50ZXJuYWxEYXRhc3RvcmUuZGVzZXJpYWxpemVNb2RlbChtb2RlbFR5cGUsIGRhdGEpO1xuICAgIHRoaXMuaW50ZXJuYWxEYXRhc3RvcmUuYWRkVG9TdG9yZShuZXdPYmplY3QpO1xuXG4gICAgcmV0dXJuIG5ld09iamVjdDtcbiAgfVxufVxuIl19","originalSourcemap":{"version":3,"file":"json-api.model.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/models/json-api.model.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[13,0,0,13],[15,0,0,15],[23,0,0,23],[25,0,0,25],[31,0,0,31],[39,0,0,39],[40,0,0,40]],[[0,0,4,0],[7,0,4,7],[12,0,4,12],[13,0,4,13],[19,0,4,19],[27,0,4,27],[28,0,4,28]],[[0,0,5,0],[7,0,5,7],[9,0,5,9],[26,0,5,26],[28,0,5,28],[34,0,5,34],[56,0,5,56],[57,0,5,57]],[[0,0,8,0]],[],[],[],[],[[3,0,13,3]],[[0,0,14,0],[41,0,14,41]],[[0,0,15,0],[6,0,15,6],[28,0,15,28],[31,0,15,39],[48,0,15,63],[49,0,15,64]],[[0,0,17,0],[6,0,17,6],[13,0,17,13],[25,0,17,25]],[[4,0,25,2],[16,0,25,22],[33,0,25,57],[35,0,25,59],[39,0,25,69]],[[8,0,25,22],[30,0,25,39],[33,0,25,22],[50,0,25,39],[51,0,25,57]],[[8,0,19,9],[32,0,19,28],[35,0,19,31],[40,0,19,36],[41,0,19,37]],[[8,0,26,4],[12,0,26,8],[16,0,26,12],[18,0,26,14]],[[12,0,27,6],[16,0,27,10],[17,0,27,11],[36,0,27,30],[39,0,27,33],[43,0,27,37],[44,0,27,38]],[[12,0,28,6],[16,0,28,10],[17,0,28,11],[19,0,28,13],[22,0,28,16],[26,0,28,20],[27,0,28,21],[29,0,28,23],[30,0,28,24]],[[12,0,29,6],[18,0,29,12],[19,0,29,13],[25,0,29,19],[26,0,29,20],[30,0,29,24],[32,0,29,26],[36,0,29,30],[37,0,29,31],[47,0,29,41],[48,0,29,42],[49,0,29,43]],[[12,0,30,6],[16,0,30,10],[17,0,30,11],[36,0,30,30],[39,0,30,33],[44,0,30,38],[45,0,30,39]],[[9,0,31,5]],[[4,0,32,2],[5,0,32,3]],[[4,0,34,9],[25,0,34,30]],[[8,0,35,4],[15,0,35,11],[19,0,35,15],[20,0,35,16],[39,0,35,35],[40,0,35,36]],[[4,0,36,2],[5,0,36,3]],[[4,0,38,9],[21,0,38,26],[22,0,38,27],[26,0,38,36],[28,0,38,38],[36,0,38,51],[38,0,38,53],[53,0,38,81]],[[8,0,39,4],[12,0,39,8],[16,0,39,12],[17,0,39,13],[31,0,39,27],[36,0,39,32],[44,0,39,40],[46,0,39,42]],[[12,0,40,6],[19,0,40,13]],[[9,0,41,5]],[[8,0,43,4],[12,0,43,8],[16,0,43,12],[18,0,43,14]],[[12,0,44,6],[16,0,44,10],[35,0,44,29],[38,0,44,32],[53,0,44,47],[54,0,44,48]],[[12,0,46,6],[16,0,46,10],[35,0,46,29],[40,0,46,34],[49,0,46,43],[51,0,46,45]],[[16,0,47,8],[35,0,47,27],[38,0,47,30],[40,0,47,32],[41,0,47,33],[47,0,47,39],[48,0,47,40],[56,0,47,48],[57,0,47,49],[58,0,47,50]],[[13,0,48,7]],[[12,0,50,6],[16,0,50,10],[17,0,50,11],[29,0,50,23],[30,0,50,24],[34,0,50,28],[36,0,50,30],[44,0,50,38],[46,0,50,40],[65,0,50,59],[66,0,50,60],[67,0,50,61]],[[12,0,51,6],[16,0,51,10],[17,0,51,11],[31,0,51,25],[32,0,51,26],[36,0,51,30],[38,0,51,32],[46,0,51,40],[48,0,51,42],[67,0,51,61],[68,0,51,62],[69,0,51,63]],[[9,0,52,5]],[[8,0,54,4],[12,0,54,8],[13,0,54,9],[27,0,54,23],[30,0,54,26],[38,0,54,34],[39,0,54,35]],[[4,0,55,2],[5,0,55,3]],[[4,0,57,9],[8,0,57,13],[9,0,57,14],[15,0,57,26],[17,0,57,28],[24,0,57,49],[26,0,57,51],[35,0,57,69]],[[8,0,58,4],[12,0,58,8],[13,0,58,9],[25,0,58,21],[27,0,58,23],[28,0,58,24]],[[8,0,59,4],[14,0,59,10],[32,0,59,28],[35,0,59,36],[39,0,59,40],[40,0,59,41],[62,0,59,63],[63,0,59,64],[64,0,59,65]],[[8,0,60,4],[15,0,60,11],[19,0,60,15],[20,0,60,16],[37,0,60,33],[38,0,60,34],[48,0,60,44],[49,0,60,45],[67,0,60,63],[69,0,60,65],[73,0,60,69],[75,0,60,71],[81,0,60,77],[83,0,60,79],[90,0,60,86],[92,0,60,88],[101,0,60,97],[102,0,60,98],[103,0,60,99]],[[4,0,61,2],[5,0,61,3]],[[4,0,63,2],[8,0,63,6],[26,0,63,24]],[[8,0,64,4],[12,0,64,8],[13,0,64,9],[25,0,64,21],[27,0,64,23],[28,0,64,24]],[[8,0,65,4],[14,0,65,10],[32,0,65,28],[35,0,65,36],[39,0,65,40],[40,0,65,41],[62,0,65,63],[63,0,65,64],[64,0,65,65]],[[8,0,66,4],[12,0,66,8],[30,0,66,26],[33,0,66,29],[38,0,66,34],[39,0,66,35]],[[8,0,67,4],[13,0,67,9],[19,0,67,15],[31,0,67,27],[35,0,67,31],[53,0,67,49],[55,0,67,51]],[[12,0,68,6],[16,0,68,10],[34,0,68,28],[35,0,68,29],[49,0,68,43],[50,0,68,44],[62,0,68,56],[63,0,68,57],[65,0,68,59]],[[16,0,69,8],[22,0,69,14],[30,0,69,22],[33,0,69,30],[51,0,69,48],[52,0,69,49],[64,0,69,61],[65,0,69,62],[66,0,69,63]],[[16,0,70,8],[20,0,70,12],[28,0,70,20],[29,0,70,21],[47,0,70,39],[49,0,70,41]],[[20,0,71,10],[38,0,71,28],[41,0,71,31],[45,0,71,35],[46,0,71,36]],[[20,0,72,10],[26,0,72,16]],[[17,0,73,9]],[[13,0,74,7]],[[9,0,75,5]],[[8,0,76,4],[15,0,76,11],[33,0,76,29],[34,0,76,30]],[[4,0,77,2],[5,0,77,3]],[[4,0,79,10],[16,0,79,22]],[[8,0,80,4],[14,0,80,10],[32,0,80,28],[35,0,80,36],[39,0,80,40],[40,0,80,41],[57,0,80,58],[58,0,80,59],[59,0,80,60]],[[8,0,81,4],[13,0,81,9],[19,0,81,15],[31,0,81,27],[35,0,81,31],[53,0,81,49],[55,0,81,51]],[[12,0,82,6],[16,0,82,10],[34,0,82,28],[35,0,82,29],[49,0,82,43],[50,0,82,44],[62,0,82,56],[63,0,82,57],[65,0,82,59]],[[16,0,83,8],[22,0,83,14],[30,0,83,22],[33,0,83,30],[51,0,83,48],[52,0,83,49],[64,0,83,61],[65,0,83,62],[66,0,83,63]],[[16,0,84,8],[20,0,84,12],[28,0,84,20],[29,0,84,21],[35,0,84,27],[37,0,84,29]],[[20,0,85,10],[24,0,85,14],[25,0,85,15],[42,0,85,32],[43,0,85,33],[44,0,85,34],[56,0,85,46],[57,0,85,47],[58,0,85,48],[76,0,85,66],[79,0,85,69],[80,0,85,70],[81,0,85,71],[82,0,85,72],[89,0,85,79],[90,0,86,12],[108,0,86,30],[109,0,86,31],[121,0,86,43],[122,0,86,44],[123,0,86,45],[131,0,86,53],[133,0,87,12],[151,0,87,30],[152,0,87,31],[164,0,87,43],[165,0,87,44],[166,0,87,45],[174,0,87,53],[175,0,88,11],[176,0,88,12]],[[20,0,89,10],[24,0,89,14],[25,0,89,15],[42,0,89,32],[43,0,89,33],[44,0,89,34],[56,0,89,46],[57,0,89,47],[58,0,89,48],[76,0,89,66],[79,0,89,69],[97,0,89,87],[98,0,89,88],[110,0,89,100],[111,0,89,101],[112,0,89,102],[121,0,89,111],[122,0,90,12],[129,0,90,19],[130,0,90,20],[141,0,90,31],[142,0,90,32],[155,0,90,45],[157,0,90,47],[161,0,90,51],[163,0,90,53],[175,0,90,65],[176,0,90,66],[178,0,91,12],[179,0,91,13],[180,0,91,14],[189,0,91,23],[190,0,91,24],[208,0,91,42],[209,0,91,43],[221,0,91,55],[222,0,91,56],[223,0,91,57],[231,0,91,65],[232,0,91,66],[234,0,92,12],[238,0,92,16],[239,0,93,11],[240,0,93,12]],[[17,0,94,9]],[[13,0,95,7]],[[9,0,96,5]],[[4,0,97,2],[5,0,97,3]],[[4,0,99,9],[22,0,99,27]],[[8,0,100,4],[14,0,100,10],[32,0,100,28],[35,0,100,36],[39,0,100,40],[40,0,100,41],[62,0,100,63],[63,0,100,64],[64,0,100,65]],[[8,0,101,4],[13,0,101,9],[19,0,101,15],[31,0,101,27],[35,0,101,31],[53,0,101,49],[55,0,101,51]],[[12,0,102,6],[16,0,102,10],[34,0,102,28],[35,0,102,29],[49,0,102,43],[50,0,102,44],[62,0,102,56],[63,0,102,57],[65,0,102,59]],[[16,0,103,8],[20,0,103,12],[38,0,103,30],[39,0,103,31],[51,0,103,43],[52,0,103,44],[53,0,103,45],[71,0,103,63],[73,0,103,65]],[[20,0,104,10],[24,0,104,14],[25,0,104,15],[37,0,104,27],[38,0,104,28],[41,0,104,31],[42,0,104,32],[43,0,104,33],[52,0,104,42],[53,0,104,43],[71,0,104,61],[72,0,104,62],[84,0,104,74],[85,0,104,75],[86,0,104,76],[94,0,104,84],[95,0,104,85],[96,0,104,86]],[[17,0,105,9]],[[13,0,106,7]],[[9,0,107,5]],[[4,0,108,2],[5,0,108,3]],[[4,0,110,2],[8,0,110,6],[19,0,110,17]],[[8,0,111,4],[15,0,111,11],[22,0,111,18],[23,0,111,19],[34,0,111,30],[35,0,111,31],[55,0,111,51],[57,0,111,53],[61,0,111,57],[62,0,111,58],[73,0,111,69],[74,0,111,70],[75,0,111,71]],[[4,0,112,2],[5,0,112,3]],[[4,0,114,10],[16,0,114,22],[17,0,114,23],[21,0,114,32],[23,0,114,34],[31,0,114,47],[33,0,114,49],[48,0,114,76]],[[8,0,115,4],[14,0,115,10],[21,0,115,17],[24,0,115,25],[31,0,115,32],[32,0,115,33],[43,0,115,44],[44,0,115,45],[53,0,115,54],[55,0,115,56],[59,0,115,60],[60,0,115,61],[61,0,115,62]],[[8,0,117,4],[12,0,117,8],[19,0,117,15],[21,0,117,17]],[[12,0,118,6],[17,0,118,11],[23,0,118,17],[31,0,118,25],[35,0,118,29],[42,0,118,36],[44,0,118,38]],[[16,0,119,8],[22,0,119,14],[34,0,119,26],[37,0,119,34],[41,0,119,38],[42,0,119,39],[55,0,119,52],[56,0,119,53],[57,0,119,54],[58,0,119,55],[62,0,119,59],[63,0,119,60],[76,0,119,73],[77,0,119,74],[85,0,119,82],[86,0,119,83],[98,0,119,95],[99,0,119,96],[100,0,119,97],[101,0,119,98],[102,0,119,99],[106,0,119,103],[107,0,119,104]],[[16,0,121,8],[20,0,121,12],[32,0,121,24],[36,0,121,28],[48,0,121,40],[49,0,121,41],[53,0,121,45],[57,0,121,49],[62,0,121,54],[63,0,121,55],[70,0,121,62],[71,0,121,63],[83,0,121,75],[84,0,121,76],[88,0,121,80],[89,0,121,81],[91,0,121,83]],[[20,0,122,10],[24,0,122,14],[33,0,122,23],[36,0,122,42],[38,0,122,44],[39,0,122,45]],[[20,0,123,10],[26,0,123,16],[43,0,123,33],[46,0,123,41],[48,0,123,43],[49,0,123,44]],[[20,0,125,10],[25,0,125,15],[31,0,125,21],[40,0,125,30],[44,0,125,34],[50,0,125,40],[51,0,125,41],[55,0,125,45],[56,0,125,46],[68,0,125,58],[69,0,125,59],[73,0,125,63],[74,0,125,64],[76,0,125,66]],[[24,0,126,12],[30,0,126,18],[38,0,126,26],[41,0,126,37],[53,0,126,49],[54,0,126,50],[58,0,126,54],[59,0,126,55],[68,0,126,64],[69,0,126,65],[70,0,126,66],[74,0,126,70],[75,0,126,71]],[[24,0,128,12],[28,0,128,16],[29,0,128,17],[37,0,128,25],[38,0,128,26],[55,0,128,43],[57,0,128,45],[65,0,128,53],[66,0,128,54],[68,0,128,56]],[[28,0,129,14],[45,0,129,31],[46,0,129,32],[50,0,129,36],[51,0,129,37],[59,0,129,45],[60,0,129,46],[61,0,129,47]],[[28,0,130,14],[71,0,130,57]],[[28,0,131,14],[34,0,131,20],[43,0,131,29],[46,0,131,49],[53,0,131,56],[54,0,131,57],[65,0,131,68],[66,0,131,69],[90,0,131,93],[92,0,131,95],[96,0,131,99],[97,0,131,100],[114,0,131,117],[115,0,131,118],[126,0,131,129],[127,0,131,130],[128,0,131,131],[134,0,131,137],[135,0,131,138],[143,0,131,146],[144,0,131,147],[145,0,131,148]],[[28,0,133,14],[32,0,133,18],[41,0,133,27],[43,0,133,29]],[[32,0,134,16],[38,0,134,22],[56,0,134,40],[59,0,134,59],[63,0,134,63],[64,0,134,64],[86,0,134,86],[87,0,135,18],[96,0,135,27],[98,0,136,18],[110,0,136,30],[111,0,136,31],[115,0,136,35],[117,0,137,18],[125,0,137,26],[127,0,138,18],[135,0,138,26],[137,0,139,18],[152,0,139,33],[153,0,140,17],[154,0,140,18]],[[32,0,142,16],[36,0,142,20],[54,0,142,38],[55,0,142,39],[61,0,142,45],[64,0,142,48],[65,0,142,49],[67,0,142,51]],[[36,0,143,18],[45,0,143,27],[48,0,143,30],[57,0,143,39],[58,0,143,40],[64,0,143,46],[65,0,143,47],[83,0,143,65],[84,0,143,66],[85,0,143,67]],[[33,0,144,17]],[[29,0,145,15]],[[33,0,145,21]],[[32,0,146,16],[38,0,146,22],[40,0,146,24],[47,0,146,31],[49,0,146,33],[95,0,146,79],[103,0,146,87],[116,0,146,100],[118,0,146,102],[119,0,146,103]],[[29,0,147,15]],[[25,0,148,13]],[[21,0,149,11]],[[20,0,151,10],[24,0,151,14],[25,0,151,15],[33,0,151,23],[34,0,151,24],[46,0,151,36],[47,0,151,37],[50,0,151,40],[59,0,151,49],[60,0,151,50]],[[17,0,152,9]],[[13,0,153,7]],[[9,0,154,5]],[[4,0,155,2],[5,0,155,3]],[[4,0,157,10],[18,0,157,24],[19,0,157,25],[23,0,157,34],[25,0,157,36],[33,0,157,56],[35,0,157,58],[50,0,157,85]],[[8,0,158,4],[14,0,158,10],[23,0,158,19],[26,0,158,27],[33,0,158,34],[34,0,158,35],[45,0,158,46],[46,0,158,47],[57,0,158,58],[59,0,158,60],[63,0,158,64],[64,0,158,65],[65,0,158,66]],[[8,0,160,4],[12,0,160,8],[21,0,160,17],[23,0,160,19]],[[12,0,161,6],[17,0,161,11],[23,0,161,17],[31,0,161,25],[35,0,161,29],[44,0,161,38],[46,0,161,40]],[[16,0,162,8],[22,0,162,14],[34,0,162,26],[37,0,162,34],[41,0,162,38],[42,0,162,39],[55,0,162,52],[56,0,162,53],[57,0,162,54],[58,0,162,55],[62,0,162,59],[63,0,162,60],[76,0,162,73],[77,0,162,74],[85,0,162,82],[86,0,162,83],[98,0,162,95],[99,0,162,96],[100,0,162,97],[101,0,162,98],[102,0,162,99],[106,0,162,103],[107,0,162,104]],[[16,0,163,8],[20,0,163,12],[32,0,163,24],[36,0,163,28],[48,0,163,40],[49,0,163,41],[53,0,163,45],[55,0,163,47]],[[20,0,164,10],[26,0,164,16],[42,0,164,32],[45,0,164,40],[46,0,164,41],[58,0,164,53],[59,0,164,54],[63,0,164,58],[75,0,164,70],[80,0,164,75],[81,0,164,76],[82,0,164,77],[83,0,164,78],[84,0,164,79],[96,0,164,91],[97,0,164,92],[101,0,164,96],[102,0,164,97],[103,0,164,98],[104,0,164,99],[105,0,164,100],[106,0,164,101],[107,0,164,102],[119,0,164,114],[120,0,164,115],[124,0,164,119],[125,0,164,120]],[[20,0,165,10],[24,0,165,14],[40,0,165,30],[42,0,165,32]],[[24,0,166,12],[30,0,166,18],[38,0,166,26],[41,0,166,37],[57,0,166,53],[58,0,166,54],[62,0,166,58],[63,0,166,59]],[[24,0,167,12],[67,0,167,55]],[[24,0,168,12],[30,0,168,18],[39,0,168,27],[42,0,168,47],[49,0,168,54],[50,0,168,55],[61,0,168,66],[62,0,168,67],[86,0,168,91],[88,0,168,93],[92,0,168,97],[93,0,168,98],[110,0,168,115],[111,0,168,116],[122,0,168,127],[123,0,168,128],[124,0,168,129],[130,0,168,135],[131,0,168,136],[139,0,168,144],[140,0,168,145],[141,0,168,146]],[[24,0,170,12],[28,0,170,16],[37,0,170,25],[39,0,170,27]],[[28,0,171,14],[34,0,171,20],[51,0,171,37],[54,0,171,40],[58,0,171,44],[59,0,171,45],[83,0,171,69],[84,0,172,16],[93,0,172,25],[95,0,173,16],[111,0,173,32],[113,0,174,16],[121,0,174,24],[123,0,175,16],[131,0,175,24],[133,0,176,16],[148,0,176,31],[149,0,177,15],[150,0,177,16]],[[28,0,179,14],[32,0,179,18],[49,0,179,35],[51,0,179,37]],[[32,0,180,16],[36,0,180,20],[37,0,180,21],[45,0,180,29],[46,0,180,30],[58,0,180,42],[59,0,180,43],[62,0,180,46],[79,0,180,63],[80,0,180,64]],[[29,0,181,15]],[[25,0,182,13]],[[29,0,182,19]],[[28,0,183,14],[34,0,183,20],[36,0,183,22],[43,0,183,29],[45,0,183,31],[93,0,183,79],[101,0,183,87],[114,0,183,100],[116,0,183,102],[117,0,183,103]],[[25,0,184,13]],[[21,0,185,11]],[[17,0,186,9]],[[13,0,187,7]],[[9,0,188,5]],[[4,0,189,2],[5,0,189,3]],[[4,0,191,10],[26,0,191,32],[27,0,192,4],[36,0,192,27],[38,0,193,4],[42,0,193,13],[44,0,194,4],[52,0,194,17],[54,0,195,4],[62,0,195,20],[64,0,196,4],[79,0,196,31]],[[8,0,198,4],[14,0,198,10],[30,0,198,26],[33,0,198,39],[35,0,198,41],[36,0,198,42]],[[8,0,200,4],[12,0,200,8],[13,0,200,9],[20,0,200,16],[21,0,200,17],[22,0,200,18],[26,0,200,27],[28,0,200,29],[30,0,200,31]],[[12,0,201,6],[18,0,201,12],[34,0,201,28],[37,0,201,36],[41,0,201,40],[42,0,201,41],[50,0,201,49],[52,0,201,51],[54,0,201,53],[56,0,201,55],[58,0,201,57],[62,0,201,61],[63,0,201,62],[65,0,201,64],[67,0,201,66],[71,0,201,70],[73,0,201,72],[81,0,201,80],[83,0,201,89],[84,0,201,90],[85,0,201,91]],[[12,0,203,6],[16,0,203,10],[32,0,203,26],[34,0,203,28]],[[16,0,204,8],[22,0,204,14],[31,0,204,23],[34,0,204,29],[38,0,204,33],[39,0,204,34],[51,0,204,46],[52,0,204,47],[61,0,204,56],[63,0,204,58],[79,0,204,74],[80,0,204,75],[81,0,204,76]],[[16,0,206,8],[22,0,206,14],[44,0,206,36],[47,0,206,39],[62,0,206,54],[63,0,206,55],[70,0,206,62],[71,0,206,63],[87,0,206,79],[88,0,206,80],[89,0,206,81]],[[16,0,207,8],[22,0,207,14],[41,0,207,33],[44,0,207,36],[59,0,207,51],[60,0,207,52],[66,0,207,58],[67,0,207,59],[69,0,207,61],[70,0,207,62],[71,0,207,63]],[[16,0,209,8],[20,0,209,12],[42,0,209,34],[47,0,209,39],[48,0,209,40],[49,0,209,41],[51,0,209,43]],[[20,0,210,10],[39,0,210,29],[40,0,210,30],[46,0,210,36],[47,0,210,37],[69,0,210,59],[71,0,210,61],[72,0,210,62],[73,0,210,63],[74,0,210,64]],[[20,0,211,10],[29,0,211,19],[30,0,211,20],[47,0,211,37],[48,0,211,38],[64,0,211,54],[66,0,211,56],[74,0,211,64],[76,0,211,66],[95,0,211,85],[96,0,211,86],[97,0,211,87]],[[17,0,212,9]],[[16,0,214,8],[32,0,214,24],[33,0,214,25],[37,0,214,29],[38,0,214,30],[47,0,214,39],[48,0,214,40],[49,0,214,41]],[[13,0,215,7]],[[8,0,216,4],[9,0,216,5],[10,0,216,6],[11,0,216,7]],[[8,0,218,4],[15,0,218,11],[31,0,218,27],[32,0,218,28]],[[4,0,219,2],[5,0,219,3]],[[4,0,221,10],[28,0,221,34],[29,0,222,4],[38,0,222,27],[40,0,223,4],[44,0,223,13],[46,0,224,4],[54,0,224,24],[56,0,225,4],[64,0,225,20],[66,0,226,4],[81,0,226,31]],[[8,0,228,4],[14,0,228,10],[16,0,228,12],[19,0,228,23],[23,0,228,27],[24,0,228,28],[26,0,228,30],[27,0,228,31]],[[8,0,230,4],[14,0,230,10],[30,0,230,26],[33,0,230,34],[37,0,230,38],[38,0,230,39],[46,0,230,47],[48,0,230,49],[50,0,230,51],[52,0,230,53],[54,0,230,55],[58,0,230,59],[60,0,230,61],[68,0,230,69],[70,0,230,78],[71,0,230,79],[72,0,230,80]],[[8,0,232,4],[12,0,232,8],[28,0,232,24],[30,0,232,26]],[[12,0,233,6],[18,0,233,12],[27,0,233,21],[30,0,233,27],[34,0,233,31],[35,0,233,32],[47,0,233,44],[48,0,233,45],[57,0,233,54],[59,0,233,56],[75,0,233,72],[76,0,233,73],[77,0,233,74]],[[12,0,235,6],[18,0,235,12],[40,0,235,34],[43,0,235,37],[58,0,235,52],[59,0,235,53],[66,0,235,60],[67,0,235,61],[83,0,235,77],[84,0,235,78],[85,0,235,79]],[[12,0,236,6],[18,0,236,12],[37,0,236,31],[40,0,236,34],[55,0,236,49],[56,0,236,50],[62,0,236,56],[63,0,236,57],[65,0,236,59],[66,0,236,60],[67,0,236,61]],[[12,0,238,6],[16,0,238,10],[38,0,238,32],[43,0,238,37],[44,0,238,38],[45,0,238,39],[47,0,238,41]],[[16,0,239,8],[35,0,239,27],[36,0,239,28],[42,0,239,34],[43,0,239,35],[65,0,239,57],[67,0,239,59],[68,0,239,60],[69,0,239,61],[70,0,239,62]],[[16,0,240,8],[25,0,240,17],[26,0,240,18],[43,0,240,35],[44,0,240,36],[60,0,240,52],[62,0,240,54],[70,0,240,62],[72,0,240,64],[91,0,240,83],[92,0,240,84],[93,0,240,85]],[[13,0,241,7]],[[12,0,243,6],[19,0,243,13],[28,0,243,22],[29,0,243,23]],[[9,0,244,5]],[[8,0,246,4],[15,0,246,11],[19,0,246,15],[20,0,246,16],[37,0,246,33],[38,0,246,34],[48,0,246,44],[49,0,246,45],[58,0,246,54],[60,0,246,56],[62,0,246,58],[63,0,246,59],[64,0,246,60]],[[4,0,247,2],[5,0,247,3]],[[4,0,249,10],[16,0,249,22],[17,0,249,47],[26,0,249,70],[28,0,249,72],[32,0,249,81]],[[8,0,250,4],[14,0,250,10],[18,0,250,14],[21,0,250,17],[25,0,250,21],[26,0,250,22],[43,0,250,39],[44,0,250,40],[54,0,250,50],[55,0,250,51],[64,0,250,60],[66,0,250,62],[70,0,250,66],[71,0,250,67],[73,0,250,69],[74,0,250,70],[75,0,250,71]],[[8,0,252,4],[12,0,252,8],[16,0,252,12],[18,0,252,14]],[[12,0,253,6],[13,0,253,7],[14,0,253,8],[20,0,253,14],[21,0,253,15],[25,0,253,19],[27,0,253,21],[31,0,253,25],[32,0,253,26],[49,0,253,43],[50,0,253,44],[89,0,253,83],[90,0,253,84],[99,0,253,93],[101,0,253,95],[105,0,253,99],[106,0,253,100],[116,0,253,110],[117,0,253,111],[118,0,253,112],[119,0,253,113]],[[12,0,254,6],[19,0,254,13],[23,0,254,17],[24,0,254,18]],[[9,0,255,5]],[[8,0,257,4],[14,0,257,10],[23,0,257,19],[26,0,257,25],[30,0,257,29],[31,0,257,30],[48,0,257,47],[49,0,257,48],[65,0,257,64],[66,0,257,65],[75,0,257,74],[77,0,257,76],[81,0,257,80],[82,0,257,81],[83,0,257,82]],[[8,0,258,4],[12,0,258,8],[13,0,258,9],[30,0,258,26],[31,0,258,27],[41,0,258,37],[42,0,258,38],[51,0,258,47],[52,0,258,48],[53,0,258,49]],[[8,0,260,4],[15,0,260,11],[24,0,260,20],[25,0,260,21]],[[4,0,261,2],[5,0,261,3]],[[1,0,262,1]]],"sourcesContent":["import { find, includes } from 'lodash';\nimport { Observable } from 'rxjs';\nimport { JsonApiDatastore, ModelType } from '../services/json-api-datastore.service';\nimport { ModelConfig } from '../interfaces/model-config.interface';\nimport * as _ from 'lodash';\nimport { AttributeMetadata } from '../constants/symbols';\nimport { HttpHeaders } from '@angular/common/http';\n\n/**\n * HACK/FIXME:\n * Type 'symbol' cannot be used as an index type.\n * TypeScript 2.9.x\n * See https://github.com/Microsoft/TypeScript/issues/24587.\n */\n// tslint:disable-next-line:variable-name\nconst AttributeMetadataIndex: string = AttributeMetadata as any;\n\nexport class JsonApiModel {\n  id: string;\n  public modelInitialization = false;\n\n  [key: string]: any;\n\n  lastSyncModels: Array<any>;\n\n  constructor(private internalDatastore: JsonApiDatastore, data?: any) {\n    if (data) {\n      this.modelInitialization = true;\n      this.id = data.id;\n      Object.assign(this, data.attributes);\n      this.modelInitialization = false;\n    }\n  }\n\n  public isModelInitialization(): boolean {\n    return this.modelInitialization;\n  }\n\n  public syncRelationships(data: any, included: any, remainingModels?: Array<any>): void {\n    if (this.lastSyncModels === included) {\n      return;\n    }\n\n    if (data) {\n      let modelsForProcessing = remainingModels;\n\n      if (modelsForProcessing === undefined) {\n        modelsForProcessing = [].concat(included);\n      }\n\n      this.parseHasMany(data, included, modelsForProcessing);\n      this.parseBelongsTo(data, included, modelsForProcessing);\n    }\n\n    this.lastSyncModels = included;\n  }\n\n  public save(params?: any, headers?: HttpHeaders, customUrl?: string): Observable<this> {\n    this.checkChanges();\n    const attributesMetadata: any = this[AttributeMetadataIndex];\n    return this.internalDatastore.saveRecord(attributesMetadata, this, params, headers, customUrl);\n  }\n\n  get hasDirtyAttributes() {\n    this.checkChanges();\n    const attributesMetadata: any = this[AttributeMetadataIndex];\n    let hasDirtyAttributes = false;\n    for (const propertyName in attributesMetadata) {\n      if (attributesMetadata.hasOwnProperty(propertyName)) {\n        const metadata: any = attributesMetadata[propertyName];\n        if (metadata.hasDirtyAttributes) {\n          hasDirtyAttributes = true;\n          break;\n        }\n      }\n    }\n    return hasDirtyAttributes;\n  }\n\n  private checkChanges() {\n    const attributesMetadata: any = this[AttributeMetadata];\n    for (const propertyName in attributesMetadata) {\n      if (attributesMetadata.hasOwnProperty(propertyName)) {\n        const metadata: any = attributesMetadata[propertyName];\n        if (metadata.nested) {\n          this[AttributeMetadata][propertyName].hasDirtyAttributes = !_.isEqual(\n            attributesMetadata[propertyName].oldValue,\n            attributesMetadata[propertyName].newValue\n          );\n          this[AttributeMetadata][propertyName].serialisationValue = attributesMetadata[propertyName].converter(\n            Reflect.getMetadata('design:type', this, propertyName),\n            _.cloneDeep(attributesMetadata[propertyName].newValue),\n            true\n          );\n        }\n      }\n    }\n  }\n\n  public rollbackAttributes(): void {\n    const attributesMetadata: any = this[AttributeMetadataIndex];\n    for (const propertyName in attributesMetadata) {\n      if (attributesMetadata.hasOwnProperty(propertyName)) {\n        if (attributesMetadata[propertyName].hasDirtyAttributes) {\n          this[propertyName] = _.cloneDeep(attributesMetadata[propertyName].oldValue);\n        }\n      }\n    }\n  }\n\n  get modelConfig(): ModelConfig {\n    return Reflect.getMetadata('JsonApiModelConfig', this.constructor);\n  }\n\n  private parseHasMany(data: any, included: any, remainingModels: Array<any>): void {\n    const hasMany: any = Reflect.getMetadata('HasMany', this);\n\n    if (hasMany) {\n      for (const metadata of hasMany) {\n        const relationship: any = data.relationships ? data.relationships[metadata.relationship] : null;\n\n        if (relationship && relationship.data && Array.isArray(relationship.data)) {\n          let allModels: JsonApiModel[] = [];\n          const modelTypesFetched: any = [];\n\n          for (const typeIndex of Object.keys(relationship.data)) {\n            const typeName: string = relationship.data[typeIndex].type;\n\n            if (!includes(modelTypesFetched, typeName)) {\n              modelTypesFetched.push(typeName);\n              // tslint:disable-next-line:max-line-length\n              const modelType: ModelType<this> = Reflect.getMetadata('JsonApiDatastoreConfig', this.internalDatastore.constructor).models[typeName];\n\n              if (modelType) {\n                const relationshipModels: JsonApiModel[] = this.getHasManyRelationship(\n                  modelType,\n                  relationship.data,\n                  included,\n                  typeName,\n                  remainingModels\n                );\n\n                if (relationshipModels.length > 0) {\n                  allModels = allModels.concat(relationshipModels);\n                }\n              } else {\n                throw { message: `parseHasMany - Model type for relationship ${typeName} not found.` };\n              }\n            }\n          }\n\n          this[metadata.propertyName] = allModels;\n        }\n      }\n    }\n  }\n\n  private parseBelongsTo(data: any, included: Array<any>, remainingModels: Array<any>): void {\n    const belongsTo: any = Reflect.getMetadata('BelongsTo', this);\n\n    if (belongsTo) {\n      for (const metadata of belongsTo) {\n        const relationship: any = data.relationships ? data.relationships[metadata.relationship] : null;\n        if (relationship && relationship.data) {\n          const dataRelationship: any = (relationship.data instanceof Array) ? relationship.data[0] : relationship.data;\n          if (dataRelationship) {\n            const typeName: string = dataRelationship.type;\n            // tslint:disable-next-line:max-line-length\n            const modelType: ModelType<this> = Reflect.getMetadata('JsonApiDatastoreConfig', this.internalDatastore.constructor).models[typeName];\n\n            if (modelType) {\n              const relationshipModel = this.getBelongsToRelationship(\n                modelType,\n                dataRelationship,\n                included,\n                typeName,\n                remainingModels\n              );\n\n              if (relationshipModel) {\n                this[metadata.propertyName] = relationshipModel;\n              }\n            } else {\n              throw { message: `parseBelongsTo - Model type for relationship ${typeName} not found.` };\n            }\n          }\n        }\n      }\n    }\n  }\n\n  private getHasManyRelationship<T extends JsonApiModel>(\n    modelType: ModelType<T>,\n    data: any,\n    included: any,\n    typeName: string,\n    remainingModels: Array<any>\n  ): Array<T> {\n    const relationshipList: Array<T> = [];\n\n    data.forEach((item: any) => {\n      const relationshipData: any = find(included, { id: item.id, type: typeName } as any);\n\n      if (relationshipData) {\n        const newObject: T = this.createOrPeek(modelType, relationshipData);\n\n        const indexOfNewlyFoundModel = remainingModels.indexOf(relationshipData);\n        const modelsForProcessing = remainingModels.concat([]);\n\n        if (indexOfNewlyFoundModel !== -1) {\n          modelsForProcessing.splice(indexOfNewlyFoundModel, 1);\n          newObject.syncRelationships(relationshipData, included, modelsForProcessing);\n        }\n\n        relationshipList.push(newObject);\n      }\n    });\n\n    return relationshipList;\n  }\n\n  private getBelongsToRelationship<T extends JsonApiModel>(\n    modelType: ModelType<T>,\n    data: any,\n    included: Array<any>,\n    typeName: string,\n    remainingModels: Array<any>\n  ): T | null {\n    const id: string = data.id;\n\n    const relationshipData: any = find(included, { id, type: typeName } as any);\n\n    if (relationshipData) {\n      const newObject: T = this.createOrPeek(modelType, relationshipData);\n\n      const indexOfNewlyFoundModel = remainingModels.indexOf(relationshipData);\n      const modelsForProcessing = remainingModels.concat([]);\n\n      if (indexOfNewlyFoundModel !== -1) {\n        modelsForProcessing.splice(indexOfNewlyFoundModel, 1);\n        newObject.syncRelationships(relationshipData, included, modelsForProcessing);\n      }\n\n      return newObject;\n    }\n\n    return this.internalDatastore.peekRecord(modelType, id);\n  }\n\n  private createOrPeek<T extends JsonApiModel>(modelType: ModelType<T>, data: any): T {\n    const peek = this.internalDatastore.peekRecord(modelType, data.id);\n\n    if (peek) {\n      _.extend(peek, this.internalDatastore.transformSerializedNamesToPropertyNames(modelType, data.attributes));\n      return peek;\n    }\n\n    const newObject: T = this.internalDatastore.deserializeModel(modelType, data);\n    this.internalDatastore.addToStore(newObject);\n\n    return newObject;\n  }\n}\n"]},"resolvedIds":{"lodash":{"external":true,"id":"lodash","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../constants/symbols":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/constants/symbols.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1197,"body":[{"type":"ExportNamedDeclaration","start":0,"end":154,"declaration":{"type":"ClassDeclaration","start":7,"end":154,"id":{"type":"Identifier","start":13,"end":26,"name":"ErrorResponse"},"superClass":null,"body":{"type":"ClassBody","start":27,"end":154,"body":[{"type":"MethodDefinition","start":33,"end":152,"static":false,"computed":false,"key":{"type":"Identifier","start":33,"end":44,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":44,"end":152,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":45,"end":51,"name":"errors"}],"body":{"type":"BlockStatement","start":53,"end":152,"body":[{"type":"ExpressionStatement","start":63,"end":80,"expression":{"type":"AssignmentExpression","start":63,"end":79,"operator":"=","left":{"type":"MemberExpression","start":63,"end":74,"object":{"type":"ThisExpression","start":63,"end":67},"property":{"type":"Identifier","start":68,"end":74,"name":"errors"},"computed":false,"optional":false},"right":{"type":"ArrayExpression","start":77,"end":79,"elements":[]}}},{"type":"IfStatement","start":89,"end":146,"test":{"type":"Identifier","start":93,"end":99,"name":"errors"},"consequent":{"type":"BlockStatement","start":101,"end":146,"body":[{"type":"ExpressionStatement","start":115,"end":136,"expression":{"type":"AssignmentExpression","start":115,"end":135,"operator":"=","left":{"type":"MemberExpression","start":115,"end":126,"object":{"type":"ThisExpression","start":115,"end":119},"property":{"type":"Identifier","start":120,"end":126,"name":"errors"},"computed":false,"optional":false},"right":{"type":"Identifier","start":129,"end":135,"name":"errors"}}}]},"alternate":null}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItcmVzcG9uc2UubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9tb2RlbHMvZXJyb3ItcmVzcG9uc2UubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBY0EsTUFBTSxPQUFPLGFBQWE7SUFHeEIsWUFBWSxNQUF3QjtRQUZwQyxXQUFNLEdBQW9CLEVBQUUsQ0FBQztRQUczQixJQUFJLE1BQU0sRUFBRTtZQUNWLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1NBQ3RCO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBKc29uQXBpRXJyb3Ige1xuICBpZD86IHN0cmluZztcbiAgbGlua3M/OiBBcnJheTxhbnk+O1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIGNvZGU/OiBzdHJpbmc7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBkZXRhaWw/OiBzdHJpbmc7XG4gIHNvdXJjZT86IHtcbiAgICBwb2ludGVyPzogc3RyaW5nO1xuICAgIHBhcmFtZXRlcj86IHN0cmluZ1xuICB9O1xuICBtZXRhPzogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgRXJyb3JSZXNwb25zZSB7XG4gIGVycm9ycz86IEpzb25BcGlFcnJvcltdID0gW107XG5cbiAgY29uc3RydWN0b3IoZXJyb3JzID86IEpzb25BcGlFcnJvcltdKSB7XG4gICAgaWYgKGVycm9ycykge1xuICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfVxuICB9XG59XG4iXX0=","start":155,"end":1197}]},"code":"export class ErrorResponse {\n    constructor(errors) {\n        this.errors = [];\n        if (errors) {\n            this.errors = errors;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItcmVzcG9uc2UubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9tb2RlbHMvZXJyb3ItcmVzcG9uc2UubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBY0EsTUFBTSxPQUFPLGFBQWE7SUFHeEIsWUFBWSxNQUF3QjtRQUZwQyxXQUFNLEdBQW9CLEVBQUUsQ0FBQztRQUczQixJQUFJLE1BQU0sRUFBRTtZQUNWLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1NBQ3RCO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBKc29uQXBpRXJyb3Ige1xuICBpZD86IHN0cmluZztcbiAgbGlua3M/OiBBcnJheTxhbnk+O1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIGNvZGU/OiBzdHJpbmc7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBkZXRhaWw/OiBzdHJpbmc7XG4gIHNvdXJjZT86IHtcbiAgICBwb2ludGVyPzogc3RyaW5nO1xuICAgIHBhcmFtZXRlcj86IHN0cmluZ1xuICB9O1xuICBtZXRhPzogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgRXJyb3JSZXNwb25zZSB7XG4gIGVycm9ycz86IEpzb25BcGlFcnJvcltdID0gW107XG5cbiAgY29uc3RydWN0b3IoZXJyb3JzID86IEpzb25BcGlFcnJvcltdKSB7XG4gICAgaWYgKGVycm9ycykge1xuICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfVxuICB9XG59XG4iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/error-response.model.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export class ErrorResponse {\n    constructor(errors) {\n        this.errors = [];\n        if (errors) {\n            this.errors = errors;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItcmVzcG9uc2UubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9tb2RlbHMvZXJyb3ItcmVzcG9uc2UubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBY0EsTUFBTSxPQUFPLGFBQWE7SUFHeEIsWUFBWSxNQUF3QjtRQUZwQyxXQUFNLEdBQW9CLEVBQUUsQ0FBQztRQUczQixJQUFJLE1BQU0sRUFBRTtZQUNWLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1NBQ3RCO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBKc29uQXBpRXJyb3Ige1xuICBpZD86IHN0cmluZztcbiAgbGlua3M/OiBBcnJheTxhbnk+O1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIGNvZGU/OiBzdHJpbmc7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBkZXRhaWw/OiBzdHJpbmc7XG4gIHNvdXJjZT86IHtcbiAgICBwb2ludGVyPzogc3RyaW5nO1xuICAgIHBhcmFtZXRlcj86IHN0cmluZ1xuICB9O1xuICBtZXRhPzogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgRXJyb3JSZXNwb25zZSB7XG4gIGVycm9ycz86IEpzb25BcGlFcnJvcltdID0gW107XG5cbiAgY29uc3RydWN0b3IoZXJyb3JzID86IEpzb25BcGlFcnJvcltdKSB7XG4gICAgaWYgKGVycm9ycykge1xuICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfVxuICB9XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"error-response.model.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/models/error-response.model.ts"],"names":[],"mappings":[[[0,0,14,0],[6,0,14,6],[13,0,14,13],[26,0,14,26]],[[4,0,17,2],[16,0,17,14],[22,0,17,38]],[[8,0,15,2],[19,0,15,8],[22,0,15,28],[24,0,15,30],[25,0,15,31]],[[8,0,18,4],[12,0,18,8],[18,0,18,14],[20,0,18,16]],[[12,0,19,6],[16,0,19,10],[17,0,19,11],[23,0,19,17],[26,0,19,20],[32,0,19,26],[33,0,19,27]],[[9,0,20,5]],[[4,0,21,2],[5,0,21,3]],[[1,0,22,1]]],"sourcesContent":["export interface JsonApiError {\n  id?: string;\n  links?: Array<any>;\n  status?: string;\n  code?: string;\n  title?: string;\n  detail?: string;\n  source?: {\n    pointer?: string;\n    parameter?: string\n  };\n  meta?: any;\n}\n\nexport class ErrorResponse {\n  errors?: JsonApiError[] = [];\n\n  constructor(errors ?: JsonApiError[]) {\n    if (errors) {\n      this.errors = errors;\n    }\n  }\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1210,"body":[{"type":"ExportNamedDeclaration","start":0,"end":271,"declaration":{"type":"ClassDeclaration","start":7,"end":271,"id":{"type":"Identifier","start":13,"end":29,"name":"JsonApiQueryData"},"superClass":null,"body":{"type":"ClassBody","start":30,"end":271,"body":[{"type":"MethodDefinition","start":36,"end":158,"static":false,"computed":false,"key":{"type":"Identifier","start":36,"end":47,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":47,"end":158,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":48,"end":61,"name":"jsonApiModels"},{"type":"Identifier","start":63,"end":71,"name":"metaData"}],"body":{"type":"BlockStatement","start":73,"end":158,"body":[{"type":"ExpressionStatement","start":83,"end":118,"expression":{"type":"AssignmentExpression","start":83,"end":117,"operator":"=","left":{"type":"MemberExpression","start":83,"end":101,"object":{"type":"ThisExpression","start":83,"end":87},"property":{"type":"Identifier","start":88,"end":101,"name":"jsonApiModels"},"computed":false,"optional":false},"right":{"type":"Identifier","start":104,"end":117,"name":"jsonApiModels"}}},{"type":"ExpressionStatement","start":127,"end":152,"expression":{"type":"AssignmentExpression","start":127,"end":151,"operator":"=","left":{"type":"MemberExpression","start":127,"end":140,"object":{"type":"ThisExpression","start":127,"end":131},"property":{"type":"Identifier","start":132,"end":140,"name":"metaData"},"computed":false,"optional":false},"right":{"type":"Identifier","start":143,"end":151,"name":"metaData"}}}]}}},{"type":"MethodDefinition","start":163,"end":217,"static":false,"computed":false,"key":{"type":"Identifier","start":163,"end":172,"name":"getModels"},"kind":"method","value":{"type":"FunctionExpression","start":172,"end":217,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":175,"end":217,"body":[{"type":"ReturnStatement","start":185,"end":211,"argument":{"type":"MemberExpression","start":192,"end":210,"object":{"type":"ThisExpression","start":192,"end":196},"property":{"type":"Identifier","start":197,"end":210,"name":"jsonApiModels"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":222,"end":269,"static":false,"computed":false,"key":{"type":"Identifier","start":222,"end":229,"name":"getMeta"},"kind":"method","value":{"type":"FunctionExpression","start":229,"end":269,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":232,"end":269,"body":[{"type":"ReturnStatement","start":242,"end":263,"argument":{"type":"MemberExpression","start":249,"end":262,"object":{"type":"ThisExpression","start":249,"end":253},"property":{"type":"Identifier","start":254,"end":262,"name":"metaData"},"computed":false,"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktcXVlcnktZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL21vZGVscy9qc29uLWFwaS1xdWVyeS1kYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxnQkFBZ0I7SUFDM0IsWUFBc0IsYUFBdUIsRUFBWSxRQUFjO1FBQWpELGtCQUFhLEdBQWIsYUFBYSxDQUFVO1FBQVksYUFBUSxHQUFSLFFBQVEsQ0FBTTtJQUN2RSxDQUFDO0lBRU0sU0FBUztRQUNkLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM1QixDQUFDO0lBRU0sT0FBTztRQUNaLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN2QixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgSnNvbkFwaVF1ZXJ5RGF0YTxUPiB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBqc29uQXBpTW9kZWxzOiBBcnJheTxUPiwgcHJvdGVjdGVkIG1ldGFEYXRhPzogYW55KSB7XG4gIH1cblxuICBwdWJsaWMgZ2V0TW9kZWxzKCk6IFRbXSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbkFwaU1vZGVscztcbiAgfVxuXG4gIHB1YmxpYyBnZXRNZXRhKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMubWV0YURhdGE7XG4gIH1cbn1cbiJdfQ==","start":272,"end":1210}]},"code":"export class JsonApiQueryData {\n    constructor(jsonApiModels, metaData) {\n        this.jsonApiModels = jsonApiModels;\n        this.metaData = metaData;\n    }\n    getModels() {\n        return this.jsonApiModels;\n    }\n    getMeta() {\n        return this.metaData;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktcXVlcnktZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL21vZGVscy9qc29uLWFwaS1xdWVyeS1kYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxnQkFBZ0I7SUFDM0IsWUFBc0IsYUFBdUIsRUFBWSxRQUFjO1FBQWpELGtCQUFhLEdBQWIsYUFBYSxDQUFVO1FBQVksYUFBUSxHQUFSLFFBQVEsQ0FBTTtJQUN2RSxDQUFDO0lBRU0sU0FBUztRQUNkLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM1QixDQUFDO0lBRU0sT0FBTztRQUNaLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN2QixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgSnNvbkFwaVF1ZXJ5RGF0YTxUPiB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBqc29uQXBpTW9kZWxzOiBBcnJheTxUPiwgcHJvdGVjdGVkIG1ldGFEYXRhPzogYW55KSB7XG4gIH1cblxuICBwdWJsaWMgZ2V0TW9kZWxzKCk6IFRbXSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbkFwaU1vZGVscztcbiAgfVxuXG4gIHB1YmxpYyBnZXRNZXRhKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMubWV0YURhdGE7XG4gIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-query-data.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export class JsonApiQueryData {\n    constructor(jsonApiModels, metaData) {\n        this.jsonApiModels = jsonApiModels;\n        this.metaData = metaData;\n    }\n    getModels() {\n        return this.jsonApiModels;\n    }\n    getMeta() {\n        return this.metaData;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktcXVlcnktZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL21vZGVscy9qc29uLWFwaS1xdWVyeS1kYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxnQkFBZ0I7SUFDM0IsWUFBc0IsYUFBdUIsRUFBWSxRQUFjO1FBQWpELGtCQUFhLEdBQWIsYUFBYSxDQUFVO1FBQVksYUFBUSxHQUFSLFFBQVEsQ0FBTTtJQUN2RSxDQUFDO0lBRU0sU0FBUztRQUNkLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM1QixDQUFDO0lBRU0sT0FBTztRQUNaLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN2QixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgSnNvbkFwaVF1ZXJ5RGF0YTxUPiB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBqc29uQXBpTW9kZWxzOiBBcnJheTxUPiwgcHJvdGVjdGVkIG1ldGFEYXRhPzogYW55KSB7XG4gIH1cblxuICBwdWJsaWMgZ2V0TW9kZWxzKCk6IFRbXSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbkFwaU1vZGVscztcbiAgfVxuXG4gIHB1YmxpYyBnZXRNZXRhKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMubWV0YURhdGE7XG4gIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"json-api-query-data.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/models/json-api-query-data.ts"],"names":[],"mappings":[[[0,0,0,0],[6,0,0,6],[13,0,0,13],[29,0,0,29]],[[4,0,1,2],[16,0,1,24],[29,0,1,47],[31,0,1,59],[39,0,1,73]],[[8,0,1,24],[26,0,1,37],[29,0,1,24],[42,0,1,37],[43,0,1,47]],[[8,0,1,59],[21,0,1,67],[24,0,1,59],[32,0,1,67],[33,0,1,73]],[[4,0,2,2],[5,0,2,3]],[[4,0,4,9],[13,0,4,18]],[[8,0,5,4],[15,0,5,11],[19,0,5,15],[20,0,5,16],[33,0,5,29],[34,0,5,30]],[[4,0,6,2],[5,0,6,3]],[[4,0,8,9],[11,0,8,16]],[[8,0,9,4],[15,0,9,11],[19,0,9,15],[20,0,9,16],[28,0,9,24],[29,0,9,25]],[[4,0,10,2],[5,0,10,3]],[[1,0,11,1]]],"sourcesContent":["export class JsonApiQueryData<T> {\n  constructor(protected jsonApiModels: Array<T>, protected metaData?: any) {\n  }\n\n  public getModels(): T[] {\n    return this.jsonApiModels;\n  }\n\n  public getMeta(): any {\n    return this.metaData;\n  }\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":529,"body":[{"type":"ExportNamedDeclaration","start":0,"end":10,"declaration":null,"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcnJpZGVzLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvb3ZlcnJpZGVzLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBPdmVycmlkZXMge1xuICBnZXREaXJ0eUF0dHJpYnV0ZXM/OiAoYXR0cmlidXRlZE1ldGFkYXRhOiBhbnksIG1vZGVsID86IGFueSkgPT4gb2JqZWN0O1xuICB0b1F1ZXJ5U3RyaW5nPzogKHBhcmFtczogYW55KSA9PiBzdHJpbmc7XG59XG4iXX0=","start":11,"end":529}]},"code":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcnJpZGVzLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvb3ZlcnJpZGVzLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBPdmVycmlkZXMge1xuICBnZXREaXJ0eUF0dHJpYnV0ZXM/OiAoYXR0cmlidXRlZE1ldGFkYXRhOiBhbnksIG1vZGVsID86IGFueSkgPT4gb2JqZWN0O1xuICB0b1F1ZXJ5U3RyaW5nPzogKHBhcmFtczogYW55KSA9PiBzdHJpbmc7XG59XG4iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/overrides.interface.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcnJpZGVzLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvb3ZlcnJpZGVzLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBPdmVycmlkZXMge1xuICBnZXREaXJ0eUF0dHJpYnV0ZXM/OiAoYXR0cmlidXRlZE1ldGFkYXRhOiBhbnksIG1vZGVsID86IGFueSkgPT4gb2JqZWN0O1xuICB0b1F1ZXJ5U3RyaW5nPzogKHBhcmFtczogYW55KSA9PiBzdHJpbmc7XG59XG4iXX0=","originalSourcemap":{"mappings":[],"names":[],"sources":[],"version":3},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":501,"body":[{"type":"ExportNamedDeclaration","start":0,"end":10,"declaration":null,"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1tb2RlbC1jb252ZXJ0ZXItY29uZmlnLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvanNvbi1tb2RlbC1jb252ZXJ0ZXItY29uZmlnLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBKc29uTW9kZWxDb252ZXJ0ZXJDb25maWcge1xuICBudWxsVmFsdWU/OiBib29sZWFuO1xuICBoYXNNYW55PzogYm9vbGVhbjtcbn1cbiJdfQ==","start":11,"end":501}]},"code":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1tb2RlbC1jb252ZXJ0ZXItY29uZmlnLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvanNvbi1tb2RlbC1jb252ZXJ0ZXItY29uZmlnLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBKc29uTW9kZWxDb252ZXJ0ZXJDb25maWcge1xuICBudWxsVmFsdWU/OiBib29sZWFuO1xuICBoYXNNYW55PzogYm9vbGVhbjtcbn1cbiJdfQ==","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/json-model-converter-config.interface.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1tb2RlbC1jb252ZXJ0ZXItY29uZmlnLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvanNvbi1tb2RlbC1jb252ZXJ0ZXItY29uZmlnLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBKc29uTW9kZWxDb252ZXJ0ZXJDb25maWcge1xuICBudWxsVmFsdWU/OiBib29sZWFuO1xuICBoYXNNYW55PzogYm9vbGVhbjtcbn1cbiJdfQ==","originalSourcemap":{"mappings":[],"names":[],"sources":[],"version":3},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":589,"body":[{"type":"ExportNamedDeclaration","start":0,"end":10,"declaration":null,"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YXN0b3JlLWNvbmZpZy5pbnRlcmZhY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9pbnRlcmZhY2VzL2RhdGFzdG9yZS1jb25maWcuaW50ZXJmYWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPdmVycmlkZXMgfSBmcm9tICcuL292ZXJyaWRlcy5pbnRlcmZhY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFzdG9yZUNvbmZpZyB7XG4gIGFwaVZlcnNpb24/OiBzdHJpbmc7XG4gIGJhc2VVcmw/OiBzdHJpbmc7XG4gIG1vZGVscz86IG9iamVjdDtcbiAgb3ZlcnJpZGVzPzogT3ZlcnJpZGVzO1xufVxuIl19","start":11,"end":589}]},"code":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YXN0b3JlLWNvbmZpZy5pbnRlcmZhY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9pbnRlcmZhY2VzL2RhdGFzdG9yZS1jb25maWcuaW50ZXJmYWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPdmVycmlkZXMgfSBmcm9tICcuL292ZXJyaWRlcy5pbnRlcmZhY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFzdG9yZUNvbmZpZyB7XG4gIGFwaVZlcnNpb24/OiBzdHJpbmc7XG4gIGJhc2VVcmw/OiBzdHJpbmc7XG4gIG1vZGVscz86IG9iamVjdDtcbiAgb3ZlcnJpZGVzPzogT3ZlcnJpZGVzO1xufVxuIl19","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/datastore-config.interface.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YXN0b3JlLWNvbmZpZy5pbnRlcmZhY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9pbnRlcmZhY2VzL2RhdGFzdG9yZS1jb25maWcuaW50ZXJmYWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPdmVycmlkZXMgfSBmcm9tICcuL292ZXJyaWRlcy5pbnRlcmZhY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFzdG9yZUNvbmZpZyB7XG4gIGFwaVZlcnNpb24/OiBzdHJpbmc7XG4gIGJhc2VVcmw/OiBzdHJpbmc7XG4gIG1vZGVscz86IG9iamVjdDtcbiAgb3ZlcnJpZGVzPzogT3ZlcnJpZGVzO1xufVxuIl19","originalSourcemap":{"mappings":[],"names":[],"sources":[],"version":3},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":641,"body":[{"type":"ExportNamedDeclaration","start":0,"end":10,"declaration":null,"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwtY29uZmlnLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWV0YU1vZGVsVHlwZSB9IGZyb20gJy4uL21vZGVscy9qc29uLWFwaS1tZXRhLm1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBNb2RlbENvbmZpZzxUID0gYW55PiB7XG4gIHR5cGU6IHN0cmluZztcbiAgYXBpVmVyc2lvbj86IHN0cmluZztcbiAgYmFzZVVybD86IHN0cmluZztcbiAgbW9kZWxFbmRwb2ludFVybD86IHN0cmluZztcbiAgbWV0YT86IE1ldGFNb2RlbFR5cGU8VD47XG59XG4iXX0=","start":11,"end":641}]},"code":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwtY29uZmlnLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWV0YU1vZGVsVHlwZSB9IGZyb20gJy4uL21vZGVscy9qc29uLWFwaS1tZXRhLm1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBNb2RlbENvbmZpZzxUID0gYW55PiB7XG4gIHR5cGU6IHN0cmluZztcbiAgYXBpVmVyc2lvbj86IHN0cmluZztcbiAgYmFzZVVybD86IHN0cmluZztcbiAgbW9kZWxFbmRwb2ludFVybD86IHN0cmluZztcbiAgbWV0YT86IE1ldGFNb2RlbFR5cGU8VD47XG59XG4iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/model-config.interface.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwtY29uZmlnLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvbW9kZWwtY29uZmlnLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWV0YU1vZGVsVHlwZSB9IGZyb20gJy4uL21vZGVscy9qc29uLWFwaS1tZXRhLm1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBNb2RlbENvbmZpZzxUID0gYW55PiB7XG4gIHR5cGU6IHN0cmluZztcbiAgYXBpVmVyc2lvbj86IHN0cmluZztcbiAgYmFzZVVybD86IHN0cmluZztcbiAgbW9kZWxFbmRwb2ludFVybD86IHN0cmluZztcbiAgbWV0YT86IE1ldGFNb2RlbFR5cGU8VD47XG59XG4iXX0=","originalSourcemap":{"mappings":[],"names":[],"sources":[],"version":3},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":617,"body":[{"type":"ExportNamedDeclaration","start":0,"end":10,"declaration":null,"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvcGVydHlDb252ZXJ0ZXIgfSBmcm9tICcuL3Byb3BlcnR5LWNvbnZlcnRlci5pbnRlcmZhY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF0dHJpYnV0ZURlY29yYXRvck9wdGlvbnMge1xuICBzZXJpYWxpemVkTmFtZT86IHN0cmluZztcbiAgY29udmVydGVyPzogUHJvcGVydHlDb252ZXJ0ZXI7XG59XG4iXX0=","start":11,"end":617}]},"code":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvcGVydHlDb252ZXJ0ZXIgfSBmcm9tICcuL3Byb3BlcnR5LWNvbnZlcnRlci5pbnRlcmZhY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF0dHJpYnV0ZURlY29yYXRvck9wdGlvbnMge1xuICBzZXJpYWxpemVkTmFtZT86IHN0cmluZztcbiAgY29udmVydGVyPzogUHJvcGVydHlDb252ZXJ0ZXI7XG59XG4iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/attribute-decorator-options.interface.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvYXR0cmlidXRlLWRlY29yYXRvci1vcHRpb25zLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvcGVydHlDb252ZXJ0ZXIgfSBmcm9tICcuL3Byb3BlcnR5LWNvbnZlcnRlci5pbnRlcmZhY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF0dHJpYnV0ZURlY29yYXRvck9wdGlvbnMge1xuICBzZXJpYWxpemVkTmFtZT86IHN0cmluZztcbiAgY29udmVydGVyPzogUHJvcGVydHlDb252ZXJ0ZXI7XG59XG4iXX0=","originalSourcemap":{"mappings":[],"names":[],"sources":[],"version":3},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":481,"body":[{"type":"ExportNamedDeclaration","start":0,"end":10,"declaration":null,"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcGVydHktY29udmVydGVyLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvcHJvcGVydHktY29udmVydGVyLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eUNvbnZlcnRlciB7XG4gIG1hc2sodmFsdWU6IGFueSk6IGFueTtcblxuICB1bm1hc2sodmFsdWU6IGFueSk6IGFueTtcbn1cbiJdfQ==","start":11,"end":481}]},"code":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcGVydHktY29udmVydGVyLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvcHJvcGVydHktY29udmVydGVyLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eUNvbnZlcnRlciB7XG4gIG1hc2sodmFsdWU6IGFueSk6IGFueTtcblxuICB1bm1hc2sodmFsdWU6IGFueSk6IGFueTtcbn1cbiJdfQ==","customTransformCache":false,"dependencies":[],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/property-converter.interface.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcGVydHktY29udmVydGVyLmludGVyZmFjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2ludGVyZmFjZXMvcHJvcGVydHktY29udmVydGVyLmludGVyZmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eUNvbnZlcnRlciB7XG4gIG1hc2sodmFsdWU6IGFueSk6IGFueTtcblxuICB1bm1hc2sodmFsdWU6IGFueSk6IGFueTtcbn1cbiJdfQ==","originalSourcemap":{"mappings":[],"names":[],"sources":[],"version":3},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":61083,"body":[{"type":"ImportDeclaration","start":0,"end":43,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}}],"source":{"type":"Literal","start":27,"end":42,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":44,"end":126,"specifiers":[{"type":"ImportSpecifier","start":53,"end":63,"imported":{"type":"Identifier","start":53,"end":63,"name":"HttpClient"},"local":{"type":"Identifier","start":53,"end":63,"name":"HttpClient"}},{"type":"ImportSpecifier","start":65,"end":82,"imported":{"type":"Identifier","start":65,"end":82,"name":"HttpErrorResponse"},"local":{"type":"Identifier","start":65,"end":82,"name":"HttpErrorResponse"}},{"type":"ImportSpecifier","start":84,"end":95,"imported":{"type":"Identifier","start":84,"end":95,"name":"HttpHeaders"},"local":{"type":"Identifier","start":84,"end":95,"name":"HttpHeaders"}}],"source":{"type":"Literal","start":103,"end":125,"value":"@angular/common/http","raw":"'@angular/common/http'"}},{"type":"ImportDeclaration","start":127,"end":157,"specifiers":[{"type":"ImportSpecifier","start":136,"end":140,"imported":{"type":"Identifier","start":136,"end":140,"name":"find"},"local":{"type":"Identifier","start":136,"end":140,"name":"find"}}],"source":{"type":"Literal","start":148,"end":156,"value":"lodash","raw":"'lodash'"}},{"type":"ImportDeclaration","start":158,"end":207,"specifiers":[{"type":"ImportSpecifier","start":167,"end":177,"imported":{"type":"Identifier","start":167,"end":177,"name":"catchError"},"local":{"type":"Identifier","start":167,"end":177,"name":"catchError"}},{"type":"ImportSpecifier","start":179,"end":182,"imported":{"type":"Identifier","start":179,"end":182,"name":"map"},"local":{"type":"Identifier","start":179,"end":182,"name":"map"}}],"source":{"type":"Literal","start":190,"end":206,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":208,"end":246,"specifiers":[{"type":"ImportSpecifier","start":217,"end":219,"imported":{"type":"Identifier","start":217,"end":219,"name":"of"},"local":{"type":"Identifier","start":217,"end":219,"name":"of"}},{"type":"ImportSpecifier","start":221,"end":231,"imported":{"type":"Identifier","start":221,"end":231,"name":"throwError"},"local":{"type":"Identifier","start":221,"end":231,"name":"throwError"}}],"source":{"type":"Literal","start":239,"end":245,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":247,"end":303,"specifiers":[{"type":"ImportSpecifier","start":256,"end":268,"imported":{"type":"Identifier","start":256,"end":268,"name":"JsonApiModel"},"local":{"type":"Identifier","start":256,"end":268,"name":"JsonApiModel"}}],"source":{"type":"Literal","start":276,"end":302,"value":"../models/json-api.model","raw":"'../models/json-api.model'"}},{"type":"ImportDeclaration","start":304,"end":367,"specifiers":[{"type":"ImportSpecifier","start":313,"end":326,"imported":{"type":"Identifier","start":313,"end":326,"name":"ErrorResponse"},"local":{"type":"Identifier","start":313,"end":326,"name":"ErrorResponse"}}],"source":{"type":"Literal","start":334,"end":366,"value":"../models/error-response.model","raw":"'../models/error-response.model'"}},{"type":"ImportDeclaration","start":368,"end":433,"specifiers":[{"type":"ImportSpecifier","start":377,"end":393,"imported":{"type":"Identifier","start":377,"end":393,"name":"JsonApiQueryData"},"local":{"type":"Identifier","start":377,"end":393,"name":"JsonApiQueryData"}}],"source":{"type":"Literal","start":401,"end":432,"value":"../models/json-api-query-data","raw":"'../models/json-api-query-data'"}},{"type":"ImportDeclaration","start":434,"end":459,"specifiers":[{"type":"ImportNamespaceSpecifier","start":441,"end":448,"local":{"type":"Identifier","start":446,"end":448,"name":"qs"}}],"source":{"type":"Literal","start":454,"end":458,"value":"qs","raw":"'qs'"}},{"type":"ImportDeclaration","start":460,"end":517,"specifiers":[{"type":"ImportSpecifier","start":469,"end":486,"imported":{"type":"Identifier","start":469,"end":486,"name":"AttributeMetadata"},"local":{"type":"Identifier","start":469,"end":486,"name":"AttributeMetadata"}}],"source":{"type":"Literal","start":494,"end":516,"value":"../constants/symbols","raw":"'../constants/symbols'"}},{"type":"ImportDeclaration","start":518,"end":544,"specifiers":[],"source":{"type":"Literal","start":525,"end":543,"value":"reflect-metadata","raw":"'reflect-metadata'"}},{"type":"ImportDeclaration","start":545,"end":581,"specifiers":[{"type":"ImportNamespaceSpecifier","start":552,"end":559,"local":{"type":"Identifier","start":557,"end":559,"name":"i0"}}],"source":{"type":"Literal","start":565,"end":580,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ImportDeclaration","start":582,"end":625,"specifiers":[{"type":"ImportNamespaceSpecifier","start":589,"end":596,"local":{"type":"Identifier","start":594,"end":596,"name":"i1"}}],"source":{"type":"Literal","start":602,"end":624,"value":"@angular/common/http","raw":"\"@angular/common/http\""}},{"type":"VariableDeclaration","start":822,"end":871,"declarations":[{"type":"VariableDeclarator","start":828,"end":870,"id":{"type":"Identifier","start":828,"end":850,"name":"AttributeMetadataIndex"},"init":{"type":"Identifier","start":853,"end":870,"name":"AttributeMetadata"}}],"kind":"const"},{"type":"ExportNamedDeclaration","start":872,"end":16380,"declaration":{"type":"ClassDeclaration","start":879,"end":16380,"id":{"type":"Identifier","start":885,"end":901,"name":"JsonApiDatastore"},"superClass":null,"body":{"type":"ClassBody","start":902,"end":16380,"body":[{"type":"MethodDefinition","start":908,"end":1234,"static":false,"computed":false,"key":{"type":"Identifier","start":908,"end":919,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":919,"end":1234,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":920,"end":924,"name":"http"}],"body":{"type":"BlockStatement","start":926,"end":1234,"body":[{"type":"ExpressionStatement","start":936,"end":953,"expression":{"type":"AssignmentExpression","start":936,"end":952,"operator":"=","left":{"type":"MemberExpression","start":936,"end":945,"object":{"type":"ThisExpression","start":936,"end":940},"property":{"type":"Identifier","start":941,"end":945,"name":"http"},"computed":false,"optional":false},"right":{"type":"Identifier","start":948,"end":952,"name":"http"}}},{"type":"ExpressionStatement","start":962,"end":993,"expression":{"type":"AssignmentExpression","start":962,"end":992,"operator":"=","left":{"type":"MemberExpression","start":962,"end":987,"object":{"type":"ThisExpression","start":962,"end":966},"property":{"type":"Identifier","start":967,"end":987,"name":"globalRequestOptions"},"computed":false,"optional":false},"right":{"type":"ObjectExpression","start":990,"end":992,"properties":[]}}},{"type":"ExpressionStatement","start":1002,"end":1026,"expression":{"type":"AssignmentExpression","start":1002,"end":1025,"operator":"=","left":{"type":"MemberExpression","start":1002,"end":1020,"object":{"type":"ThisExpression","start":1002,"end":1006},"property":{"type":"Identifier","start":1007,"end":1020,"name":"internalStore"},"computed":false,"optional":false},"right":{"type":"ObjectExpression","start":1023,"end":1025,"properties":[]}}},{"type":"ExpressionStatement","start":1035,"end":1228,"expression":{"type":"AssignmentExpression","start":1035,"end":1227,"operator":"=","left":{"type":"MemberExpression","start":1035,"end":1053,"object":{"type":"ThisExpression","start":1035,"end":1039},"property":{"type":"Identifier","start":1040,"end":1053,"name":"toQueryString"},"computed":false,"optional":false},"right":{"type":"ConditionalExpression","start":1056,"end":1227,"test":{"type":"LogicalExpression","start":1056,"end":1146,"left":{"type":"MemberExpression","start":1056,"end":1086,"object":{"type":"MemberExpression","start":1056,"end":1076,"object":{"type":"ThisExpression","start":1056,"end":1060},"property":{"type":"Identifier","start":1061,"end":1076,"name":"datastoreConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1077,"end":1086,"name":"overrides"},"computed":false,"optional":false},"operator":"&&","right":{"type":"MemberExpression","start":1102,"end":1146,"object":{"type":"MemberExpression","start":1102,"end":1132,"object":{"type":"MemberExpression","start":1102,"end":1122,"object":{"type":"ThisExpression","start":1102,"end":1106},"property":{"type":"Identifier","start":1107,"end":1122,"name":"datastoreConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1123,"end":1132,"name":"overrides"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1133,"end":1146,"name":"toQueryString"},"computed":false,"optional":false}},"consequent":{"type":"MemberExpression","start":1161,"end":1205,"object":{"type":"MemberExpression","start":1161,"end":1191,"object":{"type":"MemberExpression","start":1161,"end":1181,"object":{"type":"ThisExpression","start":1161,"end":1165},"property":{"type":"Identifier","start":1166,"end":1181,"name":"datastoreConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1182,"end":1191,"name":"overrides"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1192,"end":1205,"name":"toQueryString"},"computed":false,"optional":false},"alternate":{"type":"MemberExpression","start":1208,"end":1227,"object":{"type":"ThisExpression","start":1208,"end":1212},"property":{"type":"Identifier","start":1213,"end":1227,"name":"_toQueryString"},"computed":false,"optional":false}}}}]}}},{"type":"MethodDefinition","start":1239,"end":1305,"static":false,"computed":false,"key":{"type":"Identifier","start":1243,"end":1250,"name":"headers"},"kind":"set","value":{"type":"FunctionExpression","start":1250,"end":1305,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1251,"end":1258,"name":"headers"}],"body":{"type":"BlockStatement","start":1260,"end":1305,"body":[{"type":"ExpressionStatement","start":1270,"end":1299,"expression":{"type":"AssignmentExpression","start":1270,"end":1298,"operator":"=","left":{"type":"MemberExpression","start":1270,"end":1288,"object":{"type":"ThisExpression","start":1270,"end":1274},"property":{"type":"Identifier","start":1275,"end":1288,"name":"globalHeaders"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1291,"end":1298,"name":"headers"}}}]}}},{"type":"MethodDefinition","start":1310,"end":1404,"static":false,"computed":false,"key":{"type":"Identifier","start":1314,"end":1328,"name":"requestOptions"},"kind":"set","value":{"type":"FunctionExpression","start":1328,"end":1404,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1329,"end":1343,"name":"requestOptions"}],"body":{"type":"BlockStatement","start":1345,"end":1404,"body":[{"type":"ExpressionStatement","start":1355,"end":1398,"expression":{"type":"AssignmentExpression","start":1355,"end":1397,"operator":"=","left":{"type":"MemberExpression","start":1355,"end":1380,"object":{"type":"ThisExpression","start":1355,"end":1359},"property":{"type":"Identifier","start":1360,"end":1380,"name":"globalRequestOptions"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1383,"end":1397,"name":"requestOptions"}}}]}}},{"type":"MethodDefinition","start":1409,"end":1603,"static":false,"computed":false,"key":{"type":"Identifier","start":1413,"end":1428,"name":"datastoreConfig"},"kind":"get","value":{"type":"FunctionExpression","start":1428,"end":1603,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1431,"end":1603,"body":[{"type":"VariableDeclaration","start":1441,"end":1533,"declarations":[{"type":"VariableDeclarator","start":1447,"end":1532,"id":{"type":"Identifier","start":1447,"end":1466,"name":"configFromDecorator"},"init":{"type":"CallExpression","start":1469,"end":1532,"callee":{"type":"MemberExpression","start":1469,"end":1488,"object":{"type":"Identifier","start":1469,"end":1476,"name":"Reflect"},"property":{"type":"Identifier","start":1477,"end":1488,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1489,"end":1513,"value":"JsonApiDatastoreConfig","raw":"'JsonApiDatastoreConfig'"},{"type":"MemberExpression","start":1515,"end":1531,"object":{"type":"ThisExpression","start":1515,"end":1519},"property":{"type":"Identifier","start":1520,"end":1531,"name":"constructor"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":1542,"end":1597,"argument":{"type":"CallExpression","start":1549,"end":1596,"callee":{"type":"MemberExpression","start":1549,"end":1562,"object":{"type":"Identifier","start":1549,"end":1555,"name":"Object"},"property":{"type":"Identifier","start":1556,"end":1562,"name":"assign"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1563,"end":1582,"name":"configFromDecorator"},{"type":"MemberExpression","start":1584,"end":1595,"object":{"type":"ThisExpression","start":1584,"end":1588},"property":{"type":"Identifier","start":1589,"end":1595,"name":"config"},"computed":false,"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":1608,"end":1883,"static":false,"computed":false,"key":{"type":"Identifier","start":1612,"end":1630,"name":"getDirtyAttributes"},"kind":"get","value":{"type":"FunctionExpression","start":1630,"end":1883,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1633,"end":1883,"body":[{"type":"IfStatement","start":1643,"end":1825,"test":{"type":"LogicalExpression","start":1647,"end":1742,"left":{"type":"MemberExpression","start":1647,"end":1677,"object":{"type":"MemberExpression","start":1647,"end":1667,"object":{"type":"ThisExpression","start":1647,"end":1651},"property":{"type":"Identifier","start":1652,"end":1667,"name":"datastoreConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1668,"end":1677,"name":"overrides"},"computed":false,"optional":false},"operator":"&&","right":{"type":"MemberExpression","start":1693,"end":1742,"object":{"type":"MemberExpression","start":1693,"end":1723,"object":{"type":"MemberExpression","start":1693,"end":1713,"object":{"type":"ThisExpression","start":1693,"end":1697},"property":{"type":"Identifier","start":1698,"end":1713,"name":"datastoreConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1714,"end":1723,"name":"overrides"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1724,"end":1742,"name":"getDirtyAttributes"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":1744,"end":1825,"body":[{"type":"ReturnStatement","start":1758,"end":1815,"argument":{"type":"MemberExpression","start":1765,"end":1814,"object":{"type":"MemberExpression","start":1765,"end":1795,"object":{"type":"MemberExpression","start":1765,"end":1785,"object":{"type":"ThisExpression","start":1765,"end":1769},"property":{"type":"Identifier","start":1770,"end":1785,"name":"datastoreConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1786,"end":1795,"name":"overrides"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1796,"end":1814,"name":"getDirtyAttributes"},"computed":false,"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":1834,"end":1877,"argument":{"type":"MemberExpression","start":1841,"end":1876,"object":{"type":"Identifier","start":1841,"end":1857,"name":"JsonApiDatastore"},"property":{"type":"Identifier","start":1858,"end":1876,"name":"getDirtyAttributes"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":1888,"end":2523,"static":true,"computed":false,"key":{"type":"Identifier","start":1895,"end":1913,"name":"getDirtyAttributes"},"kind":"method","value":{"type":"FunctionExpression","start":1913,"end":2523,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1914,"end":1932,"name":"attributesMetadata"}],"body":{"type":"BlockStatement","start":1934,"end":2523,"body":[{"type":"VariableDeclaration","start":1944,"end":1965,"declarations":[{"type":"VariableDeclarator","start":1950,"end":1964,"id":{"type":"Identifier","start":1950,"end":1959,"name":"dirtyData"},"init":{"type":"ObjectExpression","start":1962,"end":1964,"properties":[]}}],"kind":"const"},{"type":"ForInStatement","start":1974,"end":2491,"left":{"type":"VariableDeclaration","start":1979,"end":1997,"declarations":[{"type":"VariableDeclarator","start":1985,"end":1997,"id":{"type":"Identifier","start":1985,"end":1997,"name":"propertyName"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":2001,"end":2019,"name":"attributesMetadata"},"body":{"type":"BlockStatement","start":2021,"end":2491,"body":[{"type":"IfStatement","start":2035,"end":2481,"test":{"type":"CallExpression","start":2039,"end":2086,"callee":{"type":"MemberExpression","start":2039,"end":2072,"object":{"type":"Identifier","start":2039,"end":2057,"name":"attributesMetadata"},"property":{"type":"Identifier","start":2058,"end":2072,"name":"hasOwnProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2073,"end":2085,"name":"propertyName"}],"optional":false},"consequent":{"type":"BlockStatement","start":2088,"end":2481,"body":[{"type":"VariableDeclaration","start":2106,"end":2156,"declarations":[{"type":"VariableDeclarator","start":2112,"end":2155,"id":{"type":"Identifier","start":2112,"end":2120,"name":"metadata"},"init":{"type":"MemberExpression","start":2123,"end":2155,"object":{"type":"Identifier","start":2123,"end":2141,"name":"attributesMetadata"},"property":{"type":"Identifier","start":2142,"end":2154,"name":"propertyName"},"computed":true,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2173,"end":2467,"test":{"type":"MemberExpression","start":2177,"end":2204,"object":{"type":"Identifier","start":2177,"end":2185,"name":"metadata"},"property":{"type":"Identifier","start":2186,"end":2204,"name":"hasDirtyAttributes"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":2206,"end":2467,"body":[{"type":"VariableDeclaration","start":2228,"end":2323,"declarations":[{"type":"VariableDeclarator","start":2234,"end":2322,"id":{"type":"Identifier","start":2234,"end":2247,"name":"attributeName"},"init":{"type":"ConditionalExpression","start":2250,"end":2322,"test":{"type":"BinaryExpression","start":2250,"end":2281,"left":{"type":"MemberExpression","start":2250,"end":2273,"object":{"type":"Identifier","start":2250,"end":2258,"name":"metadata"},"property":{"type":"Identifier","start":2259,"end":2273,"name":"serializedName"},"computed":false,"optional":false},"operator":"!=","right":{"type":"Literal","start":2277,"end":2281,"value":null,"raw":"null"}},"consequent":{"type":"MemberExpression","start":2284,"end":2307,"object":{"type":"Identifier","start":2284,"end":2292,"name":"metadata"},"property":{"type":"Identifier","start":2293,"end":2307,"name":"serializedName"},"computed":false,"optional":false},"alternate":{"type":"Identifier","start":2310,"end":2322,"name":"propertyName"}}}],"kind":"const"},{"type":"ExpressionStatement","start":2344,"end":2449,"expression":{"type":"AssignmentExpression","start":2344,"end":2448,"operator":"=","left":{"type":"MemberExpression","start":2344,"end":2368,"object":{"type":"Identifier","start":2344,"end":2353,"name":"dirtyData"},"property":{"type":"Identifier","start":2354,"end":2367,"name":"attributeName"},"computed":true,"optional":false},"right":{"type":"ConditionalExpression","start":2371,"end":2448,"test":{"type":"MemberExpression","start":2371,"end":2398,"object":{"type":"Identifier","start":2371,"end":2379,"name":"metadata"},"property":{"type":"Identifier","start":2380,"end":2398,"name":"serialisationValue"},"computed":false,"optional":false},"consequent":{"type":"MemberExpression","start":2401,"end":2428,"object":{"type":"Identifier","start":2401,"end":2409,"name":"metadata"},"property":{"type":"Identifier","start":2410,"end":2428,"name":"serialisationValue"},"computed":false,"optional":false},"alternate":{"type":"MemberExpression","start":2431,"end":2448,"object":{"type":"Identifier","start":2431,"end":2439,"name":"metadata"},"property":{"type":"Identifier","start":2440,"end":2448,"name":"newValue"},"computed":false,"optional":false}}}}]},"alternate":null}]},"alternate":null}]}},{"type":"ReturnStatement","start":2500,"end":2517,"argument":{"type":"Identifier","start":2507,"end":2516,"name":"dirtyData"}}]}}},{"type":"MethodDefinition","start":2601,"end":2971,"static":false,"computed":false,"key":{"type":"Identifier","start":2601,"end":2606,"name":"query"},"kind":"method","value":{"type":"FunctionExpression","start":2606,"end":2971,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2607,"end":2616,"name":"modelType"},{"type":"Identifier","start":2618,"end":2624,"name":"params"},{"type":"Identifier","start":2626,"end":2633,"name":"headers"},{"type":"Identifier","start":2635,"end":2644,"name":"customUrl"}],"body":{"type":"BlockStatement","start":2646,"end":2971,"body":[{"type":"VariableDeclaration","start":2656,"end":2710,"declarations":[{"type":"VariableDeclarator","start":2662,"end":2709,"id":{"type":"Identifier","start":2662,"end":2676,"name":"requestHeaders"},"init":{"type":"CallExpression","start":2679,"end":2709,"callee":{"type":"MemberExpression","start":2679,"end":2700,"object":{"type":"ThisExpression","start":2679,"end":2683},"property":{"type":"Identifier","start":2684,"end":2700,"name":"buildHttpHeaders"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2701,"end":2708,"name":"headers"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":2719,"end":2786,"declarations":[{"type":"VariableDeclarator","start":2725,"end":2785,"id":{"type":"Identifier","start":2725,"end":2728,"name":"url"},"init":{"type":"CallExpression","start":2731,"end":2785,"callee":{"type":"MemberExpression","start":2731,"end":2744,"object":{"type":"ThisExpression","start":2731,"end":2735},"property":{"type":"Identifier","start":2736,"end":2744,"name":"buildUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2745,"end":2754,"name":"modelType"},{"type":"Identifier","start":2756,"end":2762,"name":"params"},{"type":"Identifier","start":2764,"end":2773,"name":"undefined"},{"type":"Identifier","start":2775,"end":2784,"name":"customUrl"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":2795,"end":2965,"argument":{"type":"CallExpression","start":2802,"end":2964,"callee":{"type":"MemberExpression","start":2802,"end":2867,"object":{"type":"CallExpression","start":2802,"end":2849,"callee":{"type":"MemberExpression","start":2802,"end":2815,"object":{"type":"MemberExpression","start":2802,"end":2811,"object":{"type":"ThisExpression","start":2802,"end":2806},"property":{"type":"Identifier","start":2807,"end":2811,"name":"http"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2812,"end":2815,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2816,"end":2819,"name":"url"},{"type":"ObjectExpression","start":2821,"end":2848,"properties":[{"type":"Property","start":2823,"end":2846,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2823,"end":2830,"name":"headers"},"value":{"type":"Identifier","start":2832,"end":2846,"name":"requestHeaders"},"kind":"init"}]}],"optional":false},"property":{"type":"Identifier","start":2863,"end":2867,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2868,"end":2919,"callee":{"type":"Identifier","start":2868,"end":2871,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":2872,"end":2918,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2873,"end":2876,"name":"res"}],"body":{"type":"CallExpression","start":2881,"end":2918,"callee":{"type":"MemberExpression","start":2881,"end":2902,"object":{"type":"ThisExpression","start":2881,"end":2885},"property":{"type":"Identifier","start":2886,"end":2902,"name":"extractQueryData"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2903,"end":2906,"name":"res"},{"type":"Identifier","start":2908,"end":2917,"name":"modelType"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":2921,"end":2963,"callee":{"type":"Identifier","start":2921,"end":2931,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":2932,"end":2962,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2933,"end":2936,"name":"res"}],"body":{"type":"CallExpression","start":2941,"end":2962,"callee":{"type":"MemberExpression","start":2941,"end":2957,"object":{"type":"ThisExpression","start":2941,"end":2945},"property":{"type":"Identifier","start":2946,"end":2957,"name":"handleError"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2958,"end":2961,"name":"res"}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":2976,"end":3369,"static":false,"computed":false,"key":{"type":"Identifier","start":2976,"end":2983,"name":"findAll"},"kind":"method","value":{"type":"FunctionExpression","start":2983,"end":3369,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2984,"end":2993,"name":"modelType"},{"type":"Identifier","start":2995,"end":3001,"name":"params"},{"type":"Identifier","start":3003,"end":3010,"name":"headers"},{"type":"Identifier","start":3012,"end":3021,"name":"customUrl"}],"body":{"type":"BlockStatement","start":3023,"end":3369,"body":[{"type":"VariableDeclaration","start":3033,"end":3100,"declarations":[{"type":"VariableDeclarator","start":3039,"end":3099,"id":{"type":"Identifier","start":3039,"end":3042,"name":"url"},"init":{"type":"CallExpression","start":3045,"end":3099,"callee":{"type":"MemberExpression","start":3045,"end":3058,"object":{"type":"ThisExpression","start":3045,"end":3049},"property":{"type":"Identifier","start":3050,"end":3058,"name":"buildUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3059,"end":3068,"name":"modelType"},{"type":"Identifier","start":3070,"end":3076,"name":"params"},{"type":"Identifier","start":3078,"end":3087,"name":"undefined"},{"type":"Identifier","start":3089,"end":3098,"name":"customUrl"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":3109,"end":3191,"declarations":[{"type":"VariableDeclarator","start":3115,"end":3190,"id":{"type":"Identifier","start":3115,"end":3129,"name":"requestOptions"},"init":{"type":"CallExpression","start":3132,"end":3190,"callee":{"type":"MemberExpression","start":3132,"end":3156,"object":{"type":"ThisExpression","start":3132,"end":3136},"property":{"type":"Identifier","start":3137,"end":3156,"name":"buildRequestOptions"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":3157,"end":3189,"properties":[{"type":"Property","start":3159,"end":3166,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3159,"end":3166,"name":"headers"},"kind":"init","value":{"type":"Identifier","start":3159,"end":3166,"name":"headers"}},{"type":"Property","start":3168,"end":3187,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3168,"end":3175,"name":"observe"},"value":{"type":"Literal","start":3177,"end":3187,"value":"response","raw":"'response'"},"kind":"init"}]}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":3200,"end":3363,"argument":{"type":"CallExpression","start":3207,"end":3362,"callee":{"type":"MemberExpression","start":3207,"end":3259,"object":{"type":"CallExpression","start":3207,"end":3241,"callee":{"type":"MemberExpression","start":3207,"end":3220,"object":{"type":"MemberExpression","start":3207,"end":3216,"object":{"type":"ThisExpression","start":3207,"end":3211},"property":{"type":"Identifier","start":3212,"end":3216,"name":"http"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3217,"end":3220,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3221,"end":3224,"name":"url"},{"type":"Identifier","start":3226,"end":3240,"name":"requestOptions"}],"optional":false},"property":{"type":"Identifier","start":3255,"end":3259,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":3260,"end":3317,"callee":{"type":"Identifier","start":3260,"end":3263,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":3264,"end":3316,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3265,"end":3268,"name":"res"}],"body":{"type":"CallExpression","start":3273,"end":3316,"callee":{"type":"MemberExpression","start":3273,"end":3294,"object":{"type":"ThisExpression","start":3273,"end":3277},"property":{"type":"Identifier","start":3278,"end":3294,"name":"extractQueryData"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3295,"end":3298,"name":"res"},{"type":"Identifier","start":3300,"end":3309,"name":"modelType"},{"type":"Literal","start":3311,"end":3315,"value":true,"raw":"true"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3319,"end":3361,"callee":{"type":"Identifier","start":3319,"end":3329,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":3330,"end":3360,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3331,"end":3334,"name":"res"}],"body":{"type":"CallExpression","start":3339,"end":3360,"callee":{"type":"MemberExpression","start":3339,"end":3355,"object":{"type":"ThisExpression","start":3339,"end":3343},"property":{"type":"Identifier","start":3344,"end":3355,"name":"handleError"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3356,"end":3359,"name":"res"}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":3374,"end":3762,"static":false,"computed":false,"key":{"type":"Identifier","start":3374,"end":3384,"name":"findRecord"},"kind":"method","value":{"type":"FunctionExpression","start":3384,"end":3762,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3385,"end":3394,"name":"modelType"},{"type":"Identifier","start":3396,"end":3398,"name":"id"},{"type":"Identifier","start":3400,"end":3406,"name":"params"},{"type":"Identifier","start":3408,"end":3415,"name":"headers"},{"type":"Identifier","start":3417,"end":3426,"name":"customUrl"}],"body":{"type":"BlockStatement","start":3428,"end":3762,"body":[{"type":"VariableDeclaration","start":3438,"end":3520,"declarations":[{"type":"VariableDeclarator","start":3444,"end":3519,"id":{"type":"Identifier","start":3444,"end":3458,"name":"requestOptions"},"init":{"type":"CallExpression","start":3461,"end":3519,"callee":{"type":"MemberExpression","start":3461,"end":3485,"object":{"type":"ThisExpression","start":3461,"end":3465},"property":{"type":"Identifier","start":3466,"end":3485,"name":"buildRequestOptions"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":3486,"end":3518,"properties":[{"type":"Property","start":3488,"end":3495,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3488,"end":3495,"name":"headers"},"kind":"init","value":{"type":"Identifier","start":3488,"end":3495,"name":"headers"}},{"type":"Property","start":3497,"end":3516,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3497,"end":3504,"name":"observe"},"value":{"type":"Literal","start":3506,"end":3516,"value":"response","raw":"'response'"},"kind":"init"}]}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":3529,"end":3589,"declarations":[{"type":"VariableDeclarator","start":3535,"end":3588,"id":{"type":"Identifier","start":3535,"end":3538,"name":"url"},"init":{"type":"CallExpression","start":3541,"end":3588,"callee":{"type":"MemberExpression","start":3541,"end":3554,"object":{"type":"ThisExpression","start":3541,"end":3545},"property":{"type":"Identifier","start":3546,"end":3554,"name":"buildUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3555,"end":3564,"name":"modelType"},{"type":"Identifier","start":3566,"end":3572,"name":"params"},{"type":"Identifier","start":3574,"end":3576,"name":"id"},{"type":"Identifier","start":3578,"end":3587,"name":"customUrl"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":3598,"end":3756,"argument":{"type":"CallExpression","start":3605,"end":3755,"callee":{"type":"MemberExpression","start":3605,"end":3657,"object":{"type":"CallExpression","start":3605,"end":3639,"callee":{"type":"MemberExpression","start":3605,"end":3618,"object":{"type":"MemberExpression","start":3605,"end":3614,"object":{"type":"ThisExpression","start":3605,"end":3609},"property":{"type":"Identifier","start":3610,"end":3614,"name":"http"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3615,"end":3618,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3619,"end":3622,"name":"url"},{"type":"Identifier","start":3624,"end":3638,"name":"requestOptions"}],"optional":false},"property":{"type":"Identifier","start":3653,"end":3657,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":3658,"end":3710,"callee":{"type":"Identifier","start":3658,"end":3661,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":3662,"end":3709,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3663,"end":3666,"name":"res"}],"body":{"type":"CallExpression","start":3671,"end":3709,"callee":{"type":"MemberExpression","start":3671,"end":3693,"object":{"type":"ThisExpression","start":3671,"end":3675},"property":{"type":"Identifier","start":3676,"end":3693,"name":"extractRecordData"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3694,"end":3697,"name":"res"},{"type":"Identifier","start":3699,"end":3708,"name":"modelType"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3712,"end":3754,"callee":{"type":"Identifier","start":3712,"end":3722,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":3723,"end":3753,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3724,"end":3727,"name":"res"}],"body":{"type":"CallExpression","start":3732,"end":3753,"callee":{"type":"MemberExpression","start":3732,"end":3748,"object":{"type":"ThisExpression","start":3732,"end":3736},"property":{"type":"Identifier","start":3737,"end":3748,"name":"handleError"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3749,"end":3752,"name":"res"}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":3767,"end":3862,"static":false,"computed":false,"key":{"type":"Identifier","start":3767,"end":3779,"name":"createRecord"},"kind":"method","value":{"type":"FunctionExpression","start":3779,"end":3862,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3780,"end":3789,"name":"modelType"},{"type":"Identifier","start":3791,"end":3795,"name":"data"}],"body":{"type":"BlockStatement","start":3797,"end":3862,"body":[{"type":"ReturnStatement","start":3807,"end":3856,"argument":{"type":"NewExpression","start":3814,"end":3855,"callee":{"type":"Identifier","start":3818,"end":3827,"name":"modelType"},"arguments":[{"type":"ThisExpression","start":3828,"end":3832},{"type":"ObjectExpression","start":3834,"end":3854,"properties":[{"type":"Property","start":3836,"end":3852,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3836,"end":3846,"name":"attributes"},"value":{"type":"Identifier","start":3848,"end":3852,"name":"data"},"kind":"init"}]}]}}]}}},{"type":"MethodDefinition","start":3867,"end":5122,"static":false,"computed":false,"key":{"type":"Identifier","start":3867,"end":3877,"name":"saveRecord"},"kind":"method","value":{"type":"FunctionExpression","start":3877,"end":5122,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3878,"end":3896,"name":"attributesMetadata"},{"type":"Identifier","start":3898,"end":3903,"name":"model"},{"type":"Identifier","start":3905,"end":3911,"name":"params"},{"type":"Identifier","start":3913,"end":3920,"name":"headers"},{"type":"Identifier","start":3922,"end":3931,"name":"customUrl"}],"body":{"type":"BlockStatement","start":3933,"end":5122,"body":[{"type":"VariableDeclaration","start":3943,"end":3979,"declarations":[{"type":"VariableDeclarator","start":3949,"end":3978,"id":{"type":"Identifier","start":3949,"end":3958,"name":"modelType"},"init":{"type":"MemberExpression","start":3961,"end":3978,"object":{"type":"Identifier","start":3961,"end":3966,"name":"model"},"property":{"type":"Identifier","start":3967,"end":3978,"name":"constructor"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":3988,"end":4026,"declarations":[{"type":"VariableDeclarator","start":3994,"end":4025,"id":{"type":"Identifier","start":3994,"end":4005,"name":"modelConfig"},"init":{"type":"MemberExpression","start":4008,"end":4025,"object":{"type":"Identifier","start":4008,"end":4013,"name":"model"},"property":{"type":"Identifier","start":4014,"end":4025,"name":"modelConfig"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":4035,"end":4069,"declarations":[{"type":"VariableDeclarator","start":4041,"end":4068,"id":{"type":"Identifier","start":4041,"end":4049,"name":"typeName"},"init":{"type":"MemberExpression","start":4052,"end":4068,"object":{"type":"Identifier","start":4052,"end":4063,"name":"modelConfig"},"property":{"type":"Identifier","start":4064,"end":4068,"name":"type"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":4078,"end":4129,"declarations":[{"type":"VariableDeclarator","start":4084,"end":4128,"id":{"type":"Identifier","start":4084,"end":4097,"name":"relationships"},"init":{"type":"CallExpression","start":4100,"end":4128,"callee":{"type":"MemberExpression","start":4100,"end":4121,"object":{"type":"ThisExpression","start":4100,"end":4104},"property":{"type":"Identifier","start":4105,"end":4121,"name":"getRelationships"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4122,"end":4127,"name":"model"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":4138,"end":4204,"declarations":[{"type":"VariableDeclarator","start":4144,"end":4203,"id":{"type":"Identifier","start":4144,"end":4147,"name":"url"},"init":{"type":"CallExpression","start":4150,"end":4203,"callee":{"type":"MemberExpression","start":4150,"end":4163,"object":{"type":"ThisExpression","start":4150,"end":4154},"property":{"type":"Identifier","start":4155,"end":4163,"name":"buildUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4164,"end":4173,"name":"modelType"},{"type":"Identifier","start":4175,"end":4181,"name":"params"},{"type":"MemberExpression","start":4183,"end":4191,"object":{"type":"Identifier","start":4183,"end":4188,"name":"model"},"property":{"type":"Identifier","start":4189,"end":4191,"name":"id"},"computed":false,"optional":false},{"type":"Identifier","start":4193,"end":4202,"name":"customUrl"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":4213,"end":4226,"declarations":[{"type":"VariableDeclarator","start":4217,"end":4225,"id":{"type":"Identifier","start":4217,"end":4225,"name":"httpCall"},"init":null}],"kind":"let"},{"type":"VariableDeclaration","start":4235,"end":4466,"declarations":[{"type":"VariableDeclarator","start":4241,"end":4465,"id":{"type":"Identifier","start":4241,"end":4245,"name":"body"},"init":{"type":"ObjectExpression","start":4248,"end":4465,"properties":[{"type":"Property","start":4262,"end":4455,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4262,"end":4266,"name":"data"},"value":{"type":"ObjectExpression","start":4268,"end":4455,"properties":[{"type":"Property","start":4286,"end":4299,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4286,"end":4299,"name":"relationships"},"kind":"init","value":{"type":"Identifier","start":4286,"end":4299,"name":"relationships"}},{"type":"Property","start":4317,"end":4331,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4317,"end":4321,"name":"type"},"value":{"type":"Identifier","start":4323,"end":4331,"name":"typeName"},"kind":"init"},{"type":"Property","start":4349,"end":4361,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4349,"end":4351,"name":"id"},"value":{"type":"MemberExpression","start":4353,"end":4361,"object":{"type":"Identifier","start":4353,"end":4358,"name":"model"},"property":{"type":"Identifier","start":4359,"end":4361,"name":"id"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":4379,"end":4441,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4379,"end":4389,"name":"attributes"},"value":{"type":"CallExpression","start":4391,"end":4441,"callee":{"type":"MemberExpression","start":4391,"end":4414,"object":{"type":"ThisExpression","start":4391,"end":4395},"property":{"type":"Identifier","start":4396,"end":4414,"name":"getDirtyAttributes"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4415,"end":4433,"name":"attributesMetadata"},{"type":"Identifier","start":4435,"end":4440,"name":"model"}],"optional":false},"kind":"init"}]},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4475,"end":4557,"declarations":[{"type":"VariableDeclarator","start":4481,"end":4556,"id":{"type":"Identifier","start":4481,"end":4495,"name":"requestOptions"},"init":{"type":"CallExpression","start":4498,"end":4556,"callee":{"type":"MemberExpression","start":4498,"end":4522,"object":{"type":"ThisExpression","start":4498,"end":4502},"property":{"type":"Identifier","start":4503,"end":4522,"name":"buildRequestOptions"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":4523,"end":4555,"properties":[{"type":"Property","start":4525,"end":4532,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4525,"end":4532,"name":"headers"},"kind":"init","value":{"type":"Identifier","start":4525,"end":4532,"name":"headers"}},{"type":"Property","start":4534,"end":4553,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4534,"end":4541,"name":"observe"},"value":{"type":"Literal","start":4543,"end":4553,"value":"response","raw":"'response'"},"kind":"init"}]}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":4566,"end":4749,"test":{"type":"MemberExpression","start":4570,"end":4578,"object":{"type":"Identifier","start":4570,"end":4575,"name":"model"},"property":{"type":"Identifier","start":4576,"end":4578,"name":"id"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":4580,"end":4658,"body":[{"type":"ExpressionStatement","start":4594,"end":4648,"expression":{"type":"AssignmentExpression","start":4594,"end":4647,"operator":"=","left":{"type":"Identifier","start":4594,"end":4602,"name":"httpCall"},"right":{"type":"CallExpression","start":4605,"end":4647,"callee":{"type":"MemberExpression","start":4605,"end":4620,"object":{"type":"MemberExpression","start":4605,"end":4614,"object":{"type":"ThisExpression","start":4605,"end":4609},"property":{"type":"Identifier","start":4610,"end":4614,"name":"http"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4615,"end":4620,"name":"patch"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4621,"end":4624,"name":"url"},{"type":"Identifier","start":4626,"end":4630,"name":"body"},{"type":"Identifier","start":4632,"end":4646,"name":"requestOptions"}],"optional":false}}}]},"alternate":{"type":"BlockStatement","start":4672,"end":4749,"body":[{"type":"ExpressionStatement","start":4686,"end":4739,"expression":{"type":"AssignmentExpression","start":4686,"end":4738,"operator":"=","left":{"type":"Identifier","start":4686,"end":4694,"name":"httpCall"},"right":{"type":"CallExpression","start":4697,"end":4738,"callee":{"type":"MemberExpression","start":4697,"end":4711,"object":{"type":"MemberExpression","start":4697,"end":4706,"object":{"type":"ThisExpression","start":4697,"end":4701},"property":{"type":"Identifier","start":4702,"end":4706,"name":"http"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4707,"end":4711,"name":"post"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4712,"end":4715,"name":"url"},{"type":"Identifier","start":4717,"end":4721,"name":"body"},{"type":"Identifier","start":4723,"end":4737,"name":"requestOptions"}],"optional":false}}}]}},{"type":"ReturnStatement","start":4758,"end":5116,"argument":{"type":"CallExpression","start":4765,"end":5115,"callee":{"type":"MemberExpression","start":4765,"end":4791,"object":{"type":"Identifier","start":4765,"end":4773,"name":"httpCall"},"property":{"type":"Identifier","start":4787,"end":4791,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":4792,"end":4899,"callee":{"type":"Identifier","start":4792,"end":4795,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":4796,"end":4898,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4797,"end":4800,"name":"res"}],"body":{"type":"ConditionalExpression","start":4805,"end":4898,"test":{"type":"BinaryExpression","start":4805,"end":4842,"left":{"type":"CallExpression","start":4805,"end":4835,"callee":{"type":"MemberExpression","start":4805,"end":4823,"object":{"type":"ArrayExpression","start":4805,"end":4815,"elements":[{"type":"Literal","start":4806,"end":4809,"value":200,"raw":"200"},{"type":"Literal","start":4811,"end":4814,"value":201,"raw":"201"}]},"property":{"type":"Identifier","start":4816,"end":4823,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":4824,"end":4834,"object":{"type":"Identifier","start":4824,"end":4827,"name":"res"},"property":{"type":"Identifier","start":4828,"end":4834,"name":"status"},"computed":false,"optional":false}],"optional":false},"operator":"!==","right":{"type":"UnaryExpression","start":4840,"end":4842,"operator":"-","prefix":true,"argument":{"type":"Literal","start":4841,"end":4842,"value":1,"raw":"1"}}},"consequent":{"type":"CallExpression","start":4845,"end":4890,"callee":{"type":"MemberExpression","start":4845,"end":4867,"object":{"type":"ThisExpression","start":4845,"end":4849},"property":{"type":"Identifier","start":4850,"end":4867,"name":"extractRecordData"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4868,"end":4871,"name":"res"},{"type":"Identifier","start":4873,"end":4882,"name":"modelType"},{"type":"Identifier","start":4884,"end":4889,"name":"model"}],"optional":false},"alternate":{"type":"Identifier","start":4893,"end":4898,"name":"model"}}}],"optional":false},{"type":"CallExpression","start":4901,"end":5054,"callee":{"type":"Identifier","start":4901,"end":4911,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":4912,"end":5053,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4913,"end":4916,"name":"res"}],"body":{"type":"BlockStatement","start":4921,"end":5053,"body":[{"type":"IfStatement","start":4935,"end":5001,"test":{"type":"BinaryExpression","start":4939,"end":4950,"left":{"type":"Identifier","start":4939,"end":4942,"name":"res"},"operator":"==","right":{"type":"Literal","start":4946,"end":4950,"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":4952,"end":5001,"body":[{"type":"ReturnStatement","start":4970,"end":4987,"argument":{"type":"CallExpression","start":4977,"end":4986,"callee":{"type":"Identifier","start":4977,"end":4979,"name":"of"},"arguments":[{"type":"Identifier","start":4980,"end":4985,"name":"model"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":5014,"end":5043,"argument":{"type":"CallExpression","start":5021,"end":5042,"callee":{"type":"MemberExpression","start":5021,"end":5037,"object":{"type":"ThisExpression","start":5021,"end":5025},"property":{"type":"Identifier","start":5026,"end":5037,"name":"handleError"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5038,"end":5041,"name":"res"}],"optional":false}}]}}],"optional":false},{"type":"CallExpression","start":5056,"end":5114,"callee":{"type":"Identifier","start":5056,"end":5059,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":5060,"end":5113,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5061,"end":5064,"name":"res"}],"body":{"type":"CallExpression","start":5069,"end":5113,"callee":{"type":"MemberExpression","start":5069,"end":5093,"object":{"type":"ThisExpression","start":5069,"end":5073},"property":{"type":"Identifier","start":5074,"end":5093,"name":"updateRelationships"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5094,"end":5097,"name":"res"},{"type":"Identifier","start":5099,"end":5112,"name":"relationships"}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":5127,"end":5435,"static":false,"computed":false,"key":{"type":"Identifier","start":5127,"end":5139,"name":"deleteRecord"},"kind":"method","value":{"type":"FunctionExpression","start":5139,"end":5435,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5140,"end":5149,"name":"modelType"},{"type":"Identifier","start":5151,"end":5153,"name":"id"},{"type":"Identifier","start":5155,"end":5162,"name":"headers"},{"type":"Identifier","start":5164,"end":5173,"name":"customUrl"}],"body":{"type":"BlockStatement","start":5175,"end":5435,"body":[{"type":"VariableDeclaration","start":5185,"end":5246,"declarations":[{"type":"VariableDeclarator","start":5191,"end":5245,"id":{"type":"Identifier","start":5191,"end":5205,"name":"requestOptions"},"init":{"type":"CallExpression","start":5208,"end":5245,"callee":{"type":"MemberExpression","start":5208,"end":5232,"object":{"type":"ThisExpression","start":5208,"end":5212},"property":{"type":"Identifier","start":5213,"end":5232,"name":"buildRequestOptions"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":5233,"end":5244,"properties":[{"type":"Property","start":5235,"end":5242,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5235,"end":5242,"name":"headers"},"kind":"init","value":{"type":"Identifier","start":5235,"end":5242,"name":"headers"}}]}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":5255,"end":5313,"declarations":[{"type":"VariableDeclarator","start":5261,"end":5312,"id":{"type":"Identifier","start":5261,"end":5264,"name":"url"},"init":{"type":"CallExpression","start":5267,"end":5312,"callee":{"type":"MemberExpression","start":5267,"end":5280,"object":{"type":"ThisExpression","start":5267,"end":5271},"property":{"type":"Identifier","start":5272,"end":5280,"name":"buildUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5281,"end":5290,"name":"modelType"},{"type":"Literal","start":5292,"end":5296,"value":null,"raw":"null"},{"type":"Identifier","start":5298,"end":5300,"name":"id"},{"type":"Identifier","start":5302,"end":5311,"name":"customUrl"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":5322,"end":5429,"argument":{"type":"CallExpression","start":5329,"end":5428,"callee":{"type":"MemberExpression","start":5329,"end":5384,"object":{"type":"CallExpression","start":5329,"end":5366,"callee":{"type":"MemberExpression","start":5329,"end":5345,"object":{"type":"MemberExpression","start":5329,"end":5338,"object":{"type":"ThisExpression","start":5329,"end":5333},"property":{"type":"Identifier","start":5334,"end":5338,"name":"http"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5339,"end":5345,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5346,"end":5349,"name":"url"},{"type":"Identifier","start":5351,"end":5365,"name":"requestOptions"}],"optional":false},"property":{"type":"Identifier","start":5380,"end":5384,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":5385,"end":5427,"callee":{"type":"Identifier","start":5385,"end":5395,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":5396,"end":5426,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5397,"end":5400,"name":"res"}],"body":{"type":"CallExpression","start":5405,"end":5426,"callee":{"type":"MemberExpression","start":5405,"end":5421,"object":{"type":"ThisExpression","start":5405,"end":5409},"property":{"type":"Identifier","start":5410,"end":5421,"name":"handleError"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5422,"end":5425,"name":"res"}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":5440,"end":5632,"static":false,"computed":false,"key":{"type":"Identifier","start":5440,"end":5450,"name":"peekRecord"},"kind":"method","value":{"type":"FunctionExpression","start":5450,"end":5632,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5451,"end":5460,"name":"modelType"},{"type":"Identifier","start":5462,"end":5464,"name":"id"}],"body":{"type":"BlockStatement","start":5466,"end":5632,"body":[{"type":"VariableDeclaration","start":5476,"end":5547,"declarations":[{"type":"VariableDeclarator","start":5482,"end":5546,"id":{"type":"Identifier","start":5482,"end":5486,"name":"type"},"init":{"type":"MemberExpression","start":5489,"end":5546,"object":{"type":"CallExpression","start":5489,"end":5541,"callee":{"type":"MemberExpression","start":5489,"end":5508,"object":{"type":"Identifier","start":5489,"end":5496,"name":"Reflect"},"property":{"type":"Identifier","start":5497,"end":5508,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5509,"end":5529,"value":"JsonApiModelConfig","raw":"'JsonApiModelConfig'"},{"type":"Identifier","start":5531,"end":5540,"name":"modelType"}],"optional":false},"property":{"type":"Identifier","start":5542,"end":5546,"name":"type"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":5556,"end":5626,"argument":{"type":"ConditionalExpression","start":5563,"end":5625,"test":{"type":"MemberExpression","start":5563,"end":5587,"object":{"type":"MemberExpression","start":5563,"end":5581,"object":{"type":"ThisExpression","start":5563,"end":5567},"property":{"type":"Identifier","start":5568,"end":5581,"name":"internalStore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5582,"end":5586,"name":"type"},"computed":true,"optional":false},"consequent":{"type":"MemberExpression","start":5590,"end":5618,"object":{"type":"MemberExpression","start":5590,"end":5614,"object":{"type":"MemberExpression","start":5590,"end":5608,"object":{"type":"ThisExpression","start":5590,"end":5594},"property":{"type":"Identifier","start":5595,"end":5608,"name":"internalStore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5609,"end":5613,"name":"type"},"computed":true,"optional":false},"property":{"type":"Identifier","start":5615,"end":5617,"name":"id"},"computed":true,"optional":false},"alternate":{"type":"Literal","start":5621,"end":5625,"value":null,"raw":"null"}}}]}}},{"type":"MethodDefinition","start":5637,"end":5880,"static":false,"computed":false,"key":{"type":"Identifier","start":5637,"end":5644,"name":"peekAll"},"kind":"method","value":{"type":"FunctionExpression","start":5644,"end":5880,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5645,"end":5654,"name":"modelType"}],"body":{"type":"BlockStatement","start":5656,"end":5880,"body":[{"type":"VariableDeclaration","start":5666,"end":5737,"declarations":[{"type":"VariableDeclarator","start":5672,"end":5736,"id":{"type":"Identifier","start":5672,"end":5676,"name":"type"},"init":{"type":"MemberExpression","start":5679,"end":5736,"object":{"type":"CallExpression","start":5679,"end":5731,"callee":{"type":"MemberExpression","start":5679,"end":5698,"object":{"type":"Identifier","start":5679,"end":5686,"name":"Reflect"},"property":{"type":"Identifier","start":5687,"end":5698,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5699,"end":5719,"value":"JsonApiModelConfig","raw":"'JsonApiModelConfig'"},{"type":"Identifier","start":5721,"end":5730,"name":"modelType"}],"optional":false},"property":{"type":"Identifier","start":5732,"end":5736,"name":"type"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":5746,"end":5789,"declarations":[{"type":"VariableDeclarator","start":5752,"end":5788,"id":{"type":"Identifier","start":5752,"end":5761,"name":"typeStore"},"init":{"type":"MemberExpression","start":5764,"end":5788,"object":{"type":"MemberExpression","start":5764,"end":5782,"object":{"type":"ThisExpression","start":5764,"end":5768},"property":{"type":"Identifier","start":5769,"end":5782,"name":"internalStore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5783,"end":5787,"name":"type"},"computed":true,"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":5798,"end":5874,"argument":{"type":"ConditionalExpression","start":5805,"end":5873,"test":{"type":"Identifier","start":5805,"end":5814,"name":"typeStore"},"consequent":{"type":"CallExpression","start":5817,"end":5868,"callee":{"type":"MemberExpression","start":5817,"end":5843,"object":{"type":"CallExpression","start":5817,"end":5839,"callee":{"type":"MemberExpression","start":5817,"end":5828,"object":{"type":"Identifier","start":5817,"end":5823,"name":"Object"},"property":{"type":"Identifier","start":5824,"end":5828,"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5829,"end":5838,"name":"typeStore"}],"optional":false},"property":{"type":"Identifier","start":5840,"end":5843,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":5844,"end":5867,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5845,"end":5848,"name":"key"}],"body":{"type":"MemberExpression","start":5853,"end":5867,"object":{"type":"Identifier","start":5853,"end":5862,"name":"typeStore"},"property":{"type":"Identifier","start":5863,"end":5866,"name":"key"},"computed":true,"optional":false}}],"optional":false},"alternate":{"type":"ArrayExpression","start":5871,"end":5873,"elements":[]}}}]}}},{"type":"MethodDefinition","start":5885,"end":6068,"static":false,"computed":false,"key":{"type":"Identifier","start":5885,"end":5901,"name":"deserializeModel"},"kind":"method","value":{"type":"FunctionExpression","start":5901,"end":6068,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5902,"end":5911,"name":"modelType"},{"type":"Identifier","start":5913,"end":5917,"name":"data"}],"body":{"type":"BlockStatement","start":5919,"end":6068,"body":[{"type":"ExpressionStatement","start":5929,"end":6020,"expression":{"type":"AssignmentExpression","start":5929,"end":6019,"operator":"=","left":{"type":"MemberExpression","start":5929,"end":5944,"object":{"type":"Identifier","start":5929,"end":5933,"name":"data"},"property":{"type":"Identifier","start":5934,"end":5944,"name":"attributes"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":5947,"end":6019,"callee":{"type":"MemberExpression","start":5947,"end":5991,"object":{"type":"ThisExpression","start":5947,"end":5951},"property":{"type":"Identifier","start":5952,"end":5991,"name":"transformSerializedNamesToPropertyNames"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5992,"end":6001,"name":"modelType"},{"type":"MemberExpression","start":6003,"end":6018,"object":{"type":"Identifier","start":6003,"end":6007,"name":"data"},"property":{"type":"Identifier","start":6008,"end":6018,"name":"attributes"},"computed":false,"optional":false}],"optional":false}}},{"type":"ReturnStatement","start":6029,"end":6062,"argument":{"type":"NewExpression","start":6036,"end":6061,"callee":{"type":"Identifier","start":6040,"end":6049,"name":"modelType"},"arguments":[{"type":"ThisExpression","start":6050,"end":6054},{"type":"Identifier","start":6056,"end":6060,"name":"data"}]}}]}}},{"type":"MethodDefinition","start":6073,"end":6472,"static":false,"computed":false,"key":{"type":"Identifier","start":6073,"end":6083,"name":"addToStore"},"kind":"method","value":{"type":"FunctionExpression","start":6083,"end":6472,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6084,"end":6097,"name":"modelOrModels"}],"body":{"type":"BlockStatement","start":6099,"end":6472,"body":[{"type":"VariableDeclaration","start":6109,"end":6187,"declarations":[{"type":"VariableDeclarator","start":6115,"end":6186,"id":{"type":"Identifier","start":6115,"end":6121,"name":"models"},"init":{"type":"ConditionalExpression","start":6124,"end":6186,"test":{"type":"CallExpression","start":6124,"end":6152,"callee":{"type":"MemberExpression","start":6124,"end":6137,"object":{"type":"Identifier","start":6124,"end":6129,"name":"Array"},"property":{"type":"Identifier","start":6130,"end":6137,"name":"isArray"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6138,"end":6151,"name":"modelOrModels"}],"optional":false},"consequent":{"type":"Identifier","start":6155,"end":6168,"name":"modelOrModels"},"alternate":{"type":"ArrayExpression","start":6171,"end":6186,"elements":[{"type":"Identifier","start":6172,"end":6185,"name":"modelOrModels"}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":6196,"end":6236,"declarations":[{"type":"VariableDeclarator","start":6202,"end":6235,"id":{"type":"Identifier","start":6202,"end":6206,"name":"type"},"init":{"type":"MemberExpression","start":6209,"end":6235,"object":{"type":"MemberExpression","start":6209,"end":6230,"object":{"type":"MemberExpression","start":6209,"end":6218,"object":{"type":"Identifier","start":6209,"end":6215,"name":"models"},"property":{"type":"Literal","start":6216,"end":6217,"value":0,"raw":"0"},"computed":true,"optional":false},"property":{"type":"Identifier","start":6219,"end":6230,"name":"modelConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6231,"end":6235,"name":"type"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":6245,"end":6286,"declarations":[{"type":"VariableDeclarator","start":6249,"end":6285,"id":{"type":"Identifier","start":6249,"end":6258,"name":"typeStore"},"init":{"type":"MemberExpression","start":6261,"end":6285,"object":{"type":"MemberExpression","start":6261,"end":6279,"object":{"type":"ThisExpression","start":6261,"end":6265},"property":{"type":"Identifier","start":6266,"end":6279,"name":"internalStore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6280,"end":6284,"name":"type"},"computed":true,"optional":false}}],"kind":"let"},{"type":"IfStatement","start":6295,"end":6377,"test":{"type":"UnaryExpression","start":6299,"end":6309,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":6300,"end":6309,"name":"typeStore"}},"consequent":{"type":"BlockStatement","start":6311,"end":6377,"body":[{"type":"ExpressionStatement","start":6325,"end":6367,"expression":{"type":"AssignmentExpression","start":6325,"end":6366,"operator":"=","left":{"type":"Identifier","start":6325,"end":6334,"name":"typeStore"},"right":{"type":"AssignmentExpression","start":6337,"end":6366,"operator":"=","left":{"type":"MemberExpression","start":6337,"end":6361,"object":{"type":"MemberExpression","start":6337,"end":6355,"object":{"type":"ThisExpression","start":6337,"end":6341},"property":{"type":"Identifier","start":6342,"end":6355,"name":"internalStore"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6356,"end":6360,"name":"type"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":6364,"end":6366,"properties":[]}}}}]},"alternate":null},{"type":"ForOfStatement","start":6386,"end":6466,"await":false,"left":{"type":"VariableDeclaration","start":6391,"end":6402,"declarations":[{"type":"VariableDeclarator","start":6397,"end":6402,"id":{"type":"Identifier","start":6397,"end":6402,"name":"model"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":6406,"end":6412,"name":"models"},"body":{"type":"BlockStatement","start":6414,"end":6466,"body":[{"type":"ExpressionStatement","start":6428,"end":6456,"expression":{"type":"AssignmentExpression","start":6428,"end":6455,"operator":"=","left":{"type":"MemberExpression","start":6428,"end":6447,"object":{"type":"Identifier","start":6428,"end":6437,"name":"typeStore"},"property":{"type":"MemberExpression","start":6438,"end":6446,"object":{"type":"Identifier","start":6438,"end":6443,"name":"model"},"property":{"type":"Identifier","start":6444,"end":6446,"name":"id"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"Identifier","start":6450,"end":6455,"name":"model"}}}]}}]}}},{"type":"MethodDefinition","start":6477,"end":7021,"static":false,"computed":false,"key":{"type":"Identifier","start":6477,"end":6516,"name":"transformSerializedNamesToPropertyNames"},"kind":"method","value":{"type":"FunctionExpression","start":6516,"end":7021,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6517,"end":6526,"name":"modelType"},{"type":"Identifier","start":6528,"end":6538,"name":"attributes"}],"body":{"type":"BlockStatement","start":6540,"end":7021,"body":[{"type":"VariableDeclaration","start":6550,"end":6635,"declarations":[{"type":"VariableDeclarator","start":6556,"end":6634,"id":{"type":"Identifier","start":6556,"end":6584,"name":"serializedNameToPropertyName"},"init":{"type":"CallExpression","start":6587,"end":6634,"callee":{"type":"MemberExpression","start":6587,"end":6613,"object":{"type":"ThisExpression","start":6587,"end":6591},"property":{"type":"Identifier","start":6592,"end":6613,"name":"getModelPropertyNames"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":6614,"end":6633,"object":{"type":"Identifier","start":6614,"end":6623,"name":"modelType"},"property":{"type":"Identifier","start":6624,"end":6633,"name":"prototype"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":6644,"end":6666,"declarations":[{"type":"VariableDeclarator","start":6650,"end":6665,"id":{"type":"Identifier","start":6650,"end":6660,"name":"properties"},"init":{"type":"ObjectExpression","start":6663,"end":6665,"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":6675,"end":6988,"expression":{"type":"CallExpression","start":6675,"end":6987,"callee":{"type":"MemberExpression","start":6675,"end":6724,"object":{"type":"CallExpression","start":6675,"end":6716,"callee":{"type":"MemberExpression","start":6675,"end":6686,"object":{"type":"Identifier","start":6675,"end":6681,"name":"Object"},"property":{"type":"Identifier","start":6682,"end":6686,"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6687,"end":6715,"name":"serializedNameToPropertyName"}],"optional":false},"property":{"type":"Identifier","start":6717,"end":6724,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":6725,"end":6986,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6726,"end":6740,"name":"serializedName"}],"body":{"type":"BlockStatement","start":6745,"end":6986,"body":[{"type":"IfStatement","start":6759,"end":6976,"test":{"type":"LogicalExpression","start":6763,"end":6856,"left":{"type":"LogicalExpression","start":6763,"end":6812,"left":{"type":"Identifier","start":6763,"end":6773,"name":"attributes"},"operator":"&&","right":{"type":"BinaryExpression","start":6777,"end":6812,"left":{"type":"MemberExpression","start":6777,"end":6803,"object":{"type":"Identifier","start":6777,"end":6787,"name":"attributes"},"property":{"type":"Identifier","start":6788,"end":6802,"name":"serializedName"},"computed":true,"optional":false},"operator":"!==","right":{"type":"Literal","start":6808,"end":6812,"value":null,"raw":"null"}}},"operator":"&&","right":{"type":"BinaryExpression","start":6816,"end":6856,"left":{"type":"MemberExpression","start":6816,"end":6842,"object":{"type":"Identifier","start":6816,"end":6826,"name":"attributes"},"property":{"type":"Identifier","start":6827,"end":6841,"name":"serializedName"},"computed":true,"optional":false},"operator":"!==","right":{"type":"Identifier","start":6847,"end":6856,"name":"undefined"}}},"consequent":{"type":"BlockStatement","start":6858,"end":6976,"body":[{"type":"ExpressionStatement","start":6876,"end":6962,"expression":{"type":"AssignmentExpression","start":6876,"end":6961,"operator":"=","left":{"type":"MemberExpression","start":6876,"end":6932,"object":{"type":"Identifier","start":6876,"end":6886,"name":"properties"},"property":{"type":"MemberExpression","start":6887,"end":6931,"object":{"type":"Identifier","start":6887,"end":6915,"name":"serializedNameToPropertyName"},"property":{"type":"Identifier","start":6916,"end":6930,"name":"serializedName"},"computed":true,"optional":false},"computed":true,"optional":false},"right":{"type":"MemberExpression","start":6935,"end":6961,"object":{"type":"Identifier","start":6935,"end":6945,"name":"attributes"},"property":{"type":"Identifier","start":6946,"end":6960,"name":"serializedName"},"computed":true,"optional":false}}}]},"alternate":null}]}}],"optional":false}},{"type":"ReturnStatement","start":6997,"end":7015,"argument":{"type":"Identifier","start":7004,"end":7014,"name":"properties"}}]}}},{"type":"MethodDefinition","start":7026,"end":7796,"static":false,"computed":false,"key":{"type":"Identifier","start":7026,"end":7034,"name":"buildUrl"},"kind":"method","value":{"type":"FunctionExpression","start":7034,"end":7796,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7035,"end":7044,"name":"modelType"},{"type":"Identifier","start":7046,"end":7052,"name":"params"},{"type":"Identifier","start":7054,"end":7056,"name":"id"},{"type":"Identifier","start":7058,"end":7067,"name":"customUrl"}],"body":{"type":"BlockStatement","start":7069,"end":7796,"body":[{"type":"VariableDeclaration","start":7152,"end":7199,"declarations":[{"type":"VariableDeclarator","start":7158,"end":7198,"id":{"type":"Identifier","start":7158,"end":7169,"name":"queryParams"},"init":{"type":"CallExpression","start":7172,"end":7198,"callee":{"type":"MemberExpression","start":7172,"end":7190,"object":{"type":"ThisExpression","start":7172,"end":7176},"property":{"type":"Identifier","start":7177,"end":7190,"name":"toQueryString"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7191,"end":7197,"name":"params"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":7208,"end":7310,"test":{"type":"Identifier","start":7212,"end":7221,"name":"customUrl"},"consequent":{"type":"BlockStatement","start":7223,"end":7310,"body":[{"type":"ReturnStatement","start":7237,"end":7300,"argument":{"type":"ConditionalExpression","start":7244,"end":7299,"test":{"type":"Identifier","start":7244,"end":7255,"name":"queryParams"},"consequent":{"type":"TemplateLiteral","start":7258,"end":7287,"expressions":[{"type":"Identifier","start":7261,"end":7270,"name":"customUrl"},{"type":"Identifier","start":7274,"end":7285,"name":"queryParams"}],"quasis":[{"type":"TemplateElement","start":7259,"end":7259,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":7271,"end":7272,"value":{"raw":"?","cooked":"?"},"tail":false},{"type":"TemplateElement","start":7286,"end":7286,"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"Identifier","start":7290,"end":7299,"name":"customUrl"}}}]},"alternate":null},{"type":"VariableDeclaration","start":7319,"end":7392,"declarations":[{"type":"VariableDeclarator","start":7325,"end":7391,"id":{"type":"Identifier","start":7325,"end":7336,"name":"modelConfig"},"init":{"type":"CallExpression","start":7339,"end":7391,"callee":{"type":"MemberExpression","start":7339,"end":7358,"object":{"type":"Identifier","start":7339,"end":7346,"name":"Reflect"},"property":{"type":"Identifier","start":7347,"end":7358,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7359,"end":7379,"value":"JsonApiModelConfig","raw":"'JsonApiModelConfig'"},{"type":"Identifier","start":7381,"end":7390,"name":"modelType"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":7401,"end":7469,"declarations":[{"type":"VariableDeclarator","start":7407,"end":7468,"id":{"type":"Identifier","start":7407,"end":7414,"name":"baseUrl"},"init":{"type":"LogicalExpression","start":7417,"end":7468,"left":{"type":"MemberExpression","start":7417,"end":7436,"object":{"type":"Identifier","start":7417,"end":7428,"name":"modelConfig"},"property":{"type":"Identifier","start":7429,"end":7436,"name":"baseUrl"},"computed":false,"optional":false},"operator":"||","right":{"type":"MemberExpression","start":7440,"end":7468,"object":{"type":"MemberExpression","start":7440,"end":7460,"object":{"type":"ThisExpression","start":7440,"end":7444},"property":{"type":"Identifier","start":7445,"end":7460,"name":"datastoreConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7461,"end":7468,"name":"baseUrl"},"computed":false,"optional":false}}}],"kind":"const"},{"type":"VariableDeclaration","start":7478,"end":7555,"declarations":[{"type":"VariableDeclarator","start":7484,"end":7554,"id":{"type":"Identifier","start":7484,"end":7494,"name":"apiVersion"},"init":{"type":"LogicalExpression","start":7497,"end":7554,"left":{"type":"MemberExpression","start":7497,"end":7519,"object":{"type":"Identifier","start":7497,"end":7508,"name":"modelConfig"},"property":{"type":"Identifier","start":7509,"end":7519,"name":"apiVersion"},"computed":false,"optional":false},"operator":"||","right":{"type":"MemberExpression","start":7523,"end":7554,"object":{"type":"MemberExpression","start":7523,"end":7543,"object":{"type":"ThisExpression","start":7523,"end":7527},"property":{"type":"Identifier","start":7528,"end":7543,"name":"datastoreConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7544,"end":7554,"name":"apiVersion"},"computed":false,"optional":false}}}],"kind":"const"},{"type":"VariableDeclaration","start":7564,"end":7638,"declarations":[{"type":"VariableDeclarator","start":7570,"end":7637,"id":{"type":"Identifier","start":7570,"end":7586,"name":"modelEndpointUrl"},"init":{"type":"LogicalExpression","start":7589,"end":7637,"left":{"type":"MemberExpression","start":7589,"end":7617,"object":{"type":"Identifier","start":7589,"end":7600,"name":"modelConfig"},"property":{"type":"Identifier","start":7601,"end":7617,"name":"modelEndpointUrl"},"computed":false,"optional":false},"operator":"||","right":{"type":"MemberExpression","start":7621,"end":7637,"object":{"type":"Identifier","start":7621,"end":7632,"name":"modelConfig"},"property":{"type":"Identifier","start":7633,"end":7637,"name":"type"},"computed":false,"optional":false}}}],"kind":"const"},{"type":"VariableDeclaration","start":7647,"end":7730,"declarations":[{"type":"VariableDeclarator","start":7653,"end":7729,"id":{"type":"Identifier","start":7653,"end":7656,"name":"url"},"init":{"type":"CallExpression","start":7659,"end":7729,"callee":{"type":"MemberExpression","start":7659,"end":7724,"object":{"type":"CallExpression","start":7659,"end":7719,"callee":{"type":"MemberExpression","start":7659,"end":7709,"object":{"type":"ArrayExpression","start":7659,"end":7702,"elements":[{"type":"Identifier","start":7660,"end":7667,"name":"baseUrl"},{"type":"Identifier","start":7669,"end":7679,"name":"apiVersion"},{"type":"Identifier","start":7681,"end":7697,"name":"modelEndpointUrl"},{"type":"Identifier","start":7699,"end":7701,"name":"id"}]},"property":{"type":"Identifier","start":7703,"end":7709,"name":"filter"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7710,"end":7718,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7711,"end":7712,"name":"x"}],"body":{"type":"Identifier","start":7717,"end":7718,"name":"x"}}],"optional":false},"property":{"type":"Identifier","start":7720,"end":7724,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7725,"end":7728,"value":"/","raw":"'/'"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":7739,"end":7790,"argument":{"type":"ConditionalExpression","start":7746,"end":7789,"test":{"type":"Identifier","start":7746,"end":7757,"name":"queryParams"},"consequent":{"type":"TemplateLiteral","start":7760,"end":7783,"expressions":[{"type":"Identifier","start":7763,"end":7766,"name":"url"},{"type":"Identifier","start":7770,"end":7781,"name":"queryParams"}],"quasis":[{"type":"TemplateElement","start":7761,"end":7761,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":7767,"end":7768,"value":{"raw":"?","cooked":"?"},"tail":false},{"type":"TemplateElement","start":7782,"end":7782,"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"Identifier","start":7786,"end":7789,"name":"url"}}}]}}},{"type":"MethodDefinition","start":7801,"end":9809,"static":false,"computed":false,"key":{"type":"Identifier","start":7801,"end":7817,"name":"getRelationships"},"kind":"method","value":{"type":"FunctionExpression","start":7817,"end":9809,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7818,"end":7822,"name":"data"}],"body":{"type":"BlockStatement","start":7824,"end":9809,"body":[{"type":"VariableDeclaration","start":7834,"end":7852,"declarations":[{"type":"VariableDeclarator","start":7838,"end":7851,"id":{"type":"Identifier","start":7838,"end":7851,"name":"relationships"},"init":null}],"kind":"let"},{"type":"VariableDeclaration","start":7861,"end":7932,"declarations":[{"type":"VariableDeclarator","start":7867,"end":7931,"id":{"type":"Identifier","start":7867,"end":7884,"name":"belongsToMetadata"},"init":{"type":"LogicalExpression","start":7887,"end":7931,"left":{"type":"CallExpression","start":7887,"end":7925,"callee":{"type":"MemberExpression","start":7887,"end":7906,"object":{"type":"Identifier","start":7887,"end":7894,"name":"Reflect"},"property":{"type":"Identifier","start":7895,"end":7906,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7907,"end":7918,"value":"BelongsTo","raw":"'BelongsTo'"},{"type":"Identifier","start":7920,"end":7924,"name":"data"}],"optional":false},"operator":"||","right":{"type":"ArrayExpression","start":7929,"end":7931,"elements":[]}}}],"kind":"const"},{"type":"VariableDeclaration","start":7941,"end":8008,"declarations":[{"type":"VariableDeclarator","start":7947,"end":8007,"id":{"type":"Identifier","start":7947,"end":7962,"name":"hasManyMetadata"},"init":{"type":"LogicalExpression","start":7965,"end":8007,"left":{"type":"CallExpression","start":7965,"end":8001,"callee":{"type":"MemberExpression","start":7965,"end":7984,"object":{"type":"Identifier","start":7965,"end":7972,"name":"Reflect"},"property":{"type":"Identifier","start":7973,"end":7984,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7985,"end":7994,"value":"HasMany","raw":"'HasMany'"},{"type":"Identifier","start":7996,"end":8000,"name":"data"}],"optional":false},"operator":"||","right":{"type":"ArrayExpression","start":8005,"end":8007,"elements":[]}}}],"kind":"const"},{"type":"ForInStatement","start":8017,"end":9773,"left":{"type":"VariableDeclaration","start":8022,"end":8031,"declarations":[{"type":"VariableDeclarator","start":8028,"end":8031,"id":{"type":"Identifier","start":8028,"end":8031,"name":"key"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":8035,"end":8039,"name":"data"},"body":{"type":"BlockStatement","start":8041,"end":9773,"body":[{"type":"IfStatement","start":8055,"end":9763,"test":{"type":"CallExpression","start":8059,"end":8083,"callee":{"type":"MemberExpression","start":8059,"end":8078,"object":{"type":"Identifier","start":8059,"end":8063,"name":"data"},"property":{"type":"Identifier","start":8064,"end":8078,"name":"hasOwnProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8079,"end":8082,"name":"key"}],"optional":false},"consequent":{"type":"BlockStatement","start":8085,"end":9763,"body":[{"type":"IfStatement","start":8103,"end":9749,"test":{"type":"BinaryExpression","start":8107,"end":8140,"left":{"type":"MemberExpression","start":8107,"end":8116,"object":{"type":"Identifier","start":8107,"end":8111,"name":"data"},"property":{"type":"Identifier","start":8112,"end":8115,"name":"key"},"computed":true,"optional":false},"operator":"instanceof","right":{"type":"Identifier","start":8128,"end":8140,"name":"JsonApiModel"}},"consequent":{"type":"BlockStatement","start":8142,"end":8609,"body":[{"type":"ExpressionStatement","start":8164,"end":8200,"expression":{"type":"AssignmentExpression","start":8164,"end":8199,"operator":"=","left":{"type":"Identifier","start":8164,"end":8177,"name":"relationships"},"right":{"type":"LogicalExpression","start":8180,"end":8199,"left":{"type":"Identifier","start":8180,"end":8193,"name":"relationships"},"operator":"||","right":{"type":"ObjectExpression","start":8197,"end":8199,"properties":[]}}}},{"type":"IfStatement","start":8221,"end":8591,"test":{"type":"MemberExpression","start":8225,"end":8237,"object":{"type":"MemberExpression","start":8225,"end":8234,"object":{"type":"Identifier","start":8225,"end":8229,"name":"data"},"property":{"type":"Identifier","start":8230,"end":8233,"name":"key"},"computed":true,"optional":false},"property":{"type":"Identifier","start":8235,"end":8237,"name":"id"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":8239,"end":8591,"body":[{"type":"VariableDeclaration","start":8265,"end":8336,"declarations":[{"type":"VariableDeclarator","start":8271,"end":8335,"id":{"type":"Identifier","start":8271,"end":8277,"name":"entity"},"init":{"type":"CallExpression","start":8280,"end":8335,"callee":{"type":"MemberExpression","start":8280,"end":8302,"object":{"type":"Identifier","start":8280,"end":8297,"name":"belongsToMetadata"},"property":{"type":"Identifier","start":8298,"end":8302,"name":"find"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8303,"end":8334,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8304,"end":8306,"name":"it"}],"body":{"type":"BinaryExpression","start":8311,"end":8334,"left":{"type":"MemberExpression","start":8311,"end":8326,"object":{"type":"Identifier","start":8311,"end":8313,"name":"it"},"property":{"type":"Identifier","start":8314,"end":8326,"name":"propertyName"},"computed":false,"optional":false},"operator":"===","right":{"type":"Identifier","start":8331,"end":8334,"name":"key"}}}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":8361,"end":8405,"declarations":[{"type":"VariableDeclarator","start":8367,"end":8404,"id":{"type":"Identifier","start":8367,"end":8382,"name":"relationshipKey"},"init":{"type":"MemberExpression","start":8385,"end":8404,"object":{"type":"Identifier","start":8385,"end":8391,"name":"entity"},"property":{"type":"Identifier","start":8392,"end":8404,"name":"relationship"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":8430,"end":8569,"expression":{"type":"AssignmentExpression","start":8430,"end":8568,"operator":"=","left":{"type":"MemberExpression","start":8430,"end":8460,"object":{"type":"Identifier","start":8430,"end":8443,"name":"relationships"},"property":{"type":"Identifier","start":8444,"end":8459,"name":"relationshipKey"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":8463,"end":8568,"properties":[{"type":"Property","start":8493,"end":8542,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8493,"end":8497,"name":"data"},"value":{"type":"CallExpression","start":8499,"end":8542,"callee":{"type":"MemberExpression","start":8499,"end":8531,"object":{"type":"ThisExpression","start":8499,"end":8503},"property":{"type":"Identifier","start":8504,"end":8531,"name":"buildSingleRelationshipData"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":8532,"end":8541,"object":{"type":"Identifier","start":8532,"end":8536,"name":"data"},"property":{"type":"Identifier","start":8537,"end":8540,"name":"key"},"computed":true,"optional":false}],"optional":false},"kind":"init"}]}}}]},"alternate":null}]},"alternate":{"type":"IfStatement","start":8631,"end":9749,"test":{"type":"BinaryExpression","start":8635,"end":8661,"left":{"type":"MemberExpression","start":8635,"end":8644,"object":{"type":"Identifier","start":8635,"end":8639,"name":"data"},"property":{"type":"Identifier","start":8640,"end":8643,"name":"key"},"computed":true,"optional":false},"operator":"instanceof","right":{"type":"Identifier","start":8656,"end":8661,"name":"Array"}},"consequent":{"type":"BlockStatement","start":8663,"end":9338,"body":[{"type":"VariableDeclaration","start":8685,"end":8754,"declarations":[{"type":"VariableDeclarator","start":8691,"end":8753,"id":{"type":"Identifier","start":8691,"end":8697,"name":"entity"},"init":{"type":"CallExpression","start":8700,"end":8753,"callee":{"type":"MemberExpression","start":8700,"end":8720,"object":{"type":"Identifier","start":8700,"end":8715,"name":"hasManyMetadata"},"property":{"type":"Identifier","start":8716,"end":8720,"name":"find"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8721,"end":8752,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8722,"end":8724,"name":"it"}],"body":{"type":"BinaryExpression","start":8729,"end":8752,"left":{"type":"MemberExpression","start":8729,"end":8744,"object":{"type":"Identifier","start":8729,"end":8731,"name":"it"},"property":{"type":"Identifier","start":8732,"end":8744,"name":"propertyName"},"computed":false,"optional":false},"operator":"===","right":{"type":"Identifier","start":8749,"end":8752,"name":"key"}}}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":8775,"end":9320,"test":{"type":"LogicalExpression","start":8779,"end":8826,"left":{"type":"Identifier","start":8779,"end":8785,"name":"entity"},"operator":"&&","right":{"type":"CallExpression","start":8789,"end":8826,"callee":{"type":"MemberExpression","start":8789,"end":8815,"object":{"type":"ThisExpression","start":8789,"end":8793},"property":{"type":"Identifier","start":8794,"end":8815,"name":"isValidToManyRelation"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":8816,"end":8825,"object":{"type":"Identifier","start":8816,"end":8820,"name":"data"},"property":{"type":"Identifier","start":8821,"end":8824,"name":"key"},"computed":true,"optional":false}],"optional":false}},"consequent":{"type":"BlockStatement","start":8828,"end":9320,"body":[{"type":"ExpressionStatement","start":8854,"end":8890,"expression":{"type":"AssignmentExpression","start":8854,"end":8889,"operator":"=","left":{"type":"Identifier","start":8854,"end":8867,"name":"relationships"},"right":{"type":"LogicalExpression","start":8870,"end":8889,"left":{"type":"Identifier","start":8870,"end":8883,"name":"relationships"},"operator":"||","right":{"type":"ObjectExpression","start":8887,"end":8889,"properties":[]}}}},{"type":"VariableDeclaration","start":8915,"end":8959,"declarations":[{"type":"VariableDeclarator","start":8921,"end":8958,"id":{"type":"Identifier","start":8921,"end":8936,"name":"relationshipKey"},"init":{"type":"MemberExpression","start":8939,"end":8958,"object":{"type":"Identifier","start":8939,"end":8945,"name":"entity"},"property":{"type":"Identifier","start":8946,"end":8958,"name":"relationship"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":8984,"end":9161,"declarations":[{"type":"VariableDeclarator","start":8990,"end":9160,"id":{"type":"Identifier","start":8990,"end":9006,"name":"relationshipData"},"init":{"type":"CallExpression","start":9009,"end":9160,"callee":{"type":"MemberExpression","start":9009,"end":9108,"object":{"type":"CallExpression","start":9009,"end":9075,"callee":{"type":"MemberExpression","start":9009,"end":9054,"object":{"type":"MemberExpression","start":9009,"end":9018,"object":{"type":"Identifier","start":9009,"end":9013,"name":"data"},"property":{"type":"Identifier","start":9014,"end":9017,"name":"key"},"computed":true,"optional":false},"property":{"type":"Identifier","start":9048,"end":9054,"name":"filter"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9055,"end":9074,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":9056,"end":9061,"name":"model"}],"body":{"type":"MemberExpression","start":9066,"end":9074,"object":{"type":"Identifier","start":9066,"end":9071,"name":"model"},"property":{"type":"Identifier","start":9072,"end":9074,"name":"id"},"computed":false,"optional":false}}],"optional":false},"property":{"type":"Identifier","start":9105,"end":9108,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9109,"end":9159,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":9110,"end":9115,"name":"model"}],"body":{"type":"CallExpression","start":9120,"end":9159,"callee":{"type":"MemberExpression","start":9120,"end":9152,"object":{"type":"ThisExpression","start":9120,"end":9124},"property":{"type":"Identifier","start":9125,"end":9152,"name":"buildSingleRelationshipData"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9153,"end":9158,"name":"model"}],"optional":false}}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":9186,"end":9298,"expression":{"type":"AssignmentExpression","start":9186,"end":9297,"operator":"=","left":{"type":"MemberExpression","start":9186,"end":9216,"object":{"type":"Identifier","start":9186,"end":9199,"name":"relationships"},"property":{"type":"Identifier","start":9200,"end":9215,"name":"relationshipKey"},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":9219,"end":9297,"properties":[{"type":"Property","start":9249,"end":9271,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9249,"end":9253,"name":"data"},"value":{"type":"Identifier","start":9255,"end":9271,"name":"relationshipData"},"kind":"init"}]}}}]},"alternate":null}]},"alternate":{"type":"IfStatement","start":9360,"end":9749,"test":{"type":"BinaryExpression","start":9364,"end":9382,"left":{"type":"MemberExpression","start":9364,"end":9373,"object":{"type":"Identifier","start":9364,"end":9368,"name":"data"},"property":{"type":"Identifier","start":9369,"end":9372,"name":"key"},"computed":true,"optional":false},"operator":"===","right":{"type":"Literal","start":9378,"end":9382,"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":9384,"end":9749,"body":[{"type":"VariableDeclaration","start":9406,"end":9485,"declarations":[{"type":"VariableDeclarator","start":9412,"end":9484,"id":{"type":"Identifier","start":9412,"end":9418,"name":"entity"},"init":{"type":"CallExpression","start":9421,"end":9484,"callee":{"type":"MemberExpression","start":9421,"end":9443,"object":{"type":"Identifier","start":9421,"end":9438,"name":"belongsToMetadata"},"property":{"type":"Identifier","start":9439,"end":9443,"name":"find"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9444,"end":9483,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":9445,"end":9451,"name":"entity"}],"body":{"type":"BinaryExpression","start":9456,"end":9483,"left":{"type":"MemberExpression","start":9456,"end":9475,"object":{"type":"Identifier","start":9456,"end":9462,"name":"entity"},"property":{"type":"Identifier","start":9463,"end":9475,"name":"propertyName"},"computed":false,"optional":false},"operator":"===","right":{"type":"Identifier","start":9480,"end":9483,"name":"key"}}}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":9506,"end":9731,"test":{"type":"Identifier","start":9510,"end":9516,"name":"entity"},"consequent":{"type":"BlockStatement","start":9518,"end":9731,"body":[{"type":"ExpressionStatement","start":9544,"end":9580,"expression":{"type":"AssignmentExpression","start":9544,"end":9579,"operator":"=","left":{"type":"Identifier","start":9544,"end":9557,"name":"relationships"},"right":{"type":"LogicalExpression","start":9560,"end":9579,"left":{"type":"Identifier","start":9560,"end":9573,"name":"relationships"},"operator":"||","right":{"type":"ObjectExpression","start":9577,"end":9579,"properties":[]}}}},{"type":"ExpressionStatement","start":9605,"end":9709,"expression":{"type":"AssignmentExpression","start":9605,"end":9708,"operator":"=","left":{"type":"MemberExpression","start":9605,"end":9639,"object":{"type":"Identifier","start":9605,"end":9618,"name":"relationships"},"property":{"type":"MemberExpression","start":9619,"end":9638,"object":{"type":"Identifier","start":9619,"end":9625,"name":"entity"},"property":{"type":"Identifier","start":9626,"end":9638,"name":"relationship"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"ObjectExpression","start":9642,"end":9708,"properties":[{"type":"Property","start":9672,"end":9682,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9672,"end":9676,"name":"data"},"value":{"type":"Literal","start":9678,"end":9682,"value":null,"raw":"null"},"kind":"init"}]}}}]},"alternate":null}]},"alternate":null}}}]},"alternate":null}]}},{"type":"ReturnStatement","start":9782,"end":9803,"argument":{"type":"Identifier","start":9789,"end":9802,"name":"relationships"}}]}}},{"type":"MethodDefinition","start":9814,"end":10297,"static":false,"computed":false,"key":{"type":"Identifier","start":9814,"end":9835,"name":"isValidToManyRelation"},"kind":"method","value":{"type":"FunctionExpression","start":9835,"end":10297,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9836,"end":9843,"name":"objects"}],"body":{"type":"BlockStatement","start":9845,"end":10297,"body":[{"type":"IfStatement","start":9855,"end":9912,"test":{"type":"UnaryExpression","start":9859,"end":9874,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":9860,"end":9874,"object":{"type":"Identifier","start":9860,"end":9867,"name":"objects"},"property":{"type":"Identifier","start":9868,"end":9874,"name":"length"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":9876,"end":9912,"body":[{"type":"ReturnStatement","start":9890,"end":9902,"argument":{"type":"Literal","start":9897,"end":9901,"value":true,"raw":"true"}}]},"alternate":null},{"type":"VariableDeclaration","start":9921,"end":9998,"declarations":[{"type":"VariableDeclarator","start":9927,"end":9997,"id":{"type":"Identifier","start":9927,"end":9941,"name":"isJsonApiModel"},"init":{"type":"CallExpression","start":9944,"end":9997,"callee":{"type":"MemberExpression","start":9944,"end":9957,"object":{"type":"Identifier","start":9944,"end":9951,"name":"objects"},"property":{"type":"Identifier","start":9952,"end":9957,"name":"every"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9958,"end":9996,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":9959,"end":9963,"name":"item"}],"body":{"type":"BinaryExpression","start":9968,"end":9996,"left":{"type":"Identifier","start":9968,"end":9972,"name":"item"},"operator":"instanceof","right":{"type":"Identifier","start":9984,"end":9996,"name":"JsonApiModel"}}}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":10007,"end":10065,"test":{"type":"UnaryExpression","start":10011,"end":10026,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":10012,"end":10026,"name":"isJsonApiModel"}},"consequent":{"type":"BlockStatement","start":10028,"end":10065,"body":[{"type":"ReturnStatement","start":10042,"end":10055,"argument":{"type":"Literal","start":10049,"end":10054,"value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","start":10074,"end":10170,"declarations":[{"type":"VariableDeclarator","start":10080,"end":10169,"id":{"type":"Identifier","start":10080,"end":10085,"name":"types"},"init":{"type":"CallExpression","start":10088,"end":10169,"callee":{"type":"MemberExpression","start":10088,"end":10099,"object":{"type":"Identifier","start":10088,"end":10095,"name":"objects"},"property":{"type":"Identifier","start":10096,"end":10099,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":10100,"end":10168,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":10101,"end":10105,"name":"item"}],"body":{"type":"LogicalExpression","start":10110,"end":10168,"left":{"type":"MemberExpression","start":10110,"end":10143,"object":{"type":"MemberExpression","start":10110,"end":10126,"object":{"type":"Identifier","start":10110,"end":10114,"name":"item"},"property":{"type":"Identifier","start":10115,"end":10126,"name":"modelConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10127,"end":10143,"name":"modelEndpointUrl"},"computed":false,"optional":false},"operator":"||","right":{"type":"MemberExpression","start":10147,"end":10168,"object":{"type":"MemberExpression","start":10147,"end":10163,"object":{"type":"Identifier","start":10147,"end":10151,"name":"item"},"property":{"type":"Identifier","start":10152,"end":10163,"name":"modelConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10164,"end":10168,"name":"type"},"computed":false,"optional":false}}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":10179,"end":10291,"argument":{"type":"BinaryExpression","start":10186,"end":10290,"left":{"type":"MemberExpression","start":10186,"end":10284,"object":{"type":"CallExpression","start":10186,"end":10264,"callee":{"type":"MemberExpression","start":10186,"end":10211,"object":{"type":"Identifier","start":10186,"end":10191,"name":"types"},"property":{"type":"Identifier","start":10205,"end":10211,"name":"filter"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":10212,"end":10263,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":10213,"end":10217,"name":"type"},{"type":"Identifier","start":10219,"end":10224,"name":"index"},{"type":"Identifier","start":10226,"end":10230,"name":"self"}],"body":{"type":"BinaryExpression","start":10235,"end":10263,"left":{"type":"CallExpression","start":10235,"end":10253,"callee":{"type":"MemberExpression","start":10235,"end":10247,"object":{"type":"Identifier","start":10235,"end":10239,"name":"self"},"property":{"type":"Identifier","start":10240,"end":10247,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10248,"end":10252,"name":"type"}],"optional":false},"operator":"===","right":{"type":"Identifier","start":10258,"end":10263,"name":"index"}}}],"optional":false},"property":{"type":"Identifier","start":10278,"end":10284,"name":"length"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":10289,"end":10290,"value":1,"raw":"1"}}}]}}},{"type":"MethodDefinition","start":10302,"end":10772,"static":false,"computed":false,"key":{"type":"Identifier","start":10302,"end":10329,"name":"buildSingleRelationshipData"},"kind":"method","value":{"type":"FunctionExpression","start":10329,"end":10772,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10330,"end":10335,"name":"model"}],"body":{"type":"BlockStatement","start":10337,"end":10772,"body":[{"type":"VariableDeclaration","start":10347,"end":10395,"declarations":[{"type":"VariableDeclarator","start":10353,"end":10394,"id":{"type":"Identifier","start":10353,"end":10369,"name":"relationshipType"},"init":{"type":"MemberExpression","start":10372,"end":10394,"object":{"type":"MemberExpression","start":10372,"end":10389,"object":{"type":"Identifier","start":10372,"end":10377,"name":"model"},"property":{"type":"Identifier","start":10378,"end":10389,"name":"modelConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10390,"end":10394,"name":"type"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":10404,"end":10456,"declarations":[{"type":"VariableDeclarator","start":10410,"end":10455,"id":{"type":"Identifier","start":10410,"end":10426,"name":"relationShipData"},"init":{"type":"ObjectExpression","start":10429,"end":10455,"properties":[{"type":"Property","start":10431,"end":10453,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10431,"end":10435,"name":"type"},"value":{"type":"Identifier","start":10437,"end":10453,"name":"relationshipType"},"kind":"init"}]}}],"kind":"const"},{"type":"IfStatement","start":10465,"end":10733,"test":{"type":"MemberExpression","start":10469,"end":10477,"object":{"type":"Identifier","start":10469,"end":10474,"name":"model"},"property":{"type":"Identifier","start":10475,"end":10477,"name":"id"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":10479,"end":10534,"body":[{"type":"ExpressionStatement","start":10493,"end":10524,"expression":{"type":"AssignmentExpression","start":10493,"end":10523,"operator":"=","left":{"type":"MemberExpression","start":10493,"end":10512,"object":{"type":"Identifier","start":10493,"end":10509,"name":"relationShipData"},"property":{"type":"Identifier","start":10510,"end":10512,"name":"id"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":10515,"end":10523,"object":{"type":"Identifier","start":10515,"end":10520,"name":"model"},"property":{"type":"Identifier","start":10521,"end":10523,"name":"id"},"computed":false,"optional":false}}}]},"alternate":{"type":"BlockStatement","start":10548,"end":10733,"body":[{"type":"VariableDeclaration","start":10562,"end":10629,"declarations":[{"type":"VariableDeclarator","start":10568,"end":10628,"id":{"type":"Identifier","start":10568,"end":10586,"name":"attributesMetadata"},"init":{"type":"CallExpression","start":10589,"end":10628,"callee":{"type":"MemberExpression","start":10589,"end":10608,"object":{"type":"Identifier","start":10589,"end":10596,"name":"Reflect"},"property":{"type":"Identifier","start":10597,"end":10608,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":10609,"end":10620,"value":"Attribute","raw":"'Attribute'"},{"type":"Identifier","start":10622,"end":10627,"name":"model"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":10642,"end":10723,"expression":{"type":"AssignmentExpression","start":10642,"end":10722,"operator":"=","left":{"type":"MemberExpression","start":10642,"end":10669,"object":{"type":"Identifier","start":10642,"end":10658,"name":"relationShipData"},"property":{"type":"Identifier","start":10659,"end":10669,"name":"attributes"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":10672,"end":10722,"callee":{"type":"MemberExpression","start":10672,"end":10695,"object":{"type":"ThisExpression","start":10672,"end":10676},"property":{"type":"Identifier","start":10677,"end":10695,"name":"getDirtyAttributes"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10696,"end":10714,"name":"attributesMetadata"},{"type":"Identifier","start":10716,"end":10721,"name":"model"}],"optional":false}}}]}},{"type":"ReturnStatement","start":10742,"end":10766,"argument":{"type":"Identifier","start":10749,"end":10765,"name":"relationShipData"}}]}}},{"type":"MethodDefinition","start":10777,"end":11409,"static":false,"computed":false,"key":{"type":"Identifier","start":10777,"end":10793,"name":"extractQueryData"},"kind":"method","value":{"type":"FunctionExpression","start":10793,"end":11409,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10794,"end":10802,"name":"response"},{"type":"Identifier","start":10804,"end":10813,"name":"modelType"},{"type":"AssignmentPattern","start":10815,"end":10831,"left":{"type":"Identifier","start":10815,"end":10823,"name":"withMeta"},"right":{"type":"Literal","start":10826,"end":10831,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":10833,"end":11409,"body":[{"type":"VariableDeclaration","start":10843,"end":10870,"declarations":[{"type":"VariableDeclarator","start":10849,"end":10869,"id":{"type":"Identifier","start":10849,"end":10853,"name":"body"},"init":{"type":"MemberExpression","start":10856,"end":10869,"object":{"type":"Identifier","start":10856,"end":10864,"name":"response"},"property":{"type":"Identifier","start":10865,"end":10869,"name":"body"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":10879,"end":10897,"declarations":[{"type":"VariableDeclarator","start":10885,"end":10896,"id":{"type":"Identifier","start":10885,"end":10891,"name":"models"},"init":{"type":"ArrayExpression","start":10894,"end":10896,"elements":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":10906,"end":11243,"expression":{"type":"CallExpression","start":10906,"end":11242,"callee":{"type":"MemberExpression","start":10906,"end":10923,"object":{"type":"MemberExpression","start":10906,"end":10915,"object":{"type":"Identifier","start":10906,"end":10910,"name":"body"},"property":{"type":"Identifier","start":10911,"end":10915,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10916,"end":10923,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":10924,"end":11241,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10925,"end":10929,"name":"data"}],"body":{"type":"BlockStatement","start":10934,"end":11241,"body":[{"type":"VariableDeclaration","start":10948,"end":11001,"declarations":[{"type":"VariableDeclarator","start":10954,"end":11000,"id":{"type":"Identifier","start":10954,"end":10959,"name":"model"},"init":{"type":"CallExpression","start":10962,"end":11000,"callee":{"type":"MemberExpression","start":10962,"end":10983,"object":{"type":"ThisExpression","start":10962,"end":10966},"property":{"type":"Identifier","start":10967,"end":10983,"name":"deserializeModel"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10984,"end":10993,"name":"modelType"},{"type":"Identifier","start":10995,"end":10999,"name":"data"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":11014,"end":11037,"expression":{"type":"CallExpression","start":11014,"end":11036,"callee":{"type":"MemberExpression","start":11014,"end":11029,"object":{"type":"ThisExpression","start":11014,"end":11018},"property":{"type":"Identifier","start":11019,"end":11029,"name":"addToStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11030,"end":11035,"name":"model"}],"optional":false}},{"type":"IfStatement","start":11050,"end":11199,"test":{"type":"MemberExpression","start":11054,"end":11067,"object":{"type":"Identifier","start":11054,"end":11058,"name":"body"},"property":{"type":"Identifier","start":11059,"end":11067,"name":"included"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":11069,"end":11199,"body":[{"type":"ExpressionStatement","start":11087,"end":11145,"expression":{"type":"CallExpression","start":11087,"end":11144,"callee":{"type":"MemberExpression","start":11087,"end":11110,"object":{"type":"Identifier","start":11087,"end":11092,"name":"model"},"property":{"type":"Identifier","start":11093,"end":11110,"name":"syncRelationships"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11111,"end":11115,"name":"data"},{"type":"CallExpression","start":11117,"end":11143,"callee":{"type":"MemberExpression","start":11117,"end":11137,"object":{"type":"MemberExpression","start":11117,"end":11130,"object":{"type":"Identifier","start":11117,"end":11121,"name":"body"},"property":{"type":"Identifier","start":11122,"end":11130,"name":"included"},"computed":false,"optional":false},"property":{"type":"Identifier","start":11131,"end":11137,"name":"concat"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11138,"end":11142,"name":"data"}],"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":11162,"end":11185,"expression":{"type":"CallExpression","start":11162,"end":11184,"callee":{"type":"MemberExpression","start":11162,"end":11177,"object":{"type":"ThisExpression","start":11162,"end":11166},"property":{"type":"Identifier","start":11167,"end":11177,"name":"addToStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11178,"end":11183,"name":"model"}],"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":11212,"end":11231,"expression":{"type":"CallExpression","start":11212,"end":11230,"callee":{"type":"MemberExpression","start":11212,"end":11223,"object":{"type":"Identifier","start":11212,"end":11218,"name":"models"},"property":{"type":"Identifier","start":11219,"end":11223,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11224,"end":11229,"name":"model"}],"optional":false}}]}}],"optional":false}},{"type":"IfStatement","start":11252,"end":11380,"test":{"type":"LogicalExpression","start":11256,"end":11285,"left":{"type":"Identifier","start":11256,"end":11264,"name":"withMeta"},"operator":"&&","right":{"type":"BinaryExpression","start":11268,"end":11285,"left":{"type":"Identifier","start":11268,"end":11276,"name":"withMeta"},"operator":"===","right":{"type":"Literal","start":11281,"end":11285,"value":true,"raw":"true"}}},"consequent":{"type":"BlockStatement","start":11287,"end":11380,"body":[{"type":"ReturnStatement","start":11301,"end":11370,"argument":{"type":"NewExpression","start":11308,"end":11369,"callee":{"type":"Identifier","start":11312,"end":11328,"name":"JsonApiQueryData"},"arguments":[{"type":"Identifier","start":11329,"end":11335,"name":"models"},{"type":"CallExpression","start":11337,"end":11368,"callee":{"type":"MemberExpression","start":11337,"end":11351,"object":{"type":"ThisExpression","start":11337,"end":11341},"property":{"type":"Identifier","start":11342,"end":11351,"name":"parseMeta"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11352,"end":11356,"name":"body"},{"type":"Identifier","start":11358,"end":11367,"name":"modelType"}],"optional":false}]}}]},"alternate":null},{"type":"ReturnStatement","start":11389,"end":11403,"argument":{"type":"Identifier","start":11396,"end":11402,"name":"models"}}]}}},{"type":"MethodDefinition","start":11414,"end":12563,"static":false,"computed":false,"key":{"type":"Identifier","start":11414,"end":11431,"name":"extractRecordData"},"kind":"method","value":{"type":"FunctionExpression","start":11431,"end":12563,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11432,"end":11435,"name":"res"},{"type":"Identifier","start":11437,"end":11446,"name":"modelType"},{"type":"Identifier","start":11448,"end":11453,"name":"model"}],"body":{"type":"BlockStatement","start":11455,"end":12563,"body":[{"type":"VariableDeclaration","start":11465,"end":11487,"declarations":[{"type":"VariableDeclarator","start":11471,"end":11486,"id":{"type":"Identifier","start":11471,"end":11475,"name":"body"},"init":{"type":"MemberExpression","start":11478,"end":11486,"object":{"type":"Identifier","start":11478,"end":11481,"name":"res"},"property":{"type":"Identifier","start":11482,"end":11486,"name":"body"},"computed":false,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":11733,"end":11826,"test":{"type":"LogicalExpression","start":11737,"end":11761,"left":{"type":"UnaryExpression","start":11737,"end":11742,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":11738,"end":11742,"name":"body"}},"operator":"||","right":{"type":"BinaryExpression","start":11746,"end":11761,"left":{"type":"Identifier","start":11746,"end":11750,"name":"body"},"operator":"===","right":{"type":"Literal","start":11755,"end":11761,"value":"null","raw":"'null'"}}},"consequent":{"type":"BlockStatement","start":11763,"end":11826,"body":[{"type":"ThrowStatement","start":11777,"end":11816,"argument":{"type":"NewExpression","start":11783,"end":11815,"callee":{"type":"Identifier","start":11787,"end":11792,"name":"Error"},"arguments":[{"type":"Literal","start":11793,"end":11814,"value":"no body in response","raw":"'no body in response'"}]}}]},"alternate":null},{"type":"IfStatement","start":11835,"end":12012,"test":{"type":"UnaryExpression","start":11839,"end":11849,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":11840,"end":11849,"object":{"type":"Identifier","start":11840,"end":11844,"name":"body"},"property":{"type":"Identifier","start":11845,"end":11849,"name":"data"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":11851,"end":12012,"body":[{"type":"IfStatement","start":11865,"end":11976,"test":{"type":"LogicalExpression","start":11869,"end":11897,"left":{"type":"BinaryExpression","start":11869,"end":11887,"left":{"type":"MemberExpression","start":11869,"end":11879,"object":{"type":"Identifier","start":11869,"end":11872,"name":"res"},"property":{"type":"Identifier","start":11873,"end":11879,"name":"status"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":11884,"end":11887,"value":201,"raw":"201"}},"operator":"||","right":{"type":"UnaryExpression","start":11891,"end":11897,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":11892,"end":11897,"name":"model"}}},"consequent":{"type":"BlockStatement","start":11899,"end":11976,"body":[{"type":"ThrowStatement","start":11917,"end":11962,"argument":{"type":"NewExpression","start":11923,"end":11961,"callee":{"type":"Identifier","start":11927,"end":11932,"name":"Error"},"arguments":[{"type":"Literal","start":11933,"end":11960,"value":"expected data in response","raw":"'expected data in response'"}]}}]},"alternate":null},{"type":"ReturnStatement","start":11989,"end":12002,"argument":{"type":"Identifier","start":11996,"end":12001,"name":"model"}}]},"alternate":null},{"type":"IfStatement","start":12021,"end":12229,"test":{"type":"Identifier","start":12025,"end":12030,"name":"model"},"consequent":{"type":"BlockStatement","start":12032,"end":12229,"body":[{"type":"ExpressionStatement","start":12046,"end":12079,"expression":{"type":"AssignmentExpression","start":12046,"end":12078,"operator":"=","left":{"type":"MemberExpression","start":12046,"end":12071,"object":{"type":"Identifier","start":12046,"end":12051,"name":"model"},"property":{"type":"Identifier","start":12052,"end":12071,"name":"modelInitialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":12074,"end":12078,"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":12092,"end":12116,"expression":{"type":"AssignmentExpression","start":12092,"end":12115,"operator":"=","left":{"type":"MemberExpression","start":12092,"end":12100,"object":{"type":"Identifier","start":12092,"end":12097,"name":"model"},"property":{"type":"Identifier","start":12098,"end":12100,"name":"id"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":12103,"end":12115,"object":{"type":"MemberExpression","start":12103,"end":12112,"object":{"type":"Identifier","start":12103,"end":12107,"name":"body"},"property":{"type":"Identifier","start":12108,"end":12112,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":12113,"end":12115,"name":"id"},"computed":false,"optional":false}}},{"type":"ExpressionStatement","start":12129,"end":12172,"expression":{"type":"CallExpression","start":12129,"end":12171,"callee":{"type":"MemberExpression","start":12129,"end":12142,"object":{"type":"Identifier","start":12129,"end":12135,"name":"Object"},"property":{"type":"Identifier","start":12136,"end":12142,"name":"assign"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12143,"end":12148,"name":"model"},{"type":"MemberExpression","start":12150,"end":12170,"object":{"type":"MemberExpression","start":12150,"end":12159,"object":{"type":"Identifier","start":12150,"end":12154,"name":"body"},"property":{"type":"Identifier","start":12155,"end":12159,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":12160,"end":12170,"name":"attributes"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":12185,"end":12219,"expression":{"type":"AssignmentExpression","start":12185,"end":12218,"operator":"=","left":{"type":"MemberExpression","start":12185,"end":12210,"object":{"type":"Identifier","start":12185,"end":12190,"name":"model"},"property":{"type":"Identifier","start":12191,"end":12210,"name":"modelInitialization"},"computed":false,"optional":false},"right":{"type":"Literal","start":12213,"end":12218,"value":false,"raw":"false"}}}]},"alternate":null},{"type":"VariableDeclaration","start":12238,"end":12317,"declarations":[{"type":"VariableDeclarator","start":12244,"end":12316,"id":{"type":"Identifier","start":12244,"end":12261,"name":"deserializedModel"},"init":{"type":"LogicalExpression","start":12264,"end":12316,"left":{"type":"Identifier","start":12264,"end":12269,"name":"model"},"operator":"||","right":{"type":"CallExpression","start":12273,"end":12316,"callee":{"type":"MemberExpression","start":12273,"end":12294,"object":{"type":"ThisExpression","start":12273,"end":12277},"property":{"type":"Identifier","start":12278,"end":12294,"name":"deserializeModel"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12295,"end":12304,"name":"modelType"},{"type":"MemberExpression","start":12306,"end":12315,"object":{"type":"Identifier","start":12306,"end":12310,"name":"body"},"property":{"type":"Identifier","start":12311,"end":12315,"name":"data"},"computed":false,"optional":false}],"optional":false}}}],"kind":"const"},{"type":"ExpressionStatement","start":12326,"end":12361,"expression":{"type":"CallExpression","start":12326,"end":12360,"callee":{"type":"MemberExpression","start":12326,"end":12341,"object":{"type":"ThisExpression","start":12326,"end":12330},"property":{"type":"Identifier","start":12331,"end":12341,"name":"addToStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12342,"end":12359,"name":"deserializedModel"}],"optional":false}},{"type":"IfStatement","start":12370,"end":12523,"test":{"type":"MemberExpression","start":12374,"end":12387,"object":{"type":"Identifier","start":12374,"end":12378,"name":"body"},"property":{"type":"Identifier","start":12379,"end":12387,"name":"included"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":12389,"end":12523,"body":[{"type":"ExpressionStatement","start":12403,"end":12465,"expression":{"type":"CallExpression","start":12403,"end":12464,"callee":{"type":"MemberExpression","start":12403,"end":12438,"object":{"type":"Identifier","start":12403,"end":12420,"name":"deserializedModel"},"property":{"type":"Identifier","start":12421,"end":12438,"name":"syncRelationships"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":12439,"end":12448,"object":{"type":"Identifier","start":12439,"end":12443,"name":"body"},"property":{"type":"Identifier","start":12444,"end":12448,"name":"data"},"computed":false,"optional":false},{"type":"MemberExpression","start":12450,"end":12463,"object":{"type":"Identifier","start":12450,"end":12454,"name":"body"},"property":{"type":"Identifier","start":12455,"end":12463,"name":"included"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":12478,"end":12513,"expression":{"type":"CallExpression","start":12478,"end":12512,"callee":{"type":"MemberExpression","start":12478,"end":12493,"object":{"type":"ThisExpression","start":12478,"end":12482},"property":{"type":"Identifier","start":12483,"end":12493,"name":"addToStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12494,"end":12511,"name":"deserializedModel"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":12532,"end":12557,"argument":{"type":"Identifier","start":12539,"end":12556,"name":"deserializedModel"}}]}}},{"type":"MethodDefinition","start":12568,"end":12923,"static":false,"computed":false,"key":{"type":"Identifier","start":12568,"end":12579,"name":"handleError"},"kind":"method","value":{"type":"FunctionExpression","start":12579,"end":12923,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12580,"end":12585,"name":"error"}],"body":{"type":"BlockStatement","start":12587,"end":12923,"body":[{"type":"IfStatement","start":12597,"end":12883,"test":{"type":"LogicalExpression","start":12601,"end":12765,"left":{"type":"LogicalExpression","start":12601,"end":12714,"left":{"type":"LogicalExpression","start":12601,"end":12680,"left":{"type":"BinaryExpression","start":12601,"end":12635,"left":{"type":"Identifier","start":12601,"end":12606,"name":"error"},"operator":"instanceof","right":{"type":"Identifier","start":12618,"end":12635,"name":"HttpErrorResponse"}},"operator":"&&","right":{"type":"BinaryExpression","start":12651,"end":12680,"left":{"type":"MemberExpression","start":12651,"end":12662,"object":{"type":"Identifier","start":12651,"end":12656,"name":"error"},"property":{"type":"Identifier","start":12657,"end":12662,"name":"error"},"computed":false,"optional":false},"operator":"instanceof","right":{"type":"Identifier","start":12674,"end":12680,"name":"Object"}}},"operator":"&&","right":{"type":"MemberExpression","start":12696,"end":12714,"object":{"type":"MemberExpression","start":12696,"end":12707,"object":{"type":"Identifier","start":12696,"end":12701,"name":"error"},"property":{"type":"Identifier","start":12702,"end":12707,"name":"error"},"computed":false,"optional":false},"property":{"type":"Identifier","start":12708,"end":12714,"name":"errors"},"computed":false,"optional":false}},"operator":"&&","right":{"type":"BinaryExpression","start":12730,"end":12765,"left":{"type":"MemberExpression","start":12730,"end":12748,"object":{"type":"MemberExpression","start":12730,"end":12741,"object":{"type":"Identifier","start":12730,"end":12735,"name":"error"},"property":{"type":"Identifier","start":12736,"end":12741,"name":"error"},"computed":false,"optional":false},"property":{"type":"Identifier","start":12742,"end":12748,"name":"errors"},"computed":false,"optional":false},"operator":"instanceof","right":{"type":"Identifier","start":12760,"end":12765,"name":"Array"}}},"consequent":{"type":"BlockStatement","start":12767,"end":12883,"body":[{"type":"VariableDeclaration","start":12781,"end":12834,"declarations":[{"type":"VariableDeclarator","start":12787,"end":12833,"id":{"type":"Identifier","start":12787,"end":12793,"name":"errors"},"init":{"type":"NewExpression","start":12796,"end":12833,"callee":{"type":"Identifier","start":12800,"end":12813,"name":"ErrorResponse"},"arguments":[{"type":"MemberExpression","start":12814,"end":12832,"object":{"type":"MemberExpression","start":12814,"end":12825,"object":{"type":"Identifier","start":12814,"end":12819,"name":"error"},"property":{"type":"Identifier","start":12820,"end":12825,"name":"error"},"computed":false,"optional":false},"property":{"type":"Identifier","start":12826,"end":12832,"name":"errors"},"computed":false,"optional":false}]}}],"kind":"const"},{"type":"ReturnStatement","start":12847,"end":12873,"argument":{"type":"CallExpression","start":12854,"end":12872,"callee":{"type":"Identifier","start":12854,"end":12864,"name":"throwError"},"arguments":[{"type":"Identifier","start":12865,"end":12871,"name":"errors"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":12892,"end":12917,"argument":{"type":"CallExpression","start":12899,"end":12916,"callee":{"type":"Identifier","start":12899,"end":12909,"name":"throwError"},"arguments":[{"type":"Identifier","start":12910,"end":12915,"name":"error"}],"optional":false}}]}}},{"type":"MethodDefinition","start":12928,"end":13083,"static":false,"computed":false,"key":{"type":"Identifier","start":12928,"end":12937,"name":"parseMeta"},"kind":"method","value":{"type":"FunctionExpression","start":12937,"end":13083,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12938,"end":12942,"name":"body"},{"type":"Identifier","start":12944,"end":12953,"name":"modelType"}],"body":{"type":"BlockStatement","start":12955,"end":13083,"body":[{"type":"VariableDeclaration","start":12965,"end":13041,"declarations":[{"type":"VariableDeclarator","start":12971,"end":13040,"id":{"type":"Identifier","start":12971,"end":12980,"name":"metaModel"},"init":{"type":"MemberExpression","start":12983,"end":13040,"object":{"type":"CallExpression","start":12983,"end":13035,"callee":{"type":"MemberExpression","start":12983,"end":13002,"object":{"type":"Identifier","start":12983,"end":12990,"name":"Reflect"},"property":{"type":"Identifier","start":12991,"end":13002,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":13003,"end":13023,"value":"JsonApiModelConfig","raw":"'JsonApiModelConfig'"},{"type":"Identifier","start":13025,"end":13034,"name":"modelType"}],"optional":false},"property":{"type":"Identifier","start":13036,"end":13040,"name":"meta"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":13050,"end":13077,"argument":{"type":"NewExpression","start":13057,"end":13076,"callee":{"type":"Identifier","start":13061,"end":13070,"name":"metaModel"},"arguments":[{"type":"Identifier","start":13071,"end":13075,"name":"body"}]}}]}}},{"type":"MethodDefinition","start":13176,"end":13296,"static":false,"computed":false,"key":{"type":"Identifier","start":13176,"end":13186,"name":"getOptions"},"kind":"method","value":{"type":"FunctionExpression","start":13186,"end":13296,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":13187,"end":13200,"name":"customHeaders"}],"body":{"type":"BlockStatement","start":13202,"end":13296,"body":[{"type":"ReturnStatement","start":13212,"end":13290,"argument":{"type":"ObjectExpression","start":13219,"end":13289,"properties":[{"type":"Property","start":13233,"end":13278,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13233,"end":13240,"name":"headers"},"value":{"type":"CallExpression","start":13242,"end":13278,"callee":{"type":"MemberExpression","start":13242,"end":13263,"object":{"type":"ThisExpression","start":13242,"end":13246},"property":{"type":"Identifier","start":13247,"end":13263,"name":"buildHttpHeaders"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13264,"end":13277,"name":"customHeaders"}],"optional":false},"kind":"init"}]}}]}}},{"type":"MethodDefinition","start":13301,"end":14067,"static":false,"computed":false,"key":{"type":"Identifier","start":13301,"end":13317,"name":"buildHttpHeaders"},"kind":"method","value":{"type":"FunctionExpression","start":13317,"end":14067,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":13318,"end":13331,"name":"customHeaders"}],"body":{"type":"BlockStatement","start":13333,"end":14067,"body":[{"type":"VariableDeclaration","start":13343,"end":13496,"declarations":[{"type":"VariableDeclarator","start":13347,"end":13495,"id":{"type":"Identifier","start":13347,"end":13361,"name":"requestHeaders"},"init":{"type":"NewExpression","start":13364,"end":13495,"callee":{"type":"Identifier","start":13368,"end":13379,"name":"HttpHeaders"},"arguments":[{"type":"ObjectExpression","start":13380,"end":13494,"properties":[{"type":"Property","start":13394,"end":13428,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13394,"end":13400,"name":"Accept"},"value":{"type":"Literal","start":13402,"end":13428,"value":"application/vnd.api+json","raw":"'application/vnd.api+json'"},"kind":"init"},{"type":"Property","start":13442,"end":13484,"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":13442,"end":13456,"value":"Content-Type","raw":"'Content-Type'"},"value":{"type":"Literal","start":13458,"end":13484,"value":"application/vnd.api+json","raw":"'application/vnd.api+json'"},"kind":"init"}]}]}}],"kind":"let"},{"type":"IfStatement","start":13505,"end":13773,"test":{"type":"MemberExpression","start":13509,"end":13527,"object":{"type":"ThisExpression","start":13509,"end":13513},"property":{"type":"Identifier","start":13514,"end":13527,"name":"globalHeaders"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":13529,"end":13773,"body":[{"type":"ExpressionStatement","start":13543,"end":13763,"expression":{"type":"CallExpression","start":13543,"end":13762,"callee":{"type":"MemberExpression","start":13543,"end":13576,"object":{"type":"CallExpression","start":13543,"end":13568,"callee":{"type":"MemberExpression","start":13543,"end":13566,"object":{"type":"MemberExpression","start":13543,"end":13561,"object":{"type":"ThisExpression","start":13543,"end":13547},"property":{"type":"Identifier","start":13548,"end":13561,"name":"globalHeaders"},"computed":false,"optional":false},"property":{"type":"Identifier","start":13562,"end":13566,"name":"keys"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":13569,"end":13576,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":13577,"end":13761,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":13578,"end":13581,"name":"key"}],"body":{"type":"BlockStatement","start":13586,"end":13761,"body":[{"type":"IfStatement","start":13604,"end":13747,"test":{"type":"CallExpression","start":13608,"end":13635,"callee":{"type":"MemberExpression","start":13608,"end":13630,"object":{"type":"MemberExpression","start":13608,"end":13626,"object":{"type":"ThisExpression","start":13608,"end":13612},"property":{"type":"Identifier","start":13613,"end":13626,"name":"globalHeaders"},"computed":false,"optional":false},"property":{"type":"Identifier","start":13627,"end":13630,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13631,"end":13634,"name":"key"}],"optional":false},"consequent":{"type":"BlockStatement","start":13637,"end":13747,"body":[{"type":"ExpressionStatement","start":13659,"end":13729,"expression":{"type":"AssignmentExpression","start":13659,"end":13728,"operator":"=","left":{"type":"Identifier","start":13659,"end":13673,"name":"requestHeaders"},"right":{"type":"CallExpression","start":13676,"end":13728,"callee":{"type":"MemberExpression","start":13676,"end":13694,"object":{"type":"Identifier","start":13676,"end":13690,"name":"requestHeaders"},"property":{"type":"Identifier","start":13691,"end":13694,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13695,"end":13698,"name":"key"},{"type":"CallExpression","start":13700,"end":13727,"callee":{"type":"MemberExpression","start":13700,"end":13722,"object":{"type":"MemberExpression","start":13700,"end":13718,"object":{"type":"ThisExpression","start":13700,"end":13704},"property":{"type":"Identifier","start":13705,"end":13718,"name":"globalHeaders"},"computed":false,"optional":false},"property":{"type":"Identifier","start":13719,"end":13722,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13723,"end":13726,"name":"key"}],"optional":false}],"optional":false}}}]},"alternate":null}]}}],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":13782,"end":14030,"test":{"type":"Identifier","start":13786,"end":13799,"name":"customHeaders"},"consequent":{"type":"BlockStatement","start":13801,"end":14030,"body":[{"type":"ExpressionStatement","start":13815,"end":14020,"expression":{"type":"CallExpression","start":13815,"end":14019,"callee":{"type":"MemberExpression","start":13815,"end":13843,"object":{"type":"CallExpression","start":13815,"end":13835,"callee":{"type":"MemberExpression","start":13815,"end":13833,"object":{"type":"Identifier","start":13815,"end":13828,"name":"customHeaders"},"property":{"type":"Identifier","start":13829,"end":13833,"name":"keys"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":13836,"end":13843,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":13844,"end":14018,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":13845,"end":13848,"name":"key"}],"body":{"type":"BlockStatement","start":13853,"end":14018,"body":[{"type":"IfStatement","start":13871,"end":14004,"test":{"type":"CallExpression","start":13875,"end":13897,"callee":{"type":"MemberExpression","start":13875,"end":13892,"object":{"type":"Identifier","start":13875,"end":13888,"name":"customHeaders"},"property":{"type":"Identifier","start":13889,"end":13892,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13893,"end":13896,"name":"key"}],"optional":false},"consequent":{"type":"BlockStatement","start":13899,"end":14004,"body":[{"type":"ExpressionStatement","start":13921,"end":13986,"expression":{"type":"AssignmentExpression","start":13921,"end":13985,"operator":"=","left":{"type":"Identifier","start":13921,"end":13935,"name":"requestHeaders"},"right":{"type":"CallExpression","start":13938,"end":13985,"callee":{"type":"MemberExpression","start":13938,"end":13956,"object":{"type":"Identifier","start":13938,"end":13952,"name":"requestHeaders"},"property":{"type":"Identifier","start":13953,"end":13956,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13957,"end":13960,"name":"key"},{"type":"CallExpression","start":13962,"end":13984,"callee":{"type":"MemberExpression","start":13962,"end":13979,"object":{"type":"Identifier","start":13962,"end":13975,"name":"customHeaders"},"property":{"type":"Identifier","start":13976,"end":13979,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13980,"end":13983,"name":"key"}],"optional":false}],"optional":false}}}]},"alternate":null}]}}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":14039,"end":14061,"argument":{"type":"Identifier","start":14046,"end":14060,"name":"requestHeaders"}}]}}},{"type":"MethodDefinition","start":14072,"end":14580,"static":false,"computed":false,"key":{"type":"Identifier","start":14072,"end":14095,"name":"resetMetadataAttributes"},"kind":"method","value":{"type":"FunctionExpression","start":14095,"end":14580,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14096,"end":14099,"name":"res"},{"type":"Identifier","start":14101,"end":14119,"name":"attributesMetadata"},{"type":"Identifier","start":14121,"end":14130,"name":"modelType"}],"body":{"type":"BlockStatement","start":14132,"end":14580,"body":[{"type":"ForInStatement","start":14142,"end":14474,"left":{"type":"VariableDeclaration","start":14147,"end":14165,"declarations":[{"type":"VariableDeclarator","start":14153,"end":14165,"id":{"type":"Identifier","start":14153,"end":14165,"name":"propertyName"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":14169,"end":14187,"name":"attributesMetadata"},"body":{"type":"BlockStatement","start":14189,"end":14474,"body":[{"type":"IfStatement","start":14203,"end":14464,"test":{"type":"CallExpression","start":14207,"end":14254,"callee":{"type":"MemberExpression","start":14207,"end":14240,"object":{"type":"Identifier","start":14207,"end":14225,"name":"attributesMetadata"},"property":{"type":"Identifier","start":14226,"end":14240,"name":"hasOwnProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14241,"end":14253,"name":"propertyName"}],"optional":false},"consequent":{"type":"BlockStatement","start":14256,"end":14464,"body":[{"type":"VariableDeclaration","start":14274,"end":14324,"declarations":[{"type":"VariableDeclarator","start":14280,"end":14323,"id":{"type":"Identifier","start":14280,"end":14288,"name":"metadata"},"init":{"type":"MemberExpression","start":14291,"end":14323,"object":{"type":"Identifier","start":14291,"end":14309,"name":"attributesMetadata"},"property":{"type":"Identifier","start":14310,"end":14322,"name":"propertyName"},"computed":true,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":14341,"end":14450,"test":{"type":"MemberExpression","start":14345,"end":14372,"object":{"type":"Identifier","start":14345,"end":14353,"name":"metadata"},"property":{"type":"Identifier","start":14354,"end":14372,"name":"hasDirtyAttributes"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":14374,"end":14450,"body":[{"type":"ExpressionStatement","start":14396,"end":14432,"expression":{"type":"AssignmentExpression","start":14396,"end":14431,"operator":"=","left":{"type":"MemberExpression","start":14396,"end":14423,"object":{"type":"Identifier","start":14396,"end":14404,"name":"metadata"},"property":{"type":"Identifier","start":14405,"end":14423,"name":"hasDirtyAttributes"},"computed":false,"optional":false},"right":{"type":"Literal","start":14426,"end":14431,"value":false,"raw":"false"}}}]},"alternate":null}]},"alternate":null}]}},{"type":"ExpressionStatement","start":14505,"end":14554,"expression":{"type":"AssignmentExpression","start":14505,"end":14553,"operator":"=","left":{"type":"MemberExpression","start":14505,"end":14532,"object":{"type":"Identifier","start":14505,"end":14508,"name":"res"},"property":{"type":"Identifier","start":14509,"end":14531,"name":"AttributeMetadataIndex"},"computed":true,"optional":false},"right":{"type":"Identifier","start":14535,"end":14553,"name":"attributesMetadata"}}},{"type":"ReturnStatement","start":14563,"end":14574,"argument":{"type":"Identifier","start":14570,"end":14573,"name":"res"}}]}}},{"type":"MethodDefinition","start":14585,"end":15861,"static":false,"computed":false,"key":{"type":"Identifier","start":14585,"end":14604,"name":"updateRelationships"},"kind":"method","value":{"type":"FunctionExpression","start":14604,"end":15861,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14605,"end":14610,"name":"model"},{"type":"Identifier","start":14612,"end":14625,"name":"relationships"}],"body":{"type":"BlockStatement","start":14627,"end":15861,"body":[{"type":"VariableDeclaration","start":14637,"end":14728,"declarations":[{"type":"VariableDeclarator","start":14643,"end":14727,"id":{"type":"Identifier","start":14643,"end":14654,"name":"modelsTypes"},"init":{"type":"MemberExpression","start":14657,"end":14727,"object":{"type":"CallExpression","start":14657,"end":14720,"callee":{"type":"MemberExpression","start":14657,"end":14676,"object":{"type":"Identifier","start":14657,"end":14664,"name":"Reflect"},"property":{"type":"Identifier","start":14665,"end":14676,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":14677,"end":14701,"value":"JsonApiDatastoreConfig","raw":"'JsonApiDatastoreConfig'"},{"type":"MemberExpression","start":14703,"end":14719,"object":{"type":"ThisExpression","start":14703,"end":14707},"property":{"type":"Identifier","start":14708,"end":14719,"name":"constructor"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":14721,"end":14727,"name":"models"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ForInStatement","start":14737,"end":15833,"left":{"type":"VariableDeclaration","start":14742,"end":14760,"declarations":[{"type":"VariableDeclarator","start":14748,"end":14760,"id":{"type":"Identifier","start":14748,"end":14760,"name":"relationship"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":14764,"end":14777,"name":"relationships"},"body":{"type":"BlockStatement","start":14779,"end":15833,"body":[{"type":"IfStatement","start":14793,"end":15823,"test":{"type":"LogicalExpression","start":14797,"end":14900,"left":{"type":"LogicalExpression","start":14797,"end":14877,"left":{"type":"CallExpression","start":14797,"end":14839,"callee":{"type":"MemberExpression","start":14797,"end":14825,"object":{"type":"Identifier","start":14797,"end":14810,"name":"relationships"},"property":{"type":"Identifier","start":14811,"end":14825,"name":"hasOwnProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14826,"end":14838,"name":"relationship"}],"optional":false},"operator":"&&","right":{"type":"CallExpression","start":14843,"end":14877,"callee":{"type":"MemberExpression","start":14843,"end":14863,"object":{"type":"Identifier","start":14843,"end":14848,"name":"model"},"property":{"type":"Identifier","start":14849,"end":14863,"name":"hasOwnProperty"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14864,"end":14876,"name":"relationship"}],"optional":false}},"operator":"&&","right":{"type":"MemberExpression","start":14881,"end":14900,"object":{"type":"Identifier","start":14881,"end":14886,"name":"model"},"property":{"type":"Identifier","start":14887,"end":14899,"name":"relationship"},"computed":true,"optional":false}},"consequent":{"type":"BlockStatement","start":14902,"end":15823,"body":[{"type":"VariableDeclaration","start":14920,"end":14966,"declarations":[{"type":"VariableDeclarator","start":14926,"end":14965,"id":{"type":"Identifier","start":14926,"end":14943,"name":"relationshipModel"},"init":{"type":"MemberExpression","start":14946,"end":14965,"object":{"type":"Identifier","start":14946,"end":14951,"name":"model"},"property":{"type":"Identifier","start":14952,"end":14964,"name":"relationship"},"computed":true,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":14983,"end":15049,"declarations":[{"type":"VariableDeclarator","start":14989,"end":15048,"id":{"type":"Identifier","start":14989,"end":14996,"name":"hasMany"},"init":{"type":"CallExpression","start":14999,"end":15048,"callee":{"type":"MemberExpression","start":14999,"end":15018,"object":{"type":"Identifier","start":14999,"end":15006,"name":"Reflect"},"property":{"type":"Identifier","start":15007,"end":15018,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":15019,"end":15028,"value":"HasMany","raw":"'HasMany'"},{"type":"Identifier","start":15030,"end":15047,"name":"relationshipModel"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":15066,"end":15224,"declarations":[{"type":"VariableDeclarator","start":15072,"end":15223,"id":{"type":"Identifier","start":15072,"end":15087,"name":"propertyHasMany"},"init":{"type":"CallExpression","start":15090,"end":15223,"callee":{"type":"Identifier","start":15090,"end":15094,"name":"find"},"arguments":[{"type":"Identifier","start":15095,"end":15102,"name":"hasMany"},{"type":"ArrowFunctionExpression","start":15104,"end":15222,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":15105,"end":15113,"name":"property"}],"body":{"type":"BlockStatement","start":15118,"end":15222,"body":[{"type":"ReturnStatement","start":15140,"end":15204,"argument":{"type":"BinaryExpression","start":15147,"end":15203,"left":{"type":"MemberExpression","start":15147,"end":15181,"object":{"type":"Identifier","start":15147,"end":15158,"name":"modelsTypes"},"property":{"type":"MemberExpression","start":15159,"end":15180,"object":{"type":"Identifier","start":15159,"end":15167,"name":"property"},"property":{"type":"Identifier","start":15168,"end":15180,"name":"relationship"},"computed":false,"optional":false},"computed":true,"optional":false},"operator":"===","right":{"type":"MemberExpression","start":15186,"end":15203,"object":{"type":"Identifier","start":15186,"end":15191,"name":"model"},"property":{"type":"Identifier","start":15192,"end":15203,"name":"constructor"},"computed":false,"optional":false}}}]}}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":15241,"end":15809,"test":{"type":"Identifier","start":15245,"end":15260,"name":"propertyHasMany"},"consequent":{"type":"BlockStatement","start":15262,"end":15809,"body":[{"type":"ExpressionStatement","start":15284,"end":15388,"expression":{"type":"AssignmentExpression","start":15284,"end":15387,"operator":"=","left":{"type":"MemberExpression","start":15284,"end":15331,"object":{"type":"Identifier","start":15284,"end":15301,"name":"relationshipModel"},"property":{"type":"MemberExpression","start":15302,"end":15330,"object":{"type":"Identifier","start":15302,"end":15317,"name":"propertyHasMany"},"property":{"type":"Identifier","start":15318,"end":15330,"name":"propertyName"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"LogicalExpression","start":15334,"end":15387,"left":{"type":"MemberExpression","start":15334,"end":15381,"object":{"type":"Identifier","start":15334,"end":15351,"name":"relationshipModel"},"property":{"type":"MemberExpression","start":15352,"end":15380,"object":{"type":"Identifier","start":15352,"end":15367,"name":"propertyHasMany"},"property":{"type":"Identifier","start":15368,"end":15380,"name":"propertyName"},"computed":false,"optional":false},"computed":true,"optional":false},"operator":"||","right":{"type":"ArrayExpression","start":15385,"end":15387,"elements":[]}}}},{"type":"VariableDeclaration","start":15409,"end":15493,"declarations":[{"type":"VariableDeclarator","start":15415,"end":15492,"id":{"type":"Identifier","start":15415,"end":15427,"name":"indexOfModel"},"init":{"type":"CallExpression","start":15430,"end":15492,"callee":{"type":"MemberExpression","start":15430,"end":15485,"object":{"type":"MemberExpression","start":15430,"end":15477,"object":{"type":"Identifier","start":15430,"end":15447,"name":"relationshipModel"},"property":{"type":"MemberExpression","start":15448,"end":15476,"object":{"type":"Identifier","start":15448,"end":15463,"name":"propertyHasMany"},"property":{"type":"Identifier","start":15464,"end":15476,"name":"propertyName"},"computed":false,"optional":false},"computed":true,"optional":false},"property":{"type":"Identifier","start":15478,"end":15485,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":15486,"end":15491,"name":"model"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":15514,"end":15791,"test":{"type":"BinaryExpression","start":15518,"end":15537,"left":{"type":"Identifier","start":15518,"end":15530,"name":"indexOfModel"},"operator":"===","right":{"type":"UnaryExpression","start":15535,"end":15537,"operator":"-","prefix":true,"argument":{"type":"Literal","start":15536,"end":15537,"value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","start":15539,"end":15647,"body":[{"type":"ExpressionStatement","start":15565,"end":15625,"expression":{"type":"CallExpression","start":15565,"end":15624,"callee":{"type":"MemberExpression","start":15565,"end":15617,"object":{"type":"MemberExpression","start":15565,"end":15612,"object":{"type":"Identifier","start":15565,"end":15582,"name":"relationshipModel"},"property":{"type":"MemberExpression","start":15583,"end":15611,"object":{"type":"Identifier","start":15583,"end":15598,"name":"propertyHasMany"},"property":{"type":"Identifier","start":15599,"end":15611,"name":"propertyName"},"computed":false,"optional":false},"computed":true,"optional":false},"property":{"type":"Identifier","start":15613,"end":15617,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":15618,"end":15623,"name":"model"}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":15673,"end":15791,"body":[{"type":"ExpressionStatement","start":15699,"end":15769,"expression":{"type":"AssignmentExpression","start":15699,"end":15768,"operator":"=","left":{"type":"MemberExpression","start":15699,"end":15760,"object":{"type":"MemberExpression","start":15699,"end":15746,"object":{"type":"Identifier","start":15699,"end":15716,"name":"relationshipModel"},"property":{"type":"MemberExpression","start":15717,"end":15745,"object":{"type":"Identifier","start":15717,"end":15732,"name":"propertyHasMany"},"property":{"type":"Identifier","start":15733,"end":15745,"name":"propertyName"},"computed":false,"optional":false},"computed":true,"optional":false},"property":{"type":"Identifier","start":15747,"end":15759,"name":"indexOfModel"},"computed":true,"optional":false},"right":{"type":"Identifier","start":15763,"end":15768,"name":"model"}}}]}}]},"alternate":null}]},"alternate":null}]}},{"type":"ReturnStatement","start":15842,"end":15855,"argument":{"type":"Identifier","start":15849,"end":15854,"name":"model"}}]}}},{"type":"MethodDefinition","start":15866,"end":15971,"static":false,"computed":false,"key":{"type":"Identifier","start":15866,"end":15887,"name":"getModelPropertyNames"},"kind":"method","value":{"type":"FunctionExpression","start":15887,"end":15971,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":15888,"end":15893,"name":"model"}],"body":{"type":"BlockStatement","start":15895,"end":15971,"body":[{"type":"ReturnStatement","start":15905,"end":15965,"argument":{"type":"LogicalExpression","start":15912,"end":15964,"left":{"type":"CallExpression","start":15912,"end":15958,"callee":{"type":"MemberExpression","start":15912,"end":15931,"object":{"type":"Identifier","start":15912,"end":15919,"name":"Reflect"},"property":{"type":"Identifier","start":15920,"end":15931,"name":"getMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":15932,"end":15950,"value":"AttributeMapping","raw":"'AttributeMapping'"},{"type":"Identifier","start":15952,"end":15957,"name":"model"}],"optional":false},"operator":"||","right":{"type":"ArrayExpression","start":15962,"end":15964,"elements":[]}}}]}}},{"type":"MethodDefinition","start":15976,"end":16277,"static":false,"computed":false,"key":{"type":"Identifier","start":15976,"end":15995,"name":"buildRequestOptions"},"kind":"method","value":{"type":"FunctionExpression","start":15995,"end":16277,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":15996,"end":16014,"left":{"type":"Identifier","start":15996,"end":16009,"name":"customOptions"},"right":{"type":"ObjectExpression","start":16012,"end":16014,"properties":[]}}],"body":{"type":"BlockStatement","start":16016,"end":16277,"body":[{"type":"VariableDeclaration","start":16026,"end":16091,"declarations":[{"type":"VariableDeclarator","start":16032,"end":16090,"id":{"type":"Identifier","start":16032,"end":16043,"name":"httpHeaders"},"init":{"type":"CallExpression","start":16046,"end":16090,"callee":{"type":"MemberExpression","start":16046,"end":16067,"object":{"type":"ThisExpression","start":16046,"end":16050},"property":{"type":"Identifier","start":16051,"end":16067,"name":"buildHttpHeaders"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":16068,"end":16089,"object":{"type":"Identifier","start":16068,"end":16081,"name":"customOptions"},"property":{"type":"Identifier","start":16082,"end":16089,"name":"headers"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":16100,"end":16198,"declarations":[{"type":"VariableDeclarator","start":16106,"end":16197,"id":{"type":"Identifier","start":16106,"end":16120,"name":"requestOptions"},"init":{"type":"CallExpression","start":16123,"end":16197,"callee":{"type":"MemberExpression","start":16123,"end":16136,"object":{"type":"Identifier","start":16123,"end":16129,"name":"Object"},"property":{"type":"Identifier","start":16130,"end":16136,"name":"assign"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16137,"end":16150,"name":"customOptions"},{"type":"ObjectExpression","start":16152,"end":16196,"properties":[{"type":"Property","start":16166,"end":16186,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16166,"end":16173,"name":"headers"},"value":{"type":"Identifier","start":16175,"end":16186,"name":"httpHeaders"},"kind":"init"}]}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":16207,"end":16271,"argument":{"type":"CallExpression","start":16214,"end":16270,"callee":{"type":"MemberExpression","start":16214,"end":16227,"object":{"type":"Identifier","start":16214,"end":16220,"name":"Object"},"property":{"type":"Identifier","start":16221,"end":16227,"name":"assign"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":16228,"end":16253,"object":{"type":"ThisExpression","start":16228,"end":16232},"property":{"type":"Identifier","start":16233,"end":16253,"name":"globalRequestOptions"},"computed":false,"optional":false},{"type":"Identifier","start":16255,"end":16269,"name":"requestOptions"}],"optional":false}}]}}},{"type":"MethodDefinition","start":16282,"end":16378,"static":false,"computed":false,"key":{"type":"Identifier","start":16282,"end":16296,"name":"_toQueryString"},"kind":"method","value":{"type":"FunctionExpression","start":16296,"end":16378,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16297,"end":16303,"name":"params"}],"body":{"type":"BlockStatement","start":16305,"end":16378,"body":[{"type":"ReturnStatement","start":16315,"end":16372,"argument":{"type":"CallExpression","start":16322,"end":16371,"callee":{"type":"MemberExpression","start":16322,"end":16334,"object":{"type":"Identifier","start":16322,"end":16324,"name":"qs"},"property":{"type":"Identifier","start":16325,"end":16334,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16335,"end":16341,"name":"params"},{"type":"ObjectExpression","start":16343,"end":16370,"properties":[{"type":"Property","start":16345,"end":16368,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16345,"end":16356,"name":"arrayFormat"},"value":{"type":"Literal","start":16358,"end":16368,"value":"brackets","raw":"'brackets'"},"kind":"init"}]}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":16400,"end":16529,"expression":{"type":"AssignmentExpression","start":16400,"end":16528,"operator":"=","left":{"type":"MemberExpression","start":16400,"end":16421,"object":{"type":"Identifier","start":16400,"end":16416,"name":"JsonApiDatastore"},"property":{"type":"Identifier","start":16417,"end":16421,"name":"fac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":16424,"end":16528,"id":{"type":"Identifier","start":16433,"end":16457,"name":"JsonApiDatastore_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16458,"end":16459,"name":"t"}],"body":{"type":"BlockStatement","start":16461,"end":16528,"body":[{"type":"ReturnStatement","start":16463,"end":16526,"argument":{"type":"NewExpression","start":16470,"end":16525,"callee":{"type":"LogicalExpression","start":16475,"end":16496,"left":{"type":"Identifier","start":16475,"end":16476,"name":"t"},"operator":"||","right":{"type":"Identifier","start":16480,"end":16496,"name":"JsonApiDatastore"}},"arguments":[{"type":"CallExpression","start":16498,"end":16524,"callee":{"type":"MemberExpression","start":16498,"end":16509,"object":{"type":"Identifier","start":16498,"end":16500,"name":"i0"},"property":{"type":"Identifier","start":16501,"end":16509,"name":"inject"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":16510,"end":16523,"object":{"type":"Identifier","start":16510,"end":16512,"name":"i1"},"property":{"type":"Identifier","start":16513,"end":16523,"name":"HttpClient"},"computed":false,"optional":false}],"optional":false}]}}]}}}},{"type":"ExpressionStatement","start":16549,"end":16683,"expression":{"type":"AssignmentExpression","start":16549,"end":16682,"operator":"=","left":{"type":"MemberExpression","start":16549,"end":16571,"object":{"type":"Identifier","start":16549,"end":16565,"name":"JsonApiDatastore"},"property":{"type":"Identifier","start":16566,"end":16571,"name":"prov"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":16600,"end":16682,"callee":{"type":"MemberExpression","start":16600,"end":16621,"object":{"type":"Identifier","start":16600,"end":16602,"name":"i0"},"property":{"type":"Identifier","start":16603,"end":16621,"name":"defineInjectable"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":16622,"end":16681,"properties":[{"type":"Property","start":16624,"end":16647,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16624,"end":16629,"name":"token"},"value":{"type":"Identifier","start":16631,"end":16647,"name":"JsonApiDatastore"},"kind":"init"},{"type":"Property","start":16649,"end":16679,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16649,"end":16656,"name":"factory"},"value":{"type":"MemberExpression","start":16658,"end":16679,"object":{"type":"Identifier","start":16658,"end":16674,"name":"JsonApiDatastore"},"property":{"type":"Identifier","start":16675,"end":16679,"name":"fac"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":16684,"end":16888,"expression":{"type":"CallExpression","start":16684,"end":16887,"callee":{"type":"FunctionExpression","start":16685,"end":16884,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":16697,"end":16884,"body":[{"type":"ExpressionStatement","start":16699,"end":16882,"expression":{"type":"LogicalExpression","start":16699,"end":16881,"left":{"type":"LogicalExpression","start":16700,"end":16745,"left":{"type":"BinaryExpression","start":16700,"end":16732,"left":{"type":"UnaryExpression","start":16700,"end":16716,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":16707,"end":16716,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":16721,"end":16732,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":16736,"end":16745,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":16750,"end":16881,"callee":{"type":"MemberExpression","start":16750,"end":16770,"object":{"type":"Identifier","start":16750,"end":16752,"name":"i0"},"property":{"type":"Identifier","start":16753,"end":16770,"name":"setClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16771,"end":16787,"name":"JsonApiDatastore"},{"type":"ArrayExpression","start":16789,"end":16823,"elements":[{"type":"ObjectExpression","start":16790,"end":16822,"properties":[{"type":"Property","start":16800,"end":16816,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16800,"end":16804,"name":"type"},"value":{"type":"Identifier","start":16806,"end":16816,"name":"Injectable"},"kind":"init"}]}]},{"type":"FunctionExpression","start":16825,"end":16874,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":16837,"end":16874,"body":[{"type":"ReturnStatement","start":16839,"end":16872,"argument":{"type":"ArrayExpression","start":16846,"end":16871,"elements":[{"type":"ObjectExpression","start":16847,"end":16870,"properties":[{"type":"Property","start":16849,"end":16868,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16849,"end":16853,"name":"type"},"value":{"type":"MemberExpression","start":16855,"end":16868,"object":{"type":"Identifier","start":16855,"end":16857,"name":"i1"},"property":{"type":"Identifier","start":16858,"end":16868,"name":"HttpClient"},"computed":false,"optional":false},"kind":"init"}]}]}}]}},{"type":"Literal","start":16876,"end":16880,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktZGF0YXN0b3JlLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9zZXJ2aWNlcy9qc29uLWFwaS1kYXRhc3RvcmUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsV0FBVyxFQUFnQixNQUFNLHNCQUFzQixDQUFDO0FBQ2hHLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDOUIsT0FBTyxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNqRCxPQUFPLEVBQWMsRUFBRSxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNsRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDeEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQy9ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ2pFLE9BQU8sS0FBSyxFQUFFLE1BQU0sSUFBSSxDQUFDO0FBR3pCLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3pELE9BQU8sa0JBQWtCLENBQUM7OztBQUkxQjs7Ozs7R0FLRztBQUNILHlDQUF5QztBQUN6QyxNQUFNLHNCQUFzQixHQUFXLGlCQUF3QixDQUFDO0FBR2hFLE1BQU0sT0FBTyxnQkFBZ0I7SUFVM0IsWUFBc0IsSUFBZ0I7UUFBaEIsU0FBSSxHQUFKLElBQUksQ0FBWTtRQU45Qix5QkFBb0IsR0FBVyxFQUFFLENBQUM7UUFDbEMsa0JBQWEsR0FBdUQsRUFBRSxDQUFDO1FBQ3ZFLGtCQUFhLEdBQTRCLElBQUksQ0FBQyxlQUFlLENBQUMsU0FB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Q0FBQyxZQUFZLENBQUMsR0FBRyxLQUFLLENBQUM7cUJBQ3ZFO2lCQUNGO2FBQ0Y7U0FDRjtRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVTLHFCQUFxQixDQUFDLEtBQW1CO1FBQ2pELE9BQU8sT0FBTyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDOUQsQ0FBQztJQUVPLG1CQUFtQixDQUFDLGdCQUFxQixFQUFFO1FBQ2pELE1BQU0sV0FBVyxHQUFnQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTlFLE1BQU0sY0FBYyxHQUFXLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFO1lBQzFELE9BQU8sRUFBRSxXQUFXO1NBQ3JCLENBQUMsQ0FBQztRQUVILE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVPLGNBQWMsQ0FBQyxNQUFXO1FBQ2hDLE9BQU8sRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQztJQUMzRCxDQUFDOzttR0FyZVUsZ0JBQWdCO3FHQUFoQixnQkFBZ0IsV0FBaEIsZ0JBQWdCO3VGQUFoQixnQkFBZ0I7Y0FENUIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBFcnJvclJlc3BvbnNlLCBIdHRwSGVhZGVycywgSHR0cFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgZmluZCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBjYXRjaEVycm9yLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSnNvbkFwaU1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL2pzb24tYXBpLm1vZGVsJztcbmltcG9ydCB7IEVycm9yUmVzcG9uc2UgfSBmcm9tICcuLi9tb2RlbHMvZXJyb3ItcmVzcG9uc2UubW9kZWwnO1xuaW1wb3J0IHsgSnNvbkFwaVF1ZXJ5RGF0YSB9IGZyb20gJy4uL21vZGVscy9qc29uLWFwaS1xdWVyeS1kYXRhJztcbmltcG9ydCAqIGFzIHFzIGZyb20gJ3FzJztcbmltcG9ydCB7IERhdGFzdG9yZUNvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZGF0YXN0b3JlLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgTW9kZWxDb25maWcgfSBmcm9tICcuLi9pbnRlcmZhY2VzL21vZGVsLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgQXR0cmlidXRlTWV0YWRhdGEgfSBmcm9tICcuLi9jb25zdGFudHMvc3ltYm9scyc7XG5pbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuXG5leHBvcnQgdHlwZSBNb2RlbFR5cGU8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4gPSBuZXcgKGRhdGFzdG9yZTogSnNvbkFwaURhdGFzdG9yZSwgZGF0YTogYW55KSA9PiBUO1xuXG4vKipcbiAqIEhBQ0svRklYTUU6XG4gKiBUeXBlICdzeW1ib2wnIGNhbm5vdCBiZSB1c2VkIGFzIGFuIGluZGV4IHR5cGUuXG4gKiBUeXBlU2NyaXB0IDIuOS54XG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4Ny5cbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbmNvbnN0IEF0dHJpYnV0ZU1ldGFkYXRhSW5kZXg6IHN0cmluZyA9IEF0dHJpYnV0ZU1ldGFkYXRhIGFzIGFueTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEpzb25BcGlEYXRhc3RvcmUge1xuXG4gIHByb3RlY3RlZCBjb25maWc6IERhdGFzdG9yZUNvbmZpZztcbiAgcHJpdmF0ZSBnbG9iYWxIZWFkZXJzOiBIdHRwSGVhZGVycztcbiAgcHJpdmF0ZSBnbG9iYWxSZXF1ZXN0T3B0aW9uczogb2JqZWN0ID0ge307XG4gIHByaXZhdGUgaW50ZXJuYWxTdG9yZTogeyBbdHlwZTogc3RyaW5nXTogeyBbaWQ6IHN0cmluZ106IEpzb25BcGlNb2RlbCB9IH0gPSB7fTtcbiAgcHJpdmF0ZSB0b1F1ZXJ5U3RyaW5nOiAocGFyYW1zOiBhbnkpID0+IHN0cmluZyA9IHRoaXMuZGF0YXN0b3JlQ29uZmlnLm92ZXJyaWRlc1xuICAgICYmIHRoaXMuZGF0YXN0b3JlQ29uZmlnLm92ZXJyaWRlcy50b1F1ZXJ5U3RyaW5nID9cbiAgICB0aGlzLmRhdGFzdG9yZUNvbmZpZy5vdmVycmlkZXMudG9RdWVyeVN0cmluZyA6IHRoaXMuX3RvUXVlcnlTdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHBDbGllbnQpIHtcbiAgfVxuXG4gIHNldCBoZWFkZXJzKGhlYWRlcnM6IEh0dHBIZWFkZXJzKSB7XG4gICAgdGhpcy5nbG9iYWxIZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIHNldCByZXF1ZXN0T3B0aW9ucyhyZXF1ZXN0T3B0aW9uczogb2JqZWN0KSB7XG4gICAgdGhpcy5nbG9iYWxSZXF1ZXN0T3B0aW9ucyA9IHJlcXVlc3RPcHRpb25zO1xuICB9XG5cbiAgcHVibGljIGdldCBkYXRhc3RvcmVDb25maWcoKTogRGF0YXN0b3JlQ29uZmlnIHtcbiAgICBjb25zdCBjb25maWdGcm9tRGVjb3JhdG9yOiBEYXRhc3RvcmVDb25maWcgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oY29uZmlnRnJvbURlY29yYXRvciwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgZ2V0RGlydHlBdHRyaWJ1dGVzKCkge1xuICAgIGlmICh0aGlzLmRhdGFzdG9yZUNvbmZpZy5vdmVycmlkZXNcbiAgICAgICYmIHRoaXMuZGF0YXN0b3JlQ29uZmlnLm92ZXJyaWRlcy5nZXREaXJ0eUF0dHJpYnV0ZXMpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGFzdG9yZUNvbmZpZy5vdmVycmlkZXMuZ2V0RGlydHlBdHRyaWJ1dGVzO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbkFwaURhdGFzdG9yZS5nZXREaXJ0eUF0dHJpYnV0ZXM7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZXREaXJ0eUF0dHJpYnV0ZXMoYXR0cmlidXRlc01ldGFkYXRhOiBhbnkpOiB7IHN0cmluZzogYW55IH0ge1xuICAgIGNvbnN0IGRpcnR5RGF0YTogYW55ID0ge307XG5cbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogYW55ID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV07XG5cbiAgICAgICAgaWYgKG1ldGFkYXRhLmhhc0RpcnR5QXR0cmlidXRlcykge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBtZXRhZGF0YS5zZXJpYWxpemVkTmFtZSAhPSBudWxsID8gbWV0YWRhdGEuc2VyaWFsaXplZE5hbWUgOiBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgZGlydHlEYXRhW2F0dHJpYnV0ZU5hbWVdID0gbWV0YWRhdGEuc2VyaWFsaXNhdGlvblZhbHVlID8gbWV0YWRhdGEuc2VyaWFsaXNhdGlvblZhbHVlIDogbWV0YWRhdGEubmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpcnR5RGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgZmluZEFsbCBtZXRob2QgdG8gdGFrZSBhbGwgbW9kZWxzXG4gICAqL1xuICBxdWVyeTxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPixcbiAgICBwYXJhbXM/OiBhbnksXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzOiBIdHRwSGVhZGVycyA9IHRoaXMuYnVpbGRIdHRwSGVhZGVycyhoZWFkZXJzKTtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYnVpbGRVcmwobW9kZWxUeXBlLCBwYXJhbXMsIHVuZGVmaW5lZCwgY3VzdG9tVXJsKTtcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHsgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMgfSlcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAoKHJlczogYW55KSA9PiB0aGlzLmV4dHJhY3RRdWVyeURhdGEocmVzLCBtb2RlbFR5cGUpKSxcbiAgICAgICAgY2F0Y2hFcnJvcigocmVzOiBhbnkpID0+IHRoaXMuaGFuZGxlRXJyb3IocmVzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmluZEFsbDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPixcbiAgICBwYXJhbXM/OiBhbnksXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPEpzb25BcGlRdWVyeURhdGE8VD4+IHtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYnVpbGRVcmwobW9kZWxUeXBlLCBwYXJhbXMsIHVuZGVmaW5lZCwgY3VzdG9tVXJsKTtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9uczogb2JqZWN0ID0gdGhpcy5idWlsZFJlcXVlc3RPcHRpb25zKHsgaGVhZGVycywgb2JzZXJ2ZTogJ3Jlc3BvbnNlJyB9KTtcblxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgcmVxdWVzdE9wdGlvbnMpXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKChyZXM6IEh0dHBSZXNwb25zZTxvYmplY3Q+KSA9PiB0aGlzLmV4dHJhY3RRdWVyeURhdGEocmVzLCBtb2RlbFR5cGUsIHRydWUpKSxcbiAgICAgICAgY2F0Y2hFcnJvcigocmVzOiBhbnkpID0+IHRoaXMuaGFuZGxlRXJyb3IocmVzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmluZFJlY29yZDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPixcbiAgICBpZDogc3RyaW5nLFxuICAgIHBhcmFtcz86IGFueSxcbiAgICBoZWFkZXJzPzogSHR0cEhlYWRlcnMsXG4gICAgY3VzdG9tVXJsPzogc3RyaW5nXG4gICk6IE9ic2VydmFibGU8VD4ge1xuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBvYmplY3QgPSB0aGlzLmJ1aWxkUmVxdWVzdE9wdGlvbnMoeyBoZWFkZXJzLCBvYnNlcnZlOiAncmVzcG9uc2UnIH0pO1xuICAgIGNvbnN0IHVybDogc3RyaW5nID0gdGhpcy5idWlsZFVybChtb2RlbFR5cGUsIHBhcmFtcywgaWQsIGN1c3RvbVVybCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHJlcXVlc3RPcHRpb25zKVxuICAgICAgLnBpcGUoXG4gICAgICAgIG1hcCgocmVzOiBIdHRwUmVzcG9uc2U8b2JqZWN0PikgPT4gdGhpcy5leHRyYWN0UmVjb3JkRGF0YShyZXMsIG1vZGVsVHlwZSkpLFxuICAgICAgICBjYXRjaEVycm9yKChyZXM6IGFueSkgPT4gdGhpcy5oYW5kbGVFcnJvcihyZXMpKVxuICAgICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBjcmVhdGVSZWNvcmQ8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4obW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4sIGRhdGE/OiBhbnkpOiBUIHtcbiAgICByZXR1cm4gbmV3IG1vZGVsVHlwZSh0aGlzLCB7IGF0dHJpYnV0ZXM6IGRhdGEgfSk7XG4gIH1cblxuICBwdWJsaWMgc2F2ZVJlY29yZDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBhdHRyaWJ1dGVzTWV0YWRhdGE6IGFueSxcbiAgICBtb2RlbDogVCxcbiAgICBwYXJhbXM/OiBhbnksXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICBjb25zdCBtb2RlbFR5cGUgPSBtb2RlbC5jb25zdHJ1Y3RvciBhcyBNb2RlbFR5cGU8VD47XG4gICAgY29uc3QgbW9kZWxDb25maWc6IE1vZGVsQ29uZmlnID0gbW9kZWwubW9kZWxDb25maWc7XG4gICAgY29uc3QgdHlwZU5hbWU6IHN0cmluZyA9IG1vZGVsQ29uZmlnLnR5cGU7XG4gICAgY29uc3QgcmVsYXRpb25zaGlwczogYW55ID0gdGhpcy5nZXRSZWxhdGlvbnNoaXBzKG1vZGVsKTtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYnVpbGRVcmwobW9kZWxUeXBlLCBwYXJhbXMsIG1vZGVsLmlkLCBjdXN0b21VcmwpO1xuXG4gICAgbGV0IGh0dHBDYWxsOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxvYmplY3Q+PjtcbiAgICBjb25zdCBib2R5OiBhbnkgPSB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJlbGF0aW9uc2hpcHMsXG4gICAgICAgIHR5cGU6IHR5cGVOYW1lLFxuICAgICAgICBpZDogbW9kZWwuaWQsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHRoaXMuZ2V0RGlydHlBdHRyaWJ1dGVzKGF0dHJpYnV0ZXNNZXRhZGF0YSwgbW9kZWwpXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBvYmplY3QgPSB0aGlzLmJ1aWxkUmVxdWVzdE9wdGlvbnMoeyBoZWFkZXJzLCBvYnNlcnZlOiAncmVzcG9uc2UnIH0pO1xuXG4gICAgaWYgKG1vZGVsLmlkKSB7XG4gICAgICBodHRwQ2FsbCA9IHRoaXMuaHR0cC5wYXRjaDxvYmplY3Q+KHVybCwgYm9keSwgcmVxdWVzdE9wdGlvbnMpIGFzIE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPG9iamVjdD4+O1xuICAgIH0gZWxzZSB7XG4gICAgICBodHRwQ2FsbCA9IHRoaXMuaHR0cC5wb3N0PG9iamVjdD4odXJsLCBib2R5LCByZXF1ZXN0T3B0aW9ucykgYXMgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8b2JqZWN0Pj47XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0dHBDYWxsXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKChyZXMpID0+IFsyMDAsIDIwMV0uaW5kZXhPZihyZXMuc3RhdHVzKSAhPT0gLTEgPyB0aGlzLmV4dHJhY3RSZWNvcmREYXRhKHJlcywgbW9kZWxUeXBlLCBtb2RlbCkgOiBtb2RlbCksXG4gICAgICAgIGNhdGNoRXJyb3IoKHJlcykgPT4ge1xuICAgICAgICAgIGlmIChyZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG9mKG1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IocmVzKTtcbiAgICAgICAgfSksXG4gICAgICAgIG1hcCgocmVzKSA9PiB0aGlzLnVwZGF0ZVJlbGF0aW9uc2hpcHMocmVzLCByZWxhdGlvbnNoaXBzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZGVsZXRlUmVjb3JkPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIGlkOiBzdHJpbmcsXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnM6IG9iamVjdCA9IHRoaXMuYnVpbGRSZXF1ZXN0T3B0aW9ucyh7IGhlYWRlcnMgfSk7XG4gICAgY29uc3QgdXJsOiBzdHJpbmcgPSB0aGlzLmJ1aWxkVXJsKG1vZGVsVHlwZSwgbnVsbCwgaWQsIGN1c3RvbVVybCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLmRlbGV0ZSh1cmwsIHJlcXVlc3RPcHRpb25zKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGNhdGNoRXJyb3IoKHJlczogSHR0cEVycm9yUmVzcG9uc2UpID0+IHRoaXMuaGFuZGxlRXJyb3IocmVzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgcGVla1JlY29yZDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPiwgaWQ6IHN0cmluZyk6IFQgfCBudWxsIHtcbiAgICBjb25zdCB0eXBlOiBzdHJpbmcgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpTW9kZWxDb25maWcnLCBtb2RlbFR5cGUpLnR5cGU7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxTdG9yZVt0eXBlXSA/IHRoaXMuaW50ZXJuYWxTdG9yZVt0eXBlXVtpZF0gYXMgVCA6IG51bGw7XG4gIH1cblxuICBwdWJsaWMgcGVla0FsbDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPik6IEFycmF5PFQ+IHtcbiAgICBjb25zdCB0eXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSnNvbkFwaU1vZGVsQ29uZmlnJywgbW9kZWxUeXBlKS50eXBlO1xuICAgIGNvbnN0IHR5cGVTdG9yZSA9IHRoaXMuaW50ZXJuYWxTdG9yZVt0eXBlXTtcbiAgICByZXR1cm4gdHlwZVN0b3JlID8gT2JqZWN0LmtleXModHlwZVN0b3JlKS5tYXAoKGtleSkgPT4gdHlwZVN0b3JlW2tleV0gYXMgVCkgOiBbXTtcbiAgfVxuXG4gIHB1YmxpYyBkZXNlcmlhbGl6ZU1vZGVsPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LCBkYXRhOiBhbnkpIHtcbiAgICBkYXRhLmF0dHJpYnV0ZXMgPSB0aGlzLnRyYW5zZm9ybVNlcmlhbGl6ZWROYW1lc1RvUHJvcGVydHlOYW1lcyhtb2RlbFR5cGUsIGRhdGEuYXR0cmlidXRlcyk7XG4gICAgcmV0dXJuIG5ldyBtb2RlbFR5cGUodGhpcywgZGF0YSk7XG4gIH1cblxuICBwdWJsaWMgYWRkVG9TdG9yZShtb2RlbE9yTW9kZWxzOiBKc29uQXBpTW9kZWwgfCBKc29uQXBpTW9kZWxbXSk6IHZvaWQge1xuICAgIGNvbnN0IG1vZGVscyA9IEFycmF5LmlzQXJyYXkobW9kZWxPck1vZGVscykgPyBtb2RlbE9yTW9kZWxzIDogW21vZGVsT3JNb2RlbHNdO1xuICAgIGNvbnN0IHR5cGU6IHN0cmluZyA9IG1vZGVsc1swXS5tb2RlbENvbmZpZy50eXBlO1xuICAgIGxldCB0eXBlU3RvcmUgPSB0aGlzLmludGVybmFsU3RvcmVbdHlwZV07XG5cbiAgICBpZiAoIXR5cGVTdG9yZSkge1xuICAgICAgdHlwZVN0b3JlID0gdGhpcy5pbnRlcm5hbFN0b3JlW3R5cGVdID0ge307XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBtb2RlbCBvZiBtb2RlbHMpIHtcbiAgICAgIHR5cGVTdG9yZVttb2RlbC5pZF0gPSBtb2RlbDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdHJhbnNmb3JtU2VyaWFsaXplZE5hbWVzVG9Qcm9wZXJ0eU5hbWVzPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LCBhdHRyaWJ1dGVzOiBhbnkpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lID0gdGhpcy5nZXRNb2RlbFByb3BlcnR5TmFtZXMobW9kZWxUeXBlLnByb3RvdHlwZSk7XG4gICAgY29uc3QgcHJvcGVydGllczogYW55ID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lKS5mb3JFYWNoKChzZXJpYWxpemVkTmFtZSkgPT4ge1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlc1tzZXJpYWxpemVkTmFtZV0gIT09IG51bGwgJiYgYXR0cmlidXRlc1tzZXJpYWxpemVkTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wZXJ0aWVzW3NlcmlhbGl6ZWROYW1lVG9Qcm9wZXJ0eU5hbWVbc2VyaWFsaXplZE5hbWVdXSA9IGF0dHJpYnV0ZXNbc2VyaWFsaXplZE5hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgYnVpbGRVcmw8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4oXG4gICAgbW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4sXG4gICAgcGFyYW1zPzogYW55LFxuICAgIGlkPzogc3RyaW5nLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBzdHJpbmcge1xuICAgIC8vIFRPRE86IHVzZSBIdHRwUGFyYW1zIGluc3RlYWQgb2YgYXBwZW5kaW5nIGEgc3RyaW5nIHRvIHRoZSB1cmxcbiAgICBjb25zdCBxdWVyeVBhcmFtczogc3RyaW5nID0gdGhpcy50b1F1ZXJ5U3RyaW5nKHBhcmFtcyk7XG5cbiAgICBpZiAoY3VzdG9tVXJsKSB7XG4gICAgICByZXR1cm4gcXVlcnlQYXJhbXMgPyBgJHtjdXN0b21Vcmx9PyR7cXVlcnlQYXJhbXN9YCA6IGN1c3RvbVVybDtcbiAgICB9XG5cbiAgICBjb25zdCBtb2RlbENvbmZpZzogTW9kZWxDb25maWcgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpTW9kZWxDb25maWcnLCBtb2RlbFR5cGUpO1xuXG4gICAgY29uc3QgYmFzZVVybCA9IG1vZGVsQ29uZmlnLmJhc2VVcmwgfHwgdGhpcy5kYXRhc3RvcmVDb25maWcuYmFzZVVybDtcbiAgICBjb25zdCBhcGlWZXJzaW9uID0gbW9kZWxDb25maWcuYXBpVmVyc2lvbiB8fCB0aGlzLmRhdGFzdG9yZUNvbmZpZy5hcGlWZXJzaW9uO1xuICAgIGNvbnN0IG1vZGVsRW5kcG9pbnRVcmw6IHN0cmluZyA9IG1vZGVsQ29uZmlnLm1vZGVsRW5kcG9pbnRVcmwgfHwgbW9kZWxDb25maWcudHlwZTtcblxuICAgIGNvbnN0IHVybDogc3RyaW5nID0gW2Jhc2VVcmwsIGFwaVZlcnNpb24sIG1vZGVsRW5kcG9pbnRVcmwsIGlkXS5maWx0ZXIoKHgpID0+IHgpLmpvaW4oJy8nKTtcblxuICAgIHJldHVybiBxdWVyeVBhcmFtcyA/IGAke3VybH0/JHtxdWVyeVBhcmFtc31gIDogdXJsO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFJlbGF0aW9uc2hpcHMoZGF0YTogYW55KTogYW55IHtcbiAgICBsZXQgcmVsYXRpb25zaGlwczogYW55O1xuXG4gICAgY29uc3QgYmVsb25nc1RvTWV0YWRhdGE6IGFueVtdID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQmVsb25nc1RvJywgZGF0YSkgfHwgW107XG4gICAgY29uc3QgaGFzTWFueU1ldGFkYXRhOiBhbnlbXSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0hhc01hbnknLCBkYXRhKSB8fCBbXTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgaWYgKGRhdGFba2V5XSBpbnN0YW5jZW9mIEpzb25BcGlNb2RlbCkge1xuICAgICAgICAgIHJlbGF0aW9uc2hpcHMgPSByZWxhdGlvbnNoaXBzIHx8IHt9O1xuXG4gICAgICAgICAgaWYgKGRhdGFba2V5XS5pZCkge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gYmVsb25nc1RvTWV0YWRhdGEuZmluZCgoaXQ6IGFueSkgPT4gaXQucHJvcGVydHlOYW1lID09PSBrZXkpO1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwS2V5ID0gZW50aXR5LnJlbGF0aW9uc2hpcDtcbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcHNbcmVsYXRpb25zaGlwS2V5XSA9IHtcbiAgICAgICAgICAgICAgZGF0YTogdGhpcy5idWlsZFNpbmdsZVJlbGF0aW9uc2hpcERhdGEoZGF0YVtrZXldKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBlbnRpdHkgPSBoYXNNYW55TWV0YWRhdGEuZmluZCgoaXQ6IGFueSkgPT4gaXQucHJvcGVydHlOYW1lID09PSBrZXkpO1xuICAgICAgICAgIGlmIChlbnRpdHkgJiYgdGhpcy5pc1ZhbGlkVG9NYW55UmVsYXRpb24oZGF0YVtrZXldKSkge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwcyA9IHJlbGF0aW9uc2hpcHMgfHwge307XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcEtleSA9IGVudGl0eS5yZWxhdGlvbnNoaXA7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbnNoaXBEYXRhID0gZGF0YVtrZXldXG4gICAgICAgICAgICAgIC5maWx0ZXIoKG1vZGVsOiBKc29uQXBpTW9kZWwpID0+IG1vZGVsLmlkKVxuICAgICAgICAgICAgICAubWFwKChtb2RlbDogSnNvbkFwaU1vZGVsKSA9PiB0aGlzLmJ1aWxkU2luZ2xlUmVsYXRpb25zaGlwRGF0YShtb2RlbCkpO1xuXG4gICAgICAgICAgICByZWxhdGlvbnNoaXBzW3JlbGF0aW9uc2hpcEtleV0gPSB7XG4gICAgICAgICAgICAgIGRhdGE6IHJlbGF0aW9uc2hpcERhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IGVudGl0eSA9IGJlbG9uZ3NUb01ldGFkYXRhLmZpbmQoKGVudGl0eTogYW55KSA9PiBlbnRpdHkucHJvcGVydHlOYW1lID09PSBrZXkpO1xuXG4gICAgICAgICAgaWYgKGVudGl0eSkge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwcyA9IHJlbGF0aW9uc2hpcHMgfHwge307XG5cbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcHNbZW50aXR5LnJlbGF0aW9uc2hpcF0gPSB7XG4gICAgICAgICAgICAgIGRhdGE6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0aW9uc2hpcHM7XG4gIH1cblxuICBwcm90ZWN0ZWQgaXNWYWxpZFRvTWFueVJlbGF0aW9uKG9iamVjdHM6IEFycmF5PGFueT4pOiBib29sZWFuIHtcbiAgICBpZiAoIW9iamVjdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgaXNKc29uQXBpTW9kZWwgPSBvYmplY3RzLmV2ZXJ5KChpdGVtKSA9PiBpdGVtIGluc3RhbmNlb2YgSnNvbkFwaU1vZGVsKTtcbiAgICBpZiAoIWlzSnNvbkFwaU1vZGVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHR5cGVzID0gb2JqZWN0cy5tYXAoKGl0ZW06IEpzb25BcGlNb2RlbCkgPT4gaXRlbS5tb2RlbENvbmZpZy5tb2RlbEVuZHBvaW50VXJsIHx8IGl0ZW0ubW9kZWxDb25maWcudHlwZSk7XG4gICAgcmV0dXJuIHR5cGVzXG4gICAgICAuZmlsdGVyKCh0eXBlOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIHNlbGY6IHN0cmluZ1tdKSA9PiBzZWxmLmluZGV4T2YodHlwZSkgPT09IGluZGV4KVxuICAgICAgLmxlbmd0aCA9PT0gMTtcbiAgfVxuXG4gIHByb3RlY3RlZCBidWlsZFNpbmdsZVJlbGF0aW9uc2hpcERhdGEobW9kZWw6IEpzb25BcGlNb2RlbCk6IGFueSB7XG4gICAgY29uc3QgcmVsYXRpb25zaGlwVHlwZTogc3RyaW5nID0gbW9kZWwubW9kZWxDb25maWcudHlwZTtcbiAgICBjb25zdCByZWxhdGlvblNoaXBEYXRhOiB7IHR5cGU6IHN0cmluZywgaWQ/OiBzdHJpbmcsIGF0dHJpYnV0ZXM/OiBhbnkgfSA9IHsgdHlwZTogcmVsYXRpb25zaGlwVHlwZSB9O1xuXG4gICAgaWYgKG1vZGVsLmlkKSB7XG4gICAgICByZWxhdGlvblNoaXBEYXRhLmlkID0gbW9kZWwuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZXNNZXRhZGF0YTogYW55ID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlJywgbW9kZWwpO1xuICAgICAgcmVsYXRpb25TaGlwRGF0YS5hdHRyaWJ1dGVzID0gdGhpcy5nZXREaXJ0eUF0dHJpYnV0ZXMoYXR0cmlidXRlc01ldGFkYXRhLCBtb2RlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0aW9uU2hpcERhdGE7XG4gIH1cblxuICBwcm90ZWN0ZWQgZXh0cmFjdFF1ZXJ5RGF0YTxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICByZXNwb25zZTogSHR0cFJlc3BvbnNlPG9iamVjdD4sXG4gICAgbW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4sXG4gICAgd2l0aE1ldGEgPSBmYWxzZVxuICApOiBBcnJheTxUPiB8IEpzb25BcGlRdWVyeURhdGE8VD4ge1xuICAgIGNvbnN0IGJvZHk6IGFueSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgY29uc3QgbW9kZWxzOiBUW10gPSBbXTtcblxuICAgIGJvZHkuZGF0YS5mb3JFYWNoKChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsOiBUID0gdGhpcy5kZXNlcmlhbGl6ZU1vZGVsKG1vZGVsVHlwZSwgZGF0YSk7XG4gICAgICB0aGlzLmFkZFRvU3RvcmUobW9kZWwpO1xuXG4gICAgICBpZiAoYm9keS5pbmNsdWRlZCkge1xuICAgICAgICBtb2RlbC5zeW5jUmVsYXRpb25zaGlwcyhkYXRhLCBib2R5LmluY2x1ZGVkLmNvbmNhdChkYXRhKSk7XG4gICAgICAgIHRoaXMuYWRkVG9TdG9yZShtb2RlbCk7XG4gICAgICB9XG5cbiAgICAgIG1vZGVscy5wdXNoKG1vZGVsKTtcbiAgICB9KTtcblxuICAgIGlmICh3aXRoTWV0YSAmJiB3aXRoTWV0YSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG5ldyBKc29uQXBpUXVlcnlEYXRhKG1vZGVscywgdGhpcy5wYXJzZU1ldGEoYm9keSwgbW9kZWxUeXBlKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVscztcbiAgfVxuXG4gIHByb3RlY3RlZCBleHRyYWN0UmVjb3JkRGF0YTxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICByZXM6IEh0dHBSZXNwb25zZTxvYmplY3Q+LFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIG1vZGVsPzogVFxuICApOiBUIHtcbiAgICBjb25zdCBib2R5OiBhbnkgPSByZXMuYm9keTtcbiAgICAvLyBFcnJvciBpbiBBbmd1bGFyIDwgNS4yLjQgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8yMDc0NClcbiAgICAvLyBudWxsIGlzIGNvbnZlcnRlZCB0byAnbnVsbCcsIHNvIHRoaXMgaXMgdGVtcG9yYXJ5IG5lZWRlZCB0byBtYWtlIHRlc3RjYXNlIHBvc3NpYmxlXG4gICAgLy8gKGFuZCB0byBhdm9pZCBhIGRlY3JlYXNlIG9mIHRoZSBjb3ZlcmFnZSlcbiAgICBpZiAoIWJvZHkgfHwgYm9keSA9PT0gJ251bGwnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGJvZHkgaW4gcmVzcG9uc2UnKTtcbiAgICB9XG5cbiAgICBpZiAoIWJvZHkuZGF0YSkge1xuICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMSB8fCAhbW9kZWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBkYXRhIGluIHJlc3BvbnNlJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfVxuXG4gICAgaWYgKG1vZGVsKSB7XG4gICAgICBtb2RlbC5tb2RlbEluaXRpYWxpemF0aW9uID0gdHJ1ZTtcbiAgICAgIG1vZGVsLmlkID0gYm9keS5kYXRhLmlkO1xuICAgICAgT2JqZWN0LmFzc2lnbihtb2RlbCwgYm9keS5kYXRhLmF0dHJpYnV0ZXMpO1xuICAgICAgbW9kZWwubW9kZWxJbml0aWFsaXphdGlvbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGRlc2VyaWFsaXplZE1vZGVsID0gbW9kZWwgfHwgdGhpcy5kZXNlcmlhbGl6ZU1vZGVsKG1vZGVsVHlwZSwgYm9keS5kYXRhKTtcbiAgICB0aGlzLmFkZFRvU3RvcmUoZGVzZXJpYWxpemVkTW9kZWwpO1xuICAgIGlmIChib2R5LmluY2x1ZGVkKSB7XG4gICAgICBkZXNlcmlhbGl6ZWRNb2RlbC5zeW5jUmVsYXRpb25zaGlwcyhib2R5LmRhdGEsIGJvZHkuaW5jbHVkZWQpO1xuICAgICAgdGhpcy5hZGRUb1N0b3JlKGRlc2VyaWFsaXplZE1vZGVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVzZXJpYWxpemVkTW9kZWw7XG4gIH1cblxuICBwcm90ZWN0ZWQgaGFuZGxlRXJyb3IoZXJyb3I6IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgaWYgKFxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBIdHRwRXJyb3JSZXNwb25zZSAmJlxuICAgICAgZXJyb3IuZXJyb3IgaW5zdGFuY2VvZiBPYmplY3QgJiZcbiAgICAgIGVycm9yLmVycm9yLmVycm9ycyAmJlxuICAgICAgZXJyb3IuZXJyb3IuZXJyb3JzIGluc3RhbmNlb2YgQXJyYXlcbiAgICApIHtcbiAgICAgIGNvbnN0IGVycm9yczogRXJyb3JSZXNwb25zZSA9IG5ldyBFcnJvclJlc3BvbnNlKGVycm9yLmVycm9yLmVycm9ycyk7XG4gICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnJvcnMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aHJvd0Vycm9yKGVycm9yKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwYXJzZU1ldGEoYm9keTogYW55LCBtb2RlbFR5cGU6IE1vZGVsVHlwZTxKc29uQXBpTW9kZWw+KTogYW55IHtcbiAgICBjb25zdCBtZXRhTW9kZWw6IGFueSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0pzb25BcGlNb2RlbENvbmZpZycsIG1vZGVsVHlwZSkubWV0YTtcbiAgICByZXR1cm4gbmV3IG1ldGFNb2RlbChib2R5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYnVpbGRIdHRwSGVhZGVycyBtZXRob2QgdG8gYnVpbGQgcmVxdWVzdCBoZWFkZXJzXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0T3B0aW9ucyhjdXN0b21IZWFkZXJzPzogSHR0cEhlYWRlcnMpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmJ1aWxkSHR0cEhlYWRlcnMoY3VzdG9tSGVhZGVycyksXG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBidWlsZEh0dHBIZWFkZXJzKGN1c3RvbUhlYWRlcnM/OiBIdHRwSGVhZGVycyk6IEh0dHBIZWFkZXJzIHtcbiAgICBsZXQgcmVxdWVzdEhlYWRlcnM6IEh0dHBIZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKHtcbiAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL3ZuZC5hcGkranNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3ZuZC5hcGkranNvbidcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmdsb2JhbEhlYWRlcnMpIHtcbiAgICAgIHRoaXMuZ2xvYmFsSGVhZGVycy5rZXlzKCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmdsb2JhbEhlYWRlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzLnNldChrZXksIHRoaXMuZ2xvYmFsSGVhZGVycy5nZXQoa2V5KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjdXN0b21IZWFkZXJzKSB7XG4gICAgICBjdXN0b21IZWFkZXJzLmtleXMoKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKGN1c3RvbUhlYWRlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzLnNldChrZXksIGN1c3RvbUhlYWRlcnMuZ2V0KGtleSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVxdWVzdEhlYWRlcnM7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVzZXRNZXRhZGF0YUF0dHJpYnV0ZXM8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4ocmVzOiBULCBhdHRyaWJ1dGVzTWV0YWRhdGE6IGFueSwgbW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4pIHtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogYW55ID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV07XG5cbiAgICAgICAgaWYgKG1ldGFkYXRhLmhhc0RpcnR5QXR0cmlidXRlcykge1xuICAgICAgICAgIG1ldGFkYXRhLmhhc0RpcnR5QXR0cmlidXRlcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJlc1tBdHRyaWJ1dGVNZXRhZGF0YUluZGV4XSA9IGF0dHJpYnV0ZXNNZXRhZGF0YTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZVJlbGF0aW9uc2hpcHM8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4obW9kZWw6IFQsIHJlbGF0aW9uc2hpcHM6IGFueSk6IFQge1xuICAgIGNvbnN0IG1vZGVsc1R5cGVzOiBhbnkgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3RvcikubW9kZWxzO1xuXG4gICAgZm9yIChjb25zdCByZWxhdGlvbnNoaXAgaW4gcmVsYXRpb25zaGlwcykge1xuICAgICAgaWYgKHJlbGF0aW9uc2hpcHMuaGFzT3duUHJvcGVydHkocmVsYXRpb25zaGlwKSAmJiBtb2RlbC5oYXNPd25Qcm9wZXJ0eShyZWxhdGlvbnNoaXApICYmIG1vZGVsW3JlbGF0aW9uc2hpcF0pIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwTW9kZWw6IEpzb25BcGlNb2RlbCA9IG1vZGVsW3JlbGF0aW9uc2hpcF07XG4gICAgICAgIGNvbnN0IGhhc01hbnk6IGFueVtdID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSGFzTWFueScsIHJlbGF0aW9uc2hpcE1vZGVsKTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlIYXNNYW55OiBhbnkgPSBmaW5kKGhhc01hbnksIChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICAgIHJldHVybiBtb2RlbHNUeXBlc1twcm9wZXJ0eS5yZWxhdGlvbnNoaXBdID09PSBtb2RlbC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHByb3BlcnR5SGFzTWFueSkge1xuICAgICAgICAgIHJlbGF0aW9uc2hpcE1vZGVsW3Byb3BlcnR5SGFzTWFueS5wcm9wZXJ0eU5hbWVdID0gcmVsYXRpb25zaGlwTW9kZWxbcHJvcGVydHlIYXNNYW55LnByb3BlcnR5TmFtZV0gfHwgW107XG5cbiAgICAgICAgICBjb25zdCBpbmRleE9mTW9kZWwgPSByZWxhdGlvbnNoaXBNb2RlbFtwcm9wZXJ0eUhhc01hbnkucHJvcGVydHlOYW1lXS5pbmRleE9mKG1vZGVsKTtcblxuICAgICAgICAgIGlmIChpbmRleE9mTW9kZWwgPT09IC0xKSB7XG4gICAgICAgICAgICByZWxhdGlvbnNoaXBNb2RlbFtwcm9wZXJ0eUhhc01hbnkucHJvcGVydHlOYW1lXS5wdXNoKG1vZGVsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwTW9kZWxbcHJvcGVydHlIYXNNYW55LnByb3BlcnR5TmFtZV1baW5kZXhPZk1vZGVsXSA9IG1vZGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRNb2RlbFByb3BlcnR5TmFtZXMobW9kZWw6IEpzb25BcGlNb2RlbCkge1xuICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKCdBdHRyaWJ1dGVNYXBwaW5nJywgbW9kZWwpIHx8IFtdO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZFJlcXVlc3RPcHRpb25zKGN1c3RvbU9wdGlvbnM6IGFueSA9IHt9KTogb2JqZWN0IHtcbiAgICBjb25zdCBodHRwSGVhZGVyczogSHR0cEhlYWRlcnMgPSB0aGlzLmJ1aWxkSHR0cEhlYWRlcnMoY3VzdG9tT3B0aW9ucy5oZWFkZXJzKTtcblxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBvYmplY3QgPSBPYmplY3QuYXNzaWduKGN1c3RvbU9wdGlvbnMsIHtcbiAgICAgIGhlYWRlcnM6IGh0dHBIZWFkZXJzXG4gICAgfSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLmdsb2JhbFJlcXVlc3RPcHRpb25zLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIF90b1F1ZXJ5U3RyaW5nKHBhcmFtczogYW55KTogc3RyaW5nIHtcbiAgICByZXR1cm4gcXMuc3RyaW5naWZ5KHBhcmFtcywgeyBhcnJheUZvcm1hdDogJ2JyYWNrZXRzJyB9KTtcbiAgfVxufVxuIl19","start":16889,"end":61083}]},"code":"import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { find } from 'lodash';\nimport { catchError, map } from 'rxjs/operators';\nimport { of, throwError } from 'rxjs';\nimport { JsonApiModel } from '../models/json-api.model';\nimport { ErrorResponse } from '../models/error-response.model';\nimport { JsonApiQueryData } from '../models/json-api-query-data';\nimport * as qs from 'qs';\nimport { AttributeMetadata } from '../constants/symbols';\nimport 'reflect-metadata';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\n/**\n * HACK/FIXME:\n * Type 'symbol' cannot be used as an index type.\n * TypeScript 2.9.x\n * See https://github.com/Microsoft/TypeScript/issues/24587.\n */\n// tslint:disable-next-line:variable-name\nconst AttributeMetadataIndex = AttributeMetadata;\nexport class JsonApiDatastore {\n    constructor(http) {\n        this.http = http;\n        this.globalRequestOptions = {};\n        this.internalStore = {};\n        this.toQueryString = this.datastoreConfig.overrides\n            && this.datastoreConfig.overrides.toQueryString ?\n            this.datastoreConfig.overrides.toQueryString : this._toQueryString;\n    }\n    set headers(headers) {\n        this.globalHeaders = headers;\n    }\n    set requestOptions(requestOptions) {\n        this.globalRequestOptions = requestOptions;\n    }\n    get datastoreConfig() {\n        const configFromDecorator = Reflect.getMetadata('JsonApiDatastoreConfig', this.constructor);\n        return Object.assign(configFromDecorator, this.config);\n    }\n    get getDirtyAttributes() {\n        if (this.datastoreConfig.overrides\n            && this.datastoreConfig.overrides.getDirtyAttributes) {\n            return this.datastoreConfig.overrides.getDirtyAttributes;\n        }\n        return JsonApiDatastore.getDirtyAttributes;\n    }\n    static getDirtyAttributes(attributesMetadata) {\n        const dirtyData = {};\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                const metadata = attributesMetadata[propertyName];\n                if (metadata.hasDirtyAttributes) {\n                    const attributeName = metadata.serializedName != null ? metadata.serializedName : propertyName;\n                    dirtyData[attributeName] = metadata.serialisationValue ? metadata.serialisationValue : metadata.newValue;\n                }\n            }\n        }\n        return dirtyData;\n    }\n    /**\n     * @deprecated use findAll method to take all models\n     */\n    query(modelType, params, headers, customUrl) {\n        const requestHeaders = this.buildHttpHeaders(headers);\n        const url = this.buildUrl(modelType, params, undefined, customUrl);\n        return this.http.get(url, { headers: requestHeaders })\n            .pipe(map((res) => this.extractQueryData(res, modelType)), catchError((res) => this.handleError(res)));\n    }\n    findAll(modelType, params, headers, customUrl) {\n        const url = this.buildUrl(modelType, params, undefined, customUrl);\n        const requestOptions = this.buildRequestOptions({ headers, observe: 'response' });\n        return this.http.get(url, requestOptions)\n            .pipe(map((res) => this.extractQueryData(res, modelType, true)), catchError((res) => this.handleError(res)));\n    }\n    findRecord(modelType, id, params, headers, customUrl) {\n        const requestOptions = this.buildRequestOptions({ headers, observe: 'response' });\n        const url = this.buildUrl(modelType, params, id, customUrl);\n        return this.http.get(url, requestOptions)\n            .pipe(map((res) => this.extractRecordData(res, modelType)), catchError((res) => this.handleError(res)));\n    }\n    createRecord(modelType, data) {\n        return new modelType(this, { attributes: data });\n    }\n    saveRecord(attributesMetadata, model, params, headers, customUrl) {\n        const modelType = model.constructor;\n        const modelConfig = model.modelConfig;\n        const typeName = modelConfig.type;\n        const relationships = this.getRelationships(model);\n        const url = this.buildUrl(modelType, params, model.id, customUrl);\n        let httpCall;\n        const body = {\n            data: {\n                relationships,\n                type: typeName,\n                id: model.id,\n                attributes: this.getDirtyAttributes(attributesMetadata, model)\n            }\n        };\n        const requestOptions = this.buildRequestOptions({ headers, observe: 'response' });\n        if (model.id) {\n            httpCall = this.http.patch(url, body, requestOptions);\n        }\n        else {\n            httpCall = this.http.post(url, body, requestOptions);\n        }\n        return httpCall\n            .pipe(map((res) => [200, 201].indexOf(res.status) !== -1 ? this.extractRecordData(res, modelType, model) : model), catchError((res) => {\n            if (res == null) {\n                return of(model);\n            }\n            return this.handleError(res);\n        }), map((res) => this.updateRelationships(res, relationships)));\n    }\n    deleteRecord(modelType, id, headers, customUrl) {\n        const requestOptions = this.buildRequestOptions({ headers });\n        const url = this.buildUrl(modelType, null, id, customUrl);\n        return this.http.delete(url, requestOptions)\n            .pipe(catchError((res) => this.handleError(res)));\n    }\n    peekRecord(modelType, id) {\n        const type = Reflect.getMetadata('JsonApiModelConfig', modelType).type;\n        return this.internalStore[type] ? this.internalStore[type][id] : null;\n    }\n    peekAll(modelType) {\n        const type = Reflect.getMetadata('JsonApiModelConfig', modelType).type;\n        const typeStore = this.internalStore[type];\n        return typeStore ? Object.keys(typeStore).map((key) => typeStore[key]) : [];\n    }\n    deserializeModel(modelType, data) {\n        data.attributes = this.transformSerializedNamesToPropertyNames(modelType, data.attributes);\n        return new modelType(this, data);\n    }\n    addToStore(modelOrModels) {\n        const models = Array.isArray(modelOrModels) ? modelOrModels : [modelOrModels];\n        const type = models[0].modelConfig.type;\n        let typeStore = this.internalStore[type];\n        if (!typeStore) {\n            typeStore = this.internalStore[type] = {};\n        }\n        for (const model of models) {\n            typeStore[model.id] = model;\n        }\n    }\n    transformSerializedNamesToPropertyNames(modelType, attributes) {\n        const serializedNameToPropertyName = this.getModelPropertyNames(modelType.prototype);\n        const properties = {};\n        Object.keys(serializedNameToPropertyName).forEach((serializedName) => {\n            if (attributes && attributes[serializedName] !== null && attributes[serializedName] !== undefined) {\n                properties[serializedNameToPropertyName[serializedName]] = attributes[serializedName];\n            }\n        });\n        return properties;\n    }\n    buildUrl(modelType, params, id, customUrl) {\n        // TODO: use HttpParams instead of appending a string to the url\n        const queryParams = this.toQueryString(params);\n        if (customUrl) {\n            return queryParams ? `${customUrl}?${queryParams}` : customUrl;\n        }\n        const modelConfig = Reflect.getMetadata('JsonApiModelConfig', modelType);\n        const baseUrl = modelConfig.baseUrl || this.datastoreConfig.baseUrl;\n        const apiVersion = modelConfig.apiVersion || this.datastoreConfig.apiVersion;\n        const modelEndpointUrl = modelConfig.modelEndpointUrl || modelConfig.type;\n        const url = [baseUrl, apiVersion, modelEndpointUrl, id].filter((x) => x).join('/');\n        return queryParams ? `${url}?${queryParams}` : url;\n    }\n    getRelationships(data) {\n        let relationships;\n        const belongsToMetadata = Reflect.getMetadata('BelongsTo', data) || [];\n        const hasManyMetadata = Reflect.getMetadata('HasMany', data) || [];\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                if (data[key] instanceof JsonApiModel) {\n                    relationships = relationships || {};\n                    if (data[key].id) {\n                        const entity = belongsToMetadata.find((it) => it.propertyName === key);\n                        const relationshipKey = entity.relationship;\n                        relationships[relationshipKey] = {\n                            data: this.buildSingleRelationshipData(data[key])\n                        };\n                    }\n                }\n                else if (data[key] instanceof Array) {\n                    const entity = hasManyMetadata.find((it) => it.propertyName === key);\n                    if (entity && this.isValidToManyRelation(data[key])) {\n                        relationships = relationships || {};\n                        const relationshipKey = entity.relationship;\n                        const relationshipData = data[key]\n                            .filter((model) => model.id)\n                            .map((model) => this.buildSingleRelationshipData(model));\n                        relationships[relationshipKey] = {\n                            data: relationshipData\n                        };\n                    }\n                }\n                else if (data[key] === null) {\n                    const entity = belongsToMetadata.find((entity) => entity.propertyName === key);\n                    if (entity) {\n                        relationships = relationships || {};\n                        relationships[entity.relationship] = {\n                            data: null\n                        };\n                    }\n                }\n            }\n        }\n        return relationships;\n    }\n    isValidToManyRelation(objects) {\n        if (!objects.length) {\n            return true;\n        }\n        const isJsonApiModel = objects.every((item) => item instanceof JsonApiModel);\n        if (!isJsonApiModel) {\n            return false;\n        }\n        const types = objects.map((item) => item.modelConfig.modelEndpointUrl || item.modelConfig.type);\n        return types\n            .filter((type, index, self) => self.indexOf(type) === index)\n            .length === 1;\n    }\n    buildSingleRelationshipData(model) {\n        const relationshipType = model.modelConfig.type;\n        const relationShipData = { type: relationshipType };\n        if (model.id) {\n            relationShipData.id = model.id;\n        }\n        else {\n            const attributesMetadata = Reflect.getMetadata('Attribute', model);\n            relationShipData.attributes = this.getDirtyAttributes(attributesMetadata, model);\n        }\n        return relationShipData;\n    }\n    extractQueryData(response, modelType, withMeta = false) {\n        const body = response.body;\n        const models = [];\n        body.data.forEach((data) => {\n            const model = this.deserializeModel(modelType, data);\n            this.addToStore(model);\n            if (body.included) {\n                model.syncRelationships(data, body.included.concat(data));\n                this.addToStore(model);\n            }\n            models.push(model);\n        });\n        if (withMeta && withMeta === true) {\n            return new JsonApiQueryData(models, this.parseMeta(body, modelType));\n        }\n        return models;\n    }\n    extractRecordData(res, modelType, model) {\n        const body = res.body;\n        // Error in Angular < 5.2.4 (see https://github.com/angular/angular/issues/20744)\n        // null is converted to 'null', so this is temporary needed to make testcase possible\n        // (and to avoid a decrease of the coverage)\n        if (!body || body === 'null') {\n            throw new Error('no body in response');\n        }\n        if (!body.data) {\n            if (res.status === 201 || !model) {\n                throw new Error('expected data in response');\n            }\n            return model;\n        }\n        if (model) {\n            model.modelInitialization = true;\n            model.id = body.data.id;\n            Object.assign(model, body.data.attributes);\n            model.modelInitialization = false;\n        }\n        const deserializedModel = model || this.deserializeModel(modelType, body.data);\n        this.addToStore(deserializedModel);\n        if (body.included) {\n            deserializedModel.syncRelationships(body.data, body.included);\n            this.addToStore(deserializedModel);\n        }\n        return deserializedModel;\n    }\n    handleError(error) {\n        if (error instanceof HttpErrorResponse &&\n            error.error instanceof Object &&\n            error.error.errors &&\n            error.error.errors instanceof Array) {\n            const errors = new ErrorResponse(error.error.errors);\n            return throwError(errors);\n        }\n        return throwError(error);\n    }\n    parseMeta(body, modelType) {\n        const metaModel = Reflect.getMetadata('JsonApiModelConfig', modelType).meta;\n        return new metaModel(body);\n    }\n    /**\n     * @deprecated use buildHttpHeaders method to build request headers\n     */\n    getOptions(customHeaders) {\n        return {\n            headers: this.buildHttpHeaders(customHeaders),\n        };\n    }\n    buildHttpHeaders(customHeaders) {\n        let requestHeaders = new HttpHeaders({\n            Accept: 'application/vnd.api+json',\n            'Content-Type': 'application/vnd.api+json'\n        });\n        if (this.globalHeaders) {\n            this.globalHeaders.keys().forEach((key) => {\n                if (this.globalHeaders.has(key)) {\n                    requestHeaders = requestHeaders.set(key, this.globalHeaders.get(key));\n                }\n            });\n        }\n        if (customHeaders) {\n            customHeaders.keys().forEach((key) => {\n                if (customHeaders.has(key)) {\n                    requestHeaders = requestHeaders.set(key, customHeaders.get(key));\n                }\n            });\n        }\n        return requestHeaders;\n    }\n    resetMetadataAttributes(res, attributesMetadata, modelType) {\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                const metadata = attributesMetadata[propertyName];\n                if (metadata.hasDirtyAttributes) {\n                    metadata.hasDirtyAttributes = false;\n                }\n            }\n        }\n        // @ts-ignore\n        res[AttributeMetadataIndex] = attributesMetadata;\n        return res;\n    }\n    updateRelationships(model, relationships) {\n        const modelsTypes = Reflect.getMetadata('JsonApiDatastoreConfig', this.constructor).models;\n        for (const relationship in relationships) {\n            if (relationships.hasOwnProperty(relationship) && model.hasOwnProperty(relationship) && model[relationship]) {\n                const relationshipModel = model[relationship];\n                const hasMany = Reflect.getMetadata('HasMany', relationshipModel);\n                const propertyHasMany = find(hasMany, (property) => {\n                    return modelsTypes[property.relationship] === model.constructor;\n                });\n                if (propertyHasMany) {\n                    relationshipModel[propertyHasMany.propertyName] = relationshipModel[propertyHasMany.propertyName] || [];\n                    const indexOfModel = relationshipModel[propertyHasMany.propertyName].indexOf(model);\n                    if (indexOfModel === -1) {\n                        relationshipModel[propertyHasMany.propertyName].push(model);\n                    }\n                    else {\n                        relationshipModel[propertyHasMany.propertyName][indexOfModel] = model;\n                    }\n                }\n            }\n        }\n        return model;\n    }\n    getModelPropertyNames(model) {\n        return Reflect.getMetadata('AttributeMapping', model) || [];\n    }\n    buildRequestOptions(customOptions = {}) {\n        const httpHeaders = this.buildHttpHeaders(customOptions.headers);\n        const requestOptions = Object.assign(customOptions, {\n            headers: httpHeaders\n        });\n        return Object.assign(this.globalRequestOptions, requestOptions);\n    }\n    _toQueryString(params) {\n        return qs.stringify(params, { arrayFormat: 'brackets' });\n    }\n}\n/** @nocollapse */ JsonApiDatastore.fac = function JsonApiDatastore_Factory(t) { return new (t || JsonApiDatastore)(i0.inject(i1.HttpClient)); };\n/** @nocollapse */ JsonApiDatastore.prov = /** @pureOrBreakMyCode */ i0.defineInjectable({ token: JsonApiDatastore, factory: JsonApiDatastore.fac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(JsonApiDatastore, [{\n        type: Injectable\n    }], function () { return [{ type: i1.HttpClient }]; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktZGF0YXN0b3JlLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9zZXJ2aWNlcy9qc29uLWFwaS1kYXRhc3RvcmUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsV0FBVyxFQUFnQixNQUFNLHNCQUFzQixDQUFDO0FBQ2hHLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDOUIsT0FBTyxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNqRCxPQUFPLEVBQWMsRUFBRSxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNsRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDeEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQy9ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ2pFLE9BQU8sS0FBSyxFQUFFLE1BQU0sSUFBSSxDQUFDO0FBR3pCLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3pELE9BQU8sa0JBQWtCLENBQUM7OztBQUkxQjs7Ozs7R0FLRztBQUNILHlDQUF5QztBQUN6QyxNQUFNLHNCQUFzQixHQUFXLGlCQUF3QixDQUFDO0FBR2hFLE1BQU0sT0FBTyxnQkFBZ0I7SUFVM0IsWUFBc0IsSUFBZ0I7UUFBaEIsU0FBSSxHQUFKLElBQUksQ0FBWTtRQU45Qix5QkFBb0IsR0FBVyxFQUFFLENBQUM7UUFDbEMsa0JBQWEsR0FBdUQsRUFBRSxDQUFDO1FBQ3ZFLGtCQUFhLEdBQTRCLElBQUksQ0FBQyxlQUFlLENBQUMsU0FB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Q0FBQyxZQUFZLENBQUMsR0FBRyxLQUFLLENBQUM7cUJBQ3ZFO2lCQUNGO2FBQ0Y7U0FDRjtRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVTLHFCQUFxQixDQUFDLEtBQW1CO1FBQ2pELE9BQU8sT0FBTyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDOUQsQ0FBQztJQUVPLG1CQUFtQixDQUFDLGdCQUFxQixFQUFFO1FBQ2pELE1BQU0sV0FBVyxHQUFnQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTlFLE1BQU0sY0FBYyxHQUFXLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFO1lBQzFELE9BQU8sRUFBRSxXQUFXO1NBQ3JCLENBQUMsQ0FBQztRQUVILE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVPLGNBQWMsQ0FBQyxNQUFXO1FBQ2hDLE9BQU8sRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQztJQUMzRCxDQUFDOzttR0FyZVUsZ0JBQWdCO3FHQUFoQixnQkFBZ0IsV0FBaEIsZ0JBQWdCO3VGQUFoQixnQkFBZ0I7Y0FENUIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBFcnJvclJlc3BvbnNlLCBIdHRwSGVhZGVycywgSHR0cFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgZmluZCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBjYXRjaEVycm9yLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSnNvbkFwaU1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL2pzb24tYXBpLm1vZGVsJztcbmltcG9ydCB7IEVycm9yUmVzcG9uc2UgfSBmcm9tICcuLi9tb2RlbHMvZXJyb3ItcmVzcG9uc2UubW9kZWwnO1xuaW1wb3J0IHsgSnNvbkFwaVF1ZXJ5RGF0YSB9IGZyb20gJy4uL21vZGVscy9qc29uLWFwaS1xdWVyeS1kYXRhJztcbmltcG9ydCAqIGFzIHFzIGZyb20gJ3FzJztcbmltcG9ydCB7IERhdGFzdG9yZUNvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZGF0YXN0b3JlLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgTW9kZWxDb25maWcgfSBmcm9tICcuLi9pbnRlcmZhY2VzL21vZGVsLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgQXR0cmlidXRlTWV0YWRhdGEgfSBmcm9tICcuLi9jb25zdGFudHMvc3ltYm9scyc7XG5pbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuXG5leHBvcnQgdHlwZSBNb2RlbFR5cGU8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4gPSBuZXcgKGRhdGFzdG9yZTogSnNvbkFwaURhdGFzdG9yZSwgZGF0YTogYW55KSA9PiBUO1xuXG4vKipcbiAqIEhBQ0svRklYTUU6XG4gKiBUeXBlICdzeW1ib2wnIGNhbm5vdCBiZSB1c2VkIGFzIGFuIGluZGV4IHR5cGUuXG4gKiBUeXBlU2NyaXB0IDIuOS54XG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4Ny5cbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbmNvbnN0IEF0dHJpYnV0ZU1ldGFkYXRhSW5kZXg6IHN0cmluZyA9IEF0dHJpYnV0ZU1ldGFkYXRhIGFzIGFueTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEpzb25BcGlEYXRhc3RvcmUge1xuXG4gIHByb3RlY3RlZCBjb25maWc6IERhdGFzdG9yZUNvbmZpZztcbiAgcHJpdmF0ZSBnbG9iYWxIZWFkZXJzOiBIdHRwSGVhZGVycztcbiAgcHJpdmF0ZSBnbG9iYWxSZXF1ZXN0T3B0aW9uczogb2JqZWN0ID0ge307XG4gIHByaXZhdGUgaW50ZXJuYWxTdG9yZTogeyBbdHlwZTogc3RyaW5nXTogeyBbaWQ6IHN0cmluZ106IEpzb25BcGlNb2RlbCB9IH0gPSB7fTtcbiAgcHJpdmF0ZSB0b1F1ZXJ5U3RyaW5nOiAocGFyYW1zOiBhbnkpID0+IHN0cmluZyA9IHRoaXMuZGF0YXN0b3JlQ29uZmlnLm92ZXJyaWRlc1xuICAgICYmIHRoaXMuZGF0YXN0b3JlQ29uZmlnLm92ZXJyaWRlcy50b1F1ZXJ5U3RyaW5nID9cbiAgICB0aGlzLmRhdGFzdG9yZUNvbmZpZy5vdmVycmlkZXMudG9RdWVyeVN0cmluZyA6IHRoaXMuX3RvUXVlcnlTdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHBDbGllbnQpIHtcbiAgfVxuXG4gIHNldCBoZWFkZXJzKGhlYWRlcnM6IEh0dHBIZWFkZXJzKSB7XG4gICAgdGhpcy5nbG9iYWxIZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIHNldCByZXF1ZXN0T3B0aW9ucyhyZXF1ZXN0T3B0aW9uczogb2JqZWN0KSB7XG4gICAgdGhpcy5nbG9iYWxSZXF1ZXN0T3B0aW9ucyA9IHJlcXVlc3RPcHRpb25zO1xuICB9XG5cbiAgcHVibGljIGdldCBkYXRhc3RvcmVDb25maWcoKTogRGF0YXN0b3JlQ29uZmlnIHtcbiAgICBjb25zdCBjb25maWdGcm9tRGVjb3JhdG9yOiBEYXRhc3RvcmVDb25maWcgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oY29uZmlnRnJvbURlY29yYXRvciwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgZ2V0RGlydHlBdHRyaWJ1dGVzKCkge1xuICAgIGlmICh0aGlzLmRhdGFzdG9yZUNvbmZpZy5vdmVycmlkZXNcbiAgICAgICYmIHRoaXMuZGF0YXN0b3JlQ29uZmlnLm92ZXJyaWRlcy5nZXREaXJ0eUF0dHJpYnV0ZXMpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGFzdG9yZUNvbmZpZy5vdmVycmlkZXMuZ2V0RGlydHlBdHRyaWJ1dGVzO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbkFwaURhdGFzdG9yZS5nZXREaXJ0eUF0dHJpYnV0ZXM7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZXREaXJ0eUF0dHJpYnV0ZXMoYXR0cmlidXRlc01ldGFkYXRhOiBhbnkpOiB7IHN0cmluZzogYW55IH0ge1xuICAgIGNvbnN0IGRpcnR5RGF0YTogYW55ID0ge307XG5cbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogYW55ID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV07XG5cbiAgICAgICAgaWYgKG1ldGFkYXRhLmhhc0RpcnR5QXR0cmlidXRlcykge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBtZXRhZGF0YS5zZXJpYWxpemVkTmFtZSAhPSBudWxsID8gbWV0YWRhdGEuc2VyaWFsaXplZE5hbWUgOiBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgZGlydHlEYXRhW2F0dHJpYnV0ZU5hbWVdID0gbWV0YWRhdGEuc2VyaWFsaXNhdGlvblZhbHVlID8gbWV0YWRhdGEuc2VyaWFsaXNhdGlvblZhbHVlIDogbWV0YWRhdGEubmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpcnR5RGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgZmluZEFsbCBtZXRob2QgdG8gdGFrZSBhbGwgbW9kZWxzXG4gICAqL1xuICBxdWVyeTxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPixcbiAgICBwYXJhbXM/OiBhbnksXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzOiBIdHRwSGVhZGVycyA9IHRoaXMuYnVpbGRIdHRwSGVhZGVycyhoZWFkZXJzKTtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYnVpbGRVcmwobW9kZWxUeXBlLCBwYXJhbXMsIHVuZGVmaW5lZCwgY3VzdG9tVXJsKTtcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHsgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMgfSlcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAoKHJlczogYW55KSA9PiB0aGlzLmV4dHJhY3RRdWVyeURhdGEocmVzLCBtb2RlbFR5cGUpKSxcbiAgICAgICAgY2F0Y2hFcnJvcigocmVzOiBhbnkpID0+IHRoaXMuaGFuZGxlRXJyb3IocmVzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmluZEFsbDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPixcbiAgICBwYXJhbXM/OiBhbnksXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPEpzb25BcGlRdWVyeURhdGE8VD4+IHtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYnVpbGRVcmwobW9kZWxUeXBlLCBwYXJhbXMsIHVuZGVmaW5lZCwgY3VzdG9tVXJsKTtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9uczogb2JqZWN0ID0gdGhpcy5idWlsZFJlcXVlc3RPcHRpb25zKHsgaGVhZGVycywgb2JzZXJ2ZTogJ3Jlc3BvbnNlJyB9KTtcblxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgcmVxdWVzdE9wdGlvbnMpXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKChyZXM6IEh0dHBSZXNwb25zZTxvYmplY3Q+KSA9PiB0aGlzLmV4dHJhY3RRdWVyeURhdGEocmVzLCBtb2RlbFR5cGUsIHRydWUpKSxcbiAgICAgICAgY2F0Y2hFcnJvcigocmVzOiBhbnkpID0+IHRoaXMuaGFuZGxlRXJyb3IocmVzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmluZFJlY29yZDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPixcbiAgICBpZDogc3RyaW5nLFxuICAgIHBhcmFtcz86IGFueSxcbiAgICBoZWFkZXJzPzogSHR0cEhlYWRlcnMsXG4gICAgY3VzdG9tVXJsPzogc3RyaW5nXG4gICk6IE9ic2VydmFibGU8VD4ge1xuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBvYmplY3QgPSB0aGlzLmJ1aWxkUmVxdWVzdE9wdGlvbnMoeyBoZWFkZXJzLCBvYnNlcnZlOiAncmVzcG9uc2UnIH0pO1xuICAgIGNvbnN0IHVybDogc3RyaW5nID0gdGhpcy5idWlsZFVybChtb2RlbFR5cGUsIHBhcmFtcywgaWQsIGN1c3RvbVVybCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHJlcXVlc3RPcHRpb25zKVxuICAgICAgLnBpcGUoXG4gICAgICAgIG1hcCgocmVzOiBIdHRwUmVzcG9uc2U8b2JqZWN0PikgPT4gdGhpcy5leHRyYWN0UmVjb3JkRGF0YShyZXMsIG1vZGVsVHlwZSkpLFxuICAgICAgICBjYXRjaEVycm9yKChyZXM6IGFueSkgPT4gdGhpcy5oYW5kbGVFcnJvcihyZXMpKVxuICAgICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBjcmVhdGVSZWNvcmQ8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4obW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4sIGRhdGE/OiBhbnkpOiBUIHtcbiAgICByZXR1cm4gbmV3IG1vZGVsVHlwZSh0aGlzLCB7IGF0dHJpYnV0ZXM6IGRhdGEgfSk7XG4gIH1cblxuICBwdWJsaWMgc2F2ZVJlY29yZDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBhdHRyaWJ1dGVzTWV0YWRhdGE6IGFueSxcbiAgICBtb2RlbDogVCxcbiAgICBwYXJhbXM/OiBhbnksXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICBjb25zdCBtb2RlbFR5cGUgPSBtb2RlbC5jb25zdHJ1Y3RvciBhcyBNb2RlbFR5cGU8VD47XG4gICAgY29uc3QgbW9kZWxDb25maWc6IE1vZGVsQ29uZmlnID0gbW9kZWwubW9kZWxDb25maWc7XG4gICAgY29uc3QgdHlwZU5hbWU6IHN0cmluZyA9IG1vZGVsQ29uZmlnLnR5cGU7XG4gICAgY29uc3QgcmVsYXRpb25zaGlwczogYW55ID0gdGhpcy5nZXRSZWxhdGlvbnNoaXBzKG1vZGVsKTtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYnVpbGRVcmwobW9kZWxUeXBlLCBwYXJhbXMsIG1vZGVsLmlkLCBjdXN0b21VcmwpO1xuXG4gICAgbGV0IGh0dHBDYWxsOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxvYmplY3Q+PjtcbiAgICBjb25zdCBib2R5OiBhbnkgPSB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJlbGF0aW9uc2hpcHMsXG4gICAgICAgIHR5cGU6IHR5cGVOYW1lLFxuICAgICAgICBpZDogbW9kZWwuaWQsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHRoaXMuZ2V0RGlydHlBdHRyaWJ1dGVzKGF0dHJpYnV0ZXNNZXRhZGF0YSwgbW9kZWwpXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBvYmplY3QgPSB0aGlzLmJ1aWxkUmVxdWVzdE9wdGlvbnMoeyBoZWFkZXJzLCBvYnNlcnZlOiAncmVzcG9uc2UnIH0pO1xuXG4gICAgaWYgKG1vZGVsLmlkKSB7XG4gICAgICBodHRwQ2FsbCA9IHRoaXMuaHR0cC5wYXRjaDxvYmplY3Q+KHVybCwgYm9keSwgcmVxdWVzdE9wdGlvbnMpIGFzIE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPG9iamVjdD4+O1xuICAgIH0gZWxzZSB7XG4gICAgICBodHRwQ2FsbCA9IHRoaXMuaHR0cC5wb3N0PG9iamVjdD4odXJsLCBib2R5LCByZXF1ZXN0T3B0aW9ucykgYXMgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8b2JqZWN0Pj47XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0dHBDYWxsXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKChyZXMpID0+IFsyMDAsIDIwMV0uaW5kZXhPZihyZXMuc3RhdHVzKSAhPT0gLTEgPyB0aGlzLmV4dHJhY3RSZWNvcmREYXRhKHJlcywgbW9kZWxUeXBlLCBtb2RlbCkgOiBtb2RlbCksXG4gICAgICAgIGNhdGNoRXJyb3IoKHJlcykgPT4ge1xuICAgICAgICAgIGlmIChyZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG9mKG1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IocmVzKTtcbiAgICAgICAgfSksXG4gICAgICAgIG1hcCgocmVzKSA9PiB0aGlzLnVwZGF0ZVJlbGF0aW9uc2hpcHMocmVzLCByZWxhdGlvbnNoaXBzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZGVsZXRlUmVjb3JkPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIGlkOiBzdHJpbmcsXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnM6IG9iamVjdCA9IHRoaXMuYnVpbGRSZXF1ZXN0T3B0aW9ucyh7IGhlYWRlcnMgfSk7XG4gICAgY29uc3QgdXJsOiBzdHJpbmcgPSB0aGlzLmJ1aWxkVXJsKG1vZGVsVHlwZSwgbnVsbCwgaWQsIGN1c3RvbVVybCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLmRlbGV0ZSh1cmwsIHJlcXVlc3RPcHRpb25zKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGNhdGNoRXJyb3IoKHJlczogSHR0cEVycm9yUmVzcG9uc2UpID0+IHRoaXMuaGFuZGxlRXJyb3IocmVzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgcGVla1JlY29yZDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPiwgaWQ6IHN0cmluZyk6IFQgfCBudWxsIHtcbiAgICBjb25zdCB0eXBlOiBzdHJpbmcgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpTW9kZWxDb25maWcnLCBtb2RlbFR5cGUpLnR5cGU7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxTdG9yZVt0eXBlXSA/IHRoaXMuaW50ZXJuYWxTdG9yZVt0eXBlXVtpZF0gYXMgVCA6IG51bGw7XG4gIH1cblxuICBwdWJsaWMgcGVla0FsbDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPik6IEFycmF5PFQ+IHtcbiAgICBjb25zdCB0eXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSnNvbkFwaU1vZGVsQ29uZmlnJywgbW9kZWxUeXBlKS50eXBlO1xuICAgIGNvbnN0IHR5cGVTdG9yZSA9IHRoaXMuaW50ZXJuYWxTdG9yZVt0eXBlXTtcbiAgICByZXR1cm4gdHlwZVN0b3JlID8gT2JqZWN0LmtleXModHlwZVN0b3JlKS5tYXAoKGtleSkgPT4gdHlwZVN0b3JlW2tleV0gYXMgVCkgOiBbXTtcbiAgfVxuXG4gIHB1YmxpYyBkZXNlcmlhbGl6ZU1vZGVsPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LCBkYXRhOiBhbnkpIHtcbiAgICBkYXRhLmF0dHJpYnV0ZXMgPSB0aGlzLnRyYW5zZm9ybVNlcmlhbGl6ZWROYW1lc1RvUHJvcGVydHlOYW1lcyhtb2RlbFR5cGUsIGRhdGEuYXR0cmlidXRlcyk7XG4gICAgcmV0dXJuIG5ldyBtb2RlbFR5cGUodGhpcywgZGF0YSk7XG4gIH1cblxuICBwdWJsaWMgYWRkVG9TdG9yZShtb2RlbE9yTW9kZWxzOiBKc29uQXBpTW9kZWwgfCBKc29uQXBpTW9kZWxbXSk6IHZvaWQge1xuICAgIGNvbnN0IG1vZGVscyA9IEFycmF5LmlzQXJyYXkobW9kZWxPck1vZGVscykgPyBtb2RlbE9yTW9kZWxzIDogW21vZGVsT3JNb2RlbHNdO1xuICAgIGNvbnN0IHR5cGU6IHN0cmluZyA9IG1vZGVsc1swXS5tb2RlbENvbmZpZy50eXBlO1xuICAgIGxldCB0eXBlU3RvcmUgPSB0aGlzLmludGVybmFsU3RvcmVbdHlwZV07XG5cbiAgICBpZiAoIXR5cGVTdG9yZSkge1xuICAgICAgdHlwZVN0b3JlID0gdGhpcy5pbnRlcm5hbFN0b3JlW3R5cGVdID0ge307XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBtb2RlbCBvZiBtb2RlbHMpIHtcbiAgICAgIHR5cGVTdG9yZVttb2RlbC5pZF0gPSBtb2RlbDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdHJhbnNmb3JtU2VyaWFsaXplZE5hbWVzVG9Qcm9wZXJ0eU5hbWVzPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LCBhdHRyaWJ1dGVzOiBhbnkpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lID0gdGhpcy5nZXRNb2RlbFByb3BlcnR5TmFtZXMobW9kZWxUeXBlLnByb3RvdHlwZSk7XG4gICAgY29uc3QgcHJvcGVydGllczogYW55ID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lKS5mb3JFYWNoKChzZXJpYWxpemVkTmFtZSkgPT4ge1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlc1tzZXJpYWxpemVkTmFtZV0gIT09IG51bGwgJiYgYXR0cmlidXRlc1tzZXJpYWxpemVkTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wZXJ0aWVzW3NlcmlhbGl6ZWROYW1lVG9Qcm9wZXJ0eU5hbWVbc2VyaWFsaXplZE5hbWVdXSA9IGF0dHJpYnV0ZXNbc2VyaWFsaXplZE5hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgYnVpbGRVcmw8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4oXG4gICAgbW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4sXG4gICAgcGFyYW1zPzogYW55LFxuICAgIGlkPzogc3RyaW5nLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBzdHJpbmcge1xuICAgIC8vIFRPRE86IHVzZSBIdHRwUGFyYW1zIGluc3RlYWQgb2YgYXBwZW5kaW5nIGEgc3RyaW5nIHRvIHRoZSB1cmxcbiAgICBjb25zdCBxdWVyeVBhcmFtczogc3RyaW5nID0gdGhpcy50b1F1ZXJ5U3RyaW5nKHBhcmFtcyk7XG5cbiAgICBpZiAoY3VzdG9tVXJsKSB7XG4gICAgICByZXR1cm4gcXVlcnlQYXJhbXMgPyBgJHtjdXN0b21Vcmx9PyR7cXVlcnlQYXJhbXN9YCA6IGN1c3RvbVVybDtcbiAgICB9XG5cbiAgICBjb25zdCBtb2RlbENvbmZpZzogTW9kZWxDb25maWcgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpTW9kZWxDb25maWcnLCBtb2RlbFR5cGUpO1xuXG4gICAgY29uc3QgYmFzZVVybCA9IG1vZGVsQ29uZmlnLmJhc2VVcmwgfHwgdGhpcy5kYXRhc3RvcmVDb25maWcuYmFzZVVybDtcbiAgICBjb25zdCBhcGlWZXJzaW9uID0gbW9kZWxDb25maWcuYXBpVmVyc2lvbiB8fCB0aGlzLmRhdGFzdG9yZUNvbmZpZy5hcGlWZXJzaW9uO1xuICAgIGNvbnN0IG1vZGVsRW5kcG9pbnRVcmw6IHN0cmluZyA9IG1vZGVsQ29uZmlnLm1vZGVsRW5kcG9pbnRVcmwgfHwgbW9kZWxDb25maWcudHlwZTtcblxuICAgIGNvbnN0IHVybDogc3RyaW5nID0gW2Jhc2VVcmwsIGFwaVZlcnNpb24sIG1vZGVsRW5kcG9pbnRVcmwsIGlkXS5maWx0ZXIoKHgpID0+IHgpLmpvaW4oJy8nKTtcblxuICAgIHJldHVybiBxdWVyeVBhcmFtcyA/IGAke3VybH0/JHtxdWVyeVBhcmFtc31gIDogdXJsO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFJlbGF0aW9uc2hpcHMoZGF0YTogYW55KTogYW55IHtcbiAgICBsZXQgcmVsYXRpb25zaGlwczogYW55O1xuXG4gICAgY29uc3QgYmVsb25nc1RvTWV0YWRhdGE6IGFueVtdID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQmVsb25nc1RvJywgZGF0YSkgfHwgW107XG4gICAgY29uc3QgaGFzTWFueU1ldGFkYXRhOiBhbnlbXSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0hhc01hbnknLCBkYXRhKSB8fCBbXTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgaWYgKGRhdGFba2V5XSBpbnN0YW5jZW9mIEpzb25BcGlNb2RlbCkge1xuICAgICAgICAgIHJlbGF0aW9uc2hpcHMgPSByZWxhdGlvbnNoaXBzIHx8IHt9O1xuXG4gICAgICAgICAgaWYgKGRhdGFba2V5XS5pZCkge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gYmVsb25nc1RvTWV0YWRhdGEuZmluZCgoaXQ6IGFueSkgPT4gaXQucHJvcGVydHlOYW1lID09PSBrZXkpO1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwS2V5ID0gZW50aXR5LnJlbGF0aW9uc2hpcDtcbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcHNbcmVsYXRpb25zaGlwS2V5XSA9IHtcbiAgICAgICAgICAgICAgZGF0YTogdGhpcy5idWlsZFNpbmdsZVJlbGF0aW9uc2hpcERhdGEoZGF0YVtrZXldKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBlbnRpdHkgPSBoYXNNYW55TWV0YWRhdGEuZmluZCgoaXQ6IGFueSkgPT4gaXQucHJvcGVydHlOYW1lID09PSBrZXkpO1xuICAgICAgICAgIGlmIChlbnRpdHkgJiYgdGhpcy5pc1ZhbGlkVG9NYW55UmVsYXRpb24oZGF0YVtrZXldKSkge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwcyA9IHJlbGF0aW9uc2hpcHMgfHwge307XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcEtleSA9IGVudGl0eS5yZWxhdGlvbnNoaXA7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbnNoaXBEYXRhID0gZGF0YVtrZXldXG4gICAgICAgICAgICAgIC5maWx0ZXIoKG1vZGVsOiBKc29uQXBpTW9kZWwpID0+IG1vZGVsLmlkKVxuICAgICAgICAgICAgICAubWFwKChtb2RlbDogSnNvbkFwaU1vZGVsKSA9PiB0aGlzLmJ1aWxkU2luZ2xlUmVsYXRpb25zaGlwRGF0YShtb2RlbCkpO1xuXG4gICAgICAgICAgICByZWxhdGlvbnNoaXBzW3JlbGF0aW9uc2hpcEtleV0gPSB7XG4gICAgICAgICAgICAgIGRhdGE6IHJlbGF0aW9uc2hpcERhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IGVudGl0eSA9IGJlbG9uZ3NUb01ldGFkYXRhLmZpbmQoKGVudGl0eTogYW55KSA9PiBlbnRpdHkucHJvcGVydHlOYW1lID09PSBrZXkpO1xuXG4gICAgICAgICAgaWYgKGVudGl0eSkge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwcyA9IHJlbGF0aW9uc2hpcHMgfHwge307XG5cbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcHNbZW50aXR5LnJlbGF0aW9uc2hpcF0gPSB7XG4gICAgICAgICAgICAgIGRhdGE6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0aW9uc2hpcHM7XG4gIH1cblxuICBwcm90ZWN0ZWQgaXNWYWxpZFRvTWFueVJlbGF0aW9uKG9iamVjdHM6IEFycmF5PGFueT4pOiBib29sZWFuIHtcbiAgICBpZiAoIW9iamVjdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgaXNKc29uQXBpTW9kZWwgPSBvYmplY3RzLmV2ZXJ5KChpdGVtKSA9PiBpdGVtIGluc3RhbmNlb2YgSnNvbkFwaU1vZGVsKTtcbiAgICBpZiAoIWlzSnNvbkFwaU1vZGVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHR5cGVzID0gb2JqZWN0cy5tYXAoKGl0ZW06IEpzb25BcGlNb2RlbCkgPT4gaXRlbS5tb2RlbENvbmZpZy5tb2RlbEVuZHBvaW50VXJsIHx8IGl0ZW0ubW9kZWxDb25maWcudHlwZSk7XG4gICAgcmV0dXJuIHR5cGVzXG4gICAgICAuZmlsdGVyKCh0eXBlOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIHNlbGY6IHN0cmluZ1tdKSA9PiBzZWxmLmluZGV4T2YodHlwZSkgPT09IGluZGV4KVxuICAgICAgLmxlbmd0aCA9PT0gMTtcbiAgfVxuXG4gIHByb3RlY3RlZCBidWlsZFNpbmdsZVJlbGF0aW9uc2hpcERhdGEobW9kZWw6IEpzb25BcGlNb2RlbCk6IGFueSB7XG4gICAgY29uc3QgcmVsYXRpb25zaGlwVHlwZTogc3RyaW5nID0gbW9kZWwubW9kZWxDb25maWcudHlwZTtcbiAgICBjb25zdCByZWxhdGlvblNoaXBEYXRhOiB7IHR5cGU6IHN0cmluZywgaWQ/OiBzdHJpbmcsIGF0dHJpYnV0ZXM/OiBhbnkgfSA9IHsgdHlwZTogcmVsYXRpb25zaGlwVHlwZSB9O1xuXG4gICAgaWYgKG1vZGVsLmlkKSB7XG4gICAgICByZWxhdGlvblNoaXBEYXRhLmlkID0gbW9kZWwuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZXNNZXRhZGF0YTogYW55ID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlJywgbW9kZWwpO1xuICAgICAgcmVsYXRpb25TaGlwRGF0YS5hdHRyaWJ1dGVzID0gdGhpcy5nZXREaXJ0eUF0dHJpYnV0ZXMoYXR0cmlidXRlc01ldGFkYXRhLCBtb2RlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0aW9uU2hpcERhdGE7XG4gIH1cblxuICBwcm90ZWN0ZWQgZXh0cmFjdFF1ZXJ5RGF0YTxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICByZXNwb25zZTogSHR0cFJlc3BvbnNlPG9iamVjdD4sXG4gICAgbW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4sXG4gICAgd2l0aE1ldGEgPSBmYWxzZVxuICApOiBBcnJheTxUPiB8IEpzb25BcGlRdWVyeURhdGE8VD4ge1xuICAgIGNvbnN0IGJvZHk6IGFueSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgY29uc3QgbW9kZWxzOiBUW10gPSBbXTtcblxuICAgIGJvZHkuZGF0YS5mb3JFYWNoKChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsOiBUID0gdGhpcy5kZXNlcmlhbGl6ZU1vZGVsKG1vZGVsVHlwZSwgZGF0YSk7XG4gICAgICB0aGlzLmFkZFRvU3RvcmUobW9kZWwpO1xuXG4gICAgICBpZiAoYm9keS5pbmNsdWRlZCkge1xuICAgICAgICBtb2RlbC5zeW5jUmVsYXRpb25zaGlwcyhkYXRhLCBib2R5LmluY2x1ZGVkLmNvbmNhdChkYXRhKSk7XG4gICAgICAgIHRoaXMuYWRkVG9TdG9yZShtb2RlbCk7XG4gICAgICB9XG5cbiAgICAgIG1vZGVscy5wdXNoKG1vZGVsKTtcbiAgICB9KTtcblxuICAgIGlmICh3aXRoTWV0YSAmJiB3aXRoTWV0YSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG5ldyBKc29uQXBpUXVlcnlEYXRhKG1vZGVscywgdGhpcy5wYXJzZU1ldGEoYm9keSwgbW9kZWxUeXBlKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVscztcbiAgfVxuXG4gIHByb3RlY3RlZCBleHRyYWN0UmVjb3JkRGF0YTxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICByZXM6IEh0dHBSZXNwb25zZTxvYmplY3Q+LFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIG1vZGVsPzogVFxuICApOiBUIHtcbiAgICBjb25zdCBib2R5OiBhbnkgPSByZXMuYm9keTtcbiAgICAvLyBFcnJvciBpbiBBbmd1bGFyIDwgNS4yLjQgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8yMDc0NClcbiAgICAvLyBudWxsIGlzIGNvbnZlcnRlZCB0byAnbnVsbCcsIHNvIHRoaXMgaXMgdGVtcG9yYXJ5IG5lZWRlZCB0byBtYWtlIHRlc3RjYXNlIHBvc3NpYmxlXG4gICAgLy8gKGFuZCB0byBhdm9pZCBhIGRlY3JlYXNlIG9mIHRoZSBjb3ZlcmFnZSlcbiAgICBpZiAoIWJvZHkgfHwgYm9keSA9PT0gJ251bGwnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGJvZHkgaW4gcmVzcG9uc2UnKTtcbiAgICB9XG5cbiAgICBpZiAoIWJvZHkuZGF0YSkge1xuICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMSB8fCAhbW9kZWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBkYXRhIGluIHJlc3BvbnNlJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfVxuXG4gICAgaWYgKG1vZGVsKSB7XG4gICAgICBtb2RlbC5tb2RlbEluaXRpYWxpemF0aW9uID0gdHJ1ZTtcbiAgICAgIG1vZGVsLmlkID0gYm9keS5kYXRhLmlkO1xuICAgICAgT2JqZWN0LmFzc2lnbihtb2RlbCwgYm9keS5kYXRhLmF0dHJpYnV0ZXMpO1xuICAgICAgbW9kZWwubW9kZWxJbml0aWFsaXphdGlvbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGRlc2VyaWFsaXplZE1vZGVsID0gbW9kZWwgfHwgdGhpcy5kZXNlcmlhbGl6ZU1vZGVsKG1vZGVsVHlwZSwgYm9keS5kYXRhKTtcbiAgICB0aGlzLmFkZFRvU3RvcmUoZGVzZXJpYWxpemVkTW9kZWwpO1xuICAgIGlmIChib2R5LmluY2x1ZGVkKSB7XG4gICAgICBkZXNlcmlhbGl6ZWRNb2RlbC5zeW5jUmVsYXRpb25zaGlwcyhib2R5LmRhdGEsIGJvZHkuaW5jbHVkZWQpO1xuICAgICAgdGhpcy5hZGRUb1N0b3JlKGRlc2VyaWFsaXplZE1vZGVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVzZXJpYWxpemVkTW9kZWw7XG4gIH1cblxuICBwcm90ZWN0ZWQgaGFuZGxlRXJyb3IoZXJyb3I6IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgaWYgKFxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBIdHRwRXJyb3JSZXNwb25zZSAmJlxuICAgICAgZXJyb3IuZXJyb3IgaW5zdGFuY2VvZiBPYmplY3QgJiZcbiAgICAgIGVycm9yLmVycm9yLmVycm9ycyAmJlxuICAgICAgZXJyb3IuZXJyb3IuZXJyb3JzIGluc3RhbmNlb2YgQXJyYXlcbiAgICApIHtcbiAgICAgIGNvbnN0IGVycm9yczogRXJyb3JSZXNwb25zZSA9IG5ldyBFcnJvclJlc3BvbnNlKGVycm9yLmVycm9yLmVycm9ycyk7XG4gICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnJvcnMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aHJvd0Vycm9yKGVycm9yKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwYXJzZU1ldGEoYm9keTogYW55LCBtb2RlbFR5cGU6IE1vZGVsVHlwZTxKc29uQXBpTW9kZWw+KTogYW55IHtcbiAgICBjb25zdCBtZXRhTW9kZWw6IGFueSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0pzb25BcGlNb2RlbENvbmZpZycsIG1vZGVsVHlwZSkubWV0YTtcbiAgICByZXR1cm4gbmV3IG1ldGFNb2RlbChib2R5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYnVpbGRIdHRwSGVhZGVycyBtZXRob2QgdG8gYnVpbGQgcmVxdWVzdCBoZWFkZXJzXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0T3B0aW9ucyhjdXN0b21IZWFkZXJzPzogSHR0cEhlYWRlcnMpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmJ1aWxkSHR0cEhlYWRlcnMoY3VzdG9tSGVhZGVycyksXG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBidWlsZEh0dHBIZWFkZXJzKGN1c3RvbUhlYWRlcnM/OiBIdHRwSGVhZGVycyk6IEh0dHBIZWFkZXJzIHtcbiAgICBsZXQgcmVxdWVzdEhlYWRlcnM6IEh0dHBIZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKHtcbiAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL3ZuZC5hcGkranNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3ZuZC5hcGkranNvbidcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmdsb2JhbEhlYWRlcnMpIHtcbiAgICAgIHRoaXMuZ2xvYmFsSGVhZGVycy5rZXlzKCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmdsb2JhbEhlYWRlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzLnNldChrZXksIHRoaXMuZ2xvYmFsSGVhZGVycy5nZXQoa2V5KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjdXN0b21IZWFkZXJzKSB7XG4gICAgICBjdXN0b21IZWFkZXJzLmtleXMoKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKGN1c3RvbUhlYWRlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzLnNldChrZXksIGN1c3RvbUhlYWRlcnMuZ2V0KGtleSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVxdWVzdEhlYWRlcnM7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVzZXRNZXRhZGF0YUF0dHJpYnV0ZXM8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4ocmVzOiBULCBhdHRyaWJ1dGVzTWV0YWRhdGE6IGFueSwgbW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4pIHtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogYW55ID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV07XG5cbiAgICAgICAgaWYgKG1ldGFkYXRhLmhhc0RpcnR5QXR0cmlidXRlcykge1xuICAgICAgICAgIG1ldGFkYXRhLmhhc0RpcnR5QXR0cmlidXRlcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJlc1tBdHRyaWJ1dGVNZXRhZGF0YUluZGV4XSA9IGF0dHJpYnV0ZXNNZXRhZGF0YTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZVJlbGF0aW9uc2hpcHM8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4obW9kZWw6IFQsIHJlbGF0aW9uc2hpcHM6IGFueSk6IFQge1xuICAgIGNvbnN0IG1vZGVsc1R5cGVzOiBhbnkgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3RvcikubW9kZWxzO1xuXG4gICAgZm9yIChjb25zdCByZWxhdGlvbnNoaXAgaW4gcmVsYXRpb25zaGlwcykge1xuICAgICAgaWYgKHJlbGF0aW9uc2hpcHMuaGFzT3duUHJvcGVydHkocmVsYXRpb25zaGlwKSAmJiBtb2RlbC5oYXNPd25Qcm9wZXJ0eShyZWxhdGlvbnNoaXApICYmIG1vZGVsW3JlbGF0aW9uc2hpcF0pIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwTW9kZWw6IEpzb25BcGlNb2RlbCA9IG1vZGVsW3JlbGF0aW9uc2hpcF07XG4gICAgICAgIGNvbnN0IGhhc01hbnk6IGFueVtdID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSGFzTWFueScsIHJlbGF0aW9uc2hpcE1vZGVsKTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlIYXNNYW55OiBhbnkgPSBmaW5kKGhhc01hbnksIChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICAgIHJldHVybiBtb2RlbHNUeXBlc1twcm9wZXJ0eS5yZWxhdGlvbnNoaXBdID09PSBtb2RlbC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHByb3BlcnR5SGFzTWFueSkge1xuICAgICAgICAgIHJlbGF0aW9uc2hpcE1vZGVsW3Byb3BlcnR5SGFzTWFueS5wcm9wZXJ0eU5hbWVdID0gcmVsYXRpb25zaGlwTW9kZWxbcHJvcGVydHlIYXNNYW55LnByb3BlcnR5TmFtZV0gfHwgW107XG5cbiAgICAgICAgICBjb25zdCBpbmRleE9mTW9kZWwgPSByZWxhdGlvbnNoaXBNb2RlbFtwcm9wZXJ0eUhhc01hbnkucHJvcGVydHlOYW1lXS5pbmRleE9mKG1vZGVsKTtcblxuICAgICAgICAgIGlmIChpbmRleE9mTW9kZWwgPT09IC0xKSB7XG4gICAgICAgICAgICByZWxhdGlvbnNoaXBNb2RlbFtwcm9wZXJ0eUhhc01hbnkucHJvcGVydHlOYW1lXS5wdXNoKG1vZGVsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwTW9kZWxbcHJvcGVydHlIYXNNYW55LnByb3BlcnR5TmFtZV1baW5kZXhPZk1vZGVsXSA9IG1vZGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRNb2RlbFByb3BlcnR5TmFtZXMobW9kZWw6IEpzb25BcGlNb2RlbCkge1xuICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKCdBdHRyaWJ1dGVNYXBwaW5nJywgbW9kZWwpIHx8IFtdO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZFJlcXVlc3RPcHRpb25zKGN1c3RvbU9wdGlvbnM6IGFueSA9IHt9KTogb2JqZWN0IHtcbiAgICBjb25zdCBodHRwSGVhZGVyczogSHR0cEhlYWRlcnMgPSB0aGlzLmJ1aWxkSHR0cEhlYWRlcnMoY3VzdG9tT3B0aW9ucy5oZWFkZXJzKTtcblxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBvYmplY3QgPSBPYmplY3QuYXNzaWduKGN1c3RvbU9wdGlvbnMsIHtcbiAgICAgIGhlYWRlcnM6IGh0dHBIZWFkZXJzXG4gICAgfSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLmdsb2JhbFJlcXVlc3RPcHRpb25zLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIF90b1F1ZXJ5U3RyaW5nKHBhcmFtczogYW55KTogc3RyaW5nIHtcbiAgICByZXR1cm4gcXMuc3RyaW5naWZ5KHBhcmFtcywgeyBhcnJheUZvcm1hdDogJ2JyYWNrZXRzJyB9KTtcbiAgfVxufVxuIl19","customTransformCache":false,"dependencies":["@angular/core","@angular/common/http","lodash","rxjs/operators","rxjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api.model.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/error-response.model.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-query-data.mjs","qs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/constants/symbols.mjs","reflect-metadata"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/services/json-api-datastore.service.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { find } from 'lodash';\nimport { catchError, map } from 'rxjs/operators';\nimport { of, throwError } from 'rxjs';\nimport { JsonApiModel } from '../models/json-api.model';\nimport { ErrorResponse } from '../models/error-response.model';\nimport { JsonApiQueryData } from '../models/json-api-query-data';\nimport * as qs from 'qs';\nimport { AttributeMetadata } from '../constants/symbols';\nimport 'reflect-metadata';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\n/**\n * HACK/FIXME:\n * Type 'symbol' cannot be used as an index type.\n * TypeScript 2.9.x\n * See https://github.com/Microsoft/TypeScript/issues/24587.\n */\n// tslint:disable-next-line:variable-name\nconst AttributeMetadataIndex = AttributeMetadata;\nexport class JsonApiDatastore {\n    constructor(http) {\n        this.http = http;\n        this.globalRequestOptions = {};\n        this.internalStore = {};\n        this.toQueryString = this.datastoreConfig.overrides\n            && this.datastoreConfig.overrides.toQueryString ?\n            this.datastoreConfig.overrides.toQueryString : this._toQueryString;\n    }\n    set headers(headers) {\n        this.globalHeaders = headers;\n    }\n    set requestOptions(requestOptions) {\n        this.globalRequestOptions = requestOptions;\n    }\n    get datastoreConfig() {\n        const configFromDecorator = Reflect.getMetadata('JsonApiDatastoreConfig', this.constructor);\n        return Object.assign(configFromDecorator, this.config);\n    }\n    get getDirtyAttributes() {\n        if (this.datastoreConfig.overrides\n            && this.datastoreConfig.overrides.getDirtyAttributes) {\n            return this.datastoreConfig.overrides.getDirtyAttributes;\n        }\n        return JsonApiDatastore.getDirtyAttributes;\n    }\n    static getDirtyAttributes(attributesMetadata) {\n        const dirtyData = {};\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                const metadata = attributesMetadata[propertyName];\n                if (metadata.hasDirtyAttributes) {\n                    const attributeName = metadata.serializedName != null ? metadata.serializedName : propertyName;\n                    dirtyData[attributeName] = metadata.serialisationValue ? metadata.serialisationValue : metadata.newValue;\n                }\n            }\n        }\n        return dirtyData;\n    }\n    /**\n     * @deprecated use findAll method to take all models\n     */\n    query(modelType, params, headers, customUrl) {\n        const requestHeaders = this.buildHttpHeaders(headers);\n        const url = this.buildUrl(modelType, params, undefined, customUrl);\n        return this.http.get(url, { headers: requestHeaders })\n            .pipe(map((res) => this.extractQueryData(res, modelType)), catchError((res) => this.handleError(res)));\n    }\n    findAll(modelType, params, headers, customUrl) {\n        const url = this.buildUrl(modelType, params, undefined, customUrl);\n        const requestOptions = this.buildRequestOptions({ headers, observe: 'response' });\n        return this.http.get(url, requestOptions)\n            .pipe(map((res) => this.extractQueryData(res, modelType, true)), catchError((res) => this.handleError(res)));\n    }\n    findRecord(modelType, id, params, headers, customUrl) {\n        const requestOptions = this.buildRequestOptions({ headers, observe: 'response' });\n        const url = this.buildUrl(modelType, params, id, customUrl);\n        return this.http.get(url, requestOptions)\n            .pipe(map((res) => this.extractRecordData(res, modelType)), catchError((res) => this.handleError(res)));\n    }\n    createRecord(modelType, data) {\n        return new modelType(this, { attributes: data });\n    }\n    saveRecord(attributesMetadata, model, params, headers, customUrl) {\n        const modelType = model.constructor;\n        const modelConfig = model.modelConfig;\n        const typeName = modelConfig.type;\n        const relationships = this.getRelationships(model);\n        const url = this.buildUrl(modelType, params, model.id, customUrl);\n        let httpCall;\n        const body = {\n            data: {\n                relationships,\n                type: typeName,\n                id: model.id,\n                attributes: this.getDirtyAttributes(attributesMetadata, model)\n            }\n        };\n        const requestOptions = this.buildRequestOptions({ headers, observe: 'response' });\n        if (model.id) {\n            httpCall = this.http.patch(url, body, requestOptions);\n        }\n        else {\n            httpCall = this.http.post(url, body, requestOptions);\n        }\n        return httpCall\n            .pipe(map((res) => [200, 201].indexOf(res.status) !== -1 ? this.extractRecordData(res, modelType, model) : model), catchError((res) => {\n            if (res == null) {\n                return of(model);\n            }\n            return this.handleError(res);\n        }), map((res) => this.updateRelationships(res, relationships)));\n    }\n    deleteRecord(modelType, id, headers, customUrl) {\n        const requestOptions = this.buildRequestOptions({ headers });\n        const url = this.buildUrl(modelType, null, id, customUrl);\n        return this.http.delete(url, requestOptions)\n            .pipe(catchError((res) => this.handleError(res)));\n    }\n    peekRecord(modelType, id) {\n        const type = Reflect.getMetadata('JsonApiModelConfig', modelType).type;\n        return this.internalStore[type] ? this.internalStore[type][id] : null;\n    }\n    peekAll(modelType) {\n        const type = Reflect.getMetadata('JsonApiModelConfig', modelType).type;\n        const typeStore = this.internalStore[type];\n        return typeStore ? Object.keys(typeStore).map((key) => typeStore[key]) : [];\n    }\n    deserializeModel(modelType, data) {\n        data.attributes = this.transformSerializedNamesToPropertyNames(modelType, data.attributes);\n        return new modelType(this, data);\n    }\n    addToStore(modelOrModels) {\n        const models = Array.isArray(modelOrModels) ? modelOrModels : [modelOrModels];\n        const type = models[0].modelConfig.type;\n        let typeStore = this.internalStore[type];\n        if (!typeStore) {\n            typeStore = this.internalStore[type] = {};\n        }\n        for (const model of models) {\n            typeStore[model.id] = model;\n        }\n    }\n    transformSerializedNamesToPropertyNames(modelType, attributes) {\n        const serializedNameToPropertyName = this.getModelPropertyNames(modelType.prototype);\n        const properties = {};\n        Object.keys(serializedNameToPropertyName).forEach((serializedName) => {\n            if (attributes && attributes[serializedName] !== null && attributes[serializedName] !== undefined) {\n                properties[serializedNameToPropertyName[serializedName]] = attributes[serializedName];\n            }\n        });\n        return properties;\n    }\n    buildUrl(modelType, params, id, customUrl) {\n        // TODO: use HttpParams instead of appending a string to the url\n        const queryParams = this.toQueryString(params);\n        if (customUrl) {\n            return queryParams ? `${customUrl}?${queryParams}` : customUrl;\n        }\n        const modelConfig = Reflect.getMetadata('JsonApiModelConfig', modelType);\n        const baseUrl = modelConfig.baseUrl || this.datastoreConfig.baseUrl;\n        const apiVersion = modelConfig.apiVersion || this.datastoreConfig.apiVersion;\n        const modelEndpointUrl = modelConfig.modelEndpointUrl || modelConfig.type;\n        const url = [baseUrl, apiVersion, modelEndpointUrl, id].filter((x) => x).join('/');\n        return queryParams ? `${url}?${queryParams}` : url;\n    }\n    getRelationships(data) {\n        let relationships;\n        const belongsToMetadata = Reflect.getMetadata('BelongsTo', data) || [];\n        const hasManyMetadata = Reflect.getMetadata('HasMany', data) || [];\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                if (data[key] instanceof JsonApiModel) {\n                    relationships = relationships || {};\n                    if (data[key].id) {\n                        const entity = belongsToMetadata.find((it) => it.propertyName === key);\n                        const relationshipKey = entity.relationship;\n                        relationships[relationshipKey] = {\n                            data: this.buildSingleRelationshipData(data[key])\n                        };\n                    }\n                }\n                else if (data[key] instanceof Array) {\n                    const entity = hasManyMetadata.find((it) => it.propertyName === key);\n                    if (entity && this.isValidToManyRelation(data[key])) {\n                        relationships = relationships || {};\n                        const relationshipKey = entity.relationship;\n                        const relationshipData = data[key]\n                            .filter((model) => model.id)\n                            .map((model) => this.buildSingleRelationshipData(model));\n                        relationships[relationshipKey] = {\n                            data: relationshipData\n                        };\n                    }\n                }\n                else if (data[key] === null) {\n                    const entity = belongsToMetadata.find((entity) => entity.propertyName === key);\n                    if (entity) {\n                        relationships = relationships || {};\n                        relationships[entity.relationship] = {\n                            data: null\n                        };\n                    }\n                }\n            }\n        }\n        return relationships;\n    }\n    isValidToManyRelation(objects) {\n        if (!objects.length) {\n            return true;\n        }\n        const isJsonApiModel = objects.every((item) => item instanceof JsonApiModel);\n        if (!isJsonApiModel) {\n            return false;\n        }\n        const types = objects.map((item) => item.modelConfig.modelEndpointUrl || item.modelConfig.type);\n        return types\n            .filter((type, index, self) => self.indexOf(type) === index)\n            .length === 1;\n    }\n    buildSingleRelationshipData(model) {\n        const relationshipType = model.modelConfig.type;\n        const relationShipData = { type: relationshipType };\n        if (model.id) {\n            relationShipData.id = model.id;\n        }\n        else {\n            const attributesMetadata = Reflect.getMetadata('Attribute', model);\n            relationShipData.attributes = this.getDirtyAttributes(attributesMetadata, model);\n        }\n        return relationShipData;\n    }\n    extractQueryData(response, modelType, withMeta = false) {\n        const body = response.body;\n        const models = [];\n        body.data.forEach((data) => {\n            const model = this.deserializeModel(modelType, data);\n            this.addToStore(model);\n            if (body.included) {\n                model.syncRelationships(data, body.included.concat(data));\n                this.addToStore(model);\n            }\n            models.push(model);\n        });\n        if (withMeta && withMeta === true) {\n            return new JsonApiQueryData(models, this.parseMeta(body, modelType));\n        }\n        return models;\n    }\n    extractRecordData(res, modelType, model) {\n        const body = res.body;\n        // Error in Angular < 5.2.4 (see https://github.com/angular/angular/issues/20744)\n        // null is converted to 'null', so this is temporary needed to make testcase possible\n        // (and to avoid a decrease of the coverage)\n        if (!body || body === 'null') {\n            throw new Error('no body in response');\n        }\n        if (!body.data) {\n            if (res.status === 201 || !model) {\n                throw new Error('expected data in response');\n            }\n            return model;\n        }\n        if (model) {\n            model.modelInitialization = true;\n            model.id = body.data.id;\n            Object.assign(model, body.data.attributes);\n            model.modelInitialization = false;\n        }\n        const deserializedModel = model || this.deserializeModel(modelType, body.data);\n        this.addToStore(deserializedModel);\n        if (body.included) {\n            deserializedModel.syncRelationships(body.data, body.included);\n            this.addToStore(deserializedModel);\n        }\n        return deserializedModel;\n    }\n    handleError(error) {\n        if (error instanceof HttpErrorResponse &&\n            error.error instanceof Object &&\n            error.error.errors &&\n            error.error.errors instanceof Array) {\n            const errors = new ErrorResponse(error.error.errors);\n            return throwError(errors);\n        }\n        return throwError(error);\n    }\n    parseMeta(body, modelType) {\n        const metaModel = Reflect.getMetadata('JsonApiModelConfig', modelType).meta;\n        return new metaModel(body);\n    }\n    /**\n     * @deprecated use buildHttpHeaders method to build request headers\n     */\n    getOptions(customHeaders) {\n        return {\n            headers: this.buildHttpHeaders(customHeaders),\n        };\n    }\n    buildHttpHeaders(customHeaders) {\n        let requestHeaders = new HttpHeaders({\n            Accept: 'application/vnd.api+json',\n            'Content-Type': 'application/vnd.api+json'\n        });\n        if (this.globalHeaders) {\n            this.globalHeaders.keys().forEach((key) => {\n                if (this.globalHeaders.has(key)) {\n                    requestHeaders = requestHeaders.set(key, this.globalHeaders.get(key));\n                }\n            });\n        }\n        if (customHeaders) {\n            customHeaders.keys().forEach((key) => {\n                if (customHeaders.has(key)) {\n                    requestHeaders = requestHeaders.set(key, customHeaders.get(key));\n                }\n            });\n        }\n        return requestHeaders;\n    }\n    resetMetadataAttributes(res, attributesMetadata, modelType) {\n        for (const propertyName in attributesMetadata) {\n            if (attributesMetadata.hasOwnProperty(propertyName)) {\n                const metadata = attributesMetadata[propertyName];\n                if (metadata.hasDirtyAttributes) {\n                    metadata.hasDirtyAttributes = false;\n                }\n            }\n        }\n        // @ts-ignore\n        res[AttributeMetadataIndex] = attributesMetadata;\n        return res;\n    }\n    updateRelationships(model, relationships) {\n        const modelsTypes = Reflect.getMetadata('JsonApiDatastoreConfig', this.constructor).models;\n        for (const relationship in relationships) {\n            if (relationships.hasOwnProperty(relationship) && model.hasOwnProperty(relationship) && model[relationship]) {\n                const relationshipModel = model[relationship];\n                const hasMany = Reflect.getMetadata('HasMany', relationshipModel);\n                const propertyHasMany = find(hasMany, (property) => {\n                    return modelsTypes[property.relationship] === model.constructor;\n                });\n                if (propertyHasMany) {\n                    relationshipModel[propertyHasMany.propertyName] = relationshipModel[propertyHasMany.propertyName] || [];\n                    const indexOfModel = relationshipModel[propertyHasMany.propertyName].indexOf(model);\n                    if (indexOfModel === -1) {\n                        relationshipModel[propertyHasMany.propertyName].push(model);\n                    }\n                    else {\n                        relationshipModel[propertyHasMany.propertyName][indexOfModel] = model;\n                    }\n                }\n            }\n        }\n        return model;\n    }\n    getModelPropertyNames(model) {\n        return Reflect.getMetadata('AttributeMapping', model) || [];\n    }\n    buildRequestOptions(customOptions = {}) {\n        const httpHeaders = this.buildHttpHeaders(customOptions.headers);\n        const requestOptions = Object.assign(customOptions, {\n            headers: httpHeaders\n        });\n        return Object.assign(this.globalRequestOptions, requestOptions);\n    }\n    _toQueryString(params) {\n        return qs.stringify(params, { arrayFormat: 'brackets' });\n    }\n}\n/** @nocollapse */ JsonApiDatastore.fac = function JsonApiDatastore_Factory(t) { return new (t || JsonApiDatastore)(i0.inject(i1.HttpClient)); };\n/** @nocollapse */ JsonApiDatastore.prov = /** @pureOrBreakMyCode */ i0.defineInjectable({ token: JsonApiDatastore, factory: JsonApiDatastore.fac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(JsonApiDatastore, [{\n        type: Injectable\n    }], function () { return [{ type: i1.HttpClient }]; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1hcGktZGF0YXN0b3JlLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyMi1qc29uYXBpL3NyYy9zZXJ2aWNlcy9qc29uLWFwaS1kYXRhc3RvcmUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsV0FBVyxFQUFnQixNQUFNLHNCQUFzQixDQUFDO0FBQ2hHLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDOUIsT0FBTyxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNqRCxPQUFPLEVBQWMsRUFBRSxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNsRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDeEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQy9ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ2pFLE9BQU8sS0FBSyxFQUFFLE1BQU0sSUFBSSxDQUFDO0FBR3pCLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3pELE9BQU8sa0JBQWtCLENBQUM7OztBQUkxQjs7Ozs7R0FLRztBQUNILHlDQUF5QztBQUN6QyxNQUFNLHNCQUFzQixHQUFXLGlCQUF3QixDQUFDO0FBR2hFLE1BQU0sT0FBTyxnQkFBZ0I7SUFVM0IsWUFBc0IsSUFBZ0I7UUFBaEIsU0FBSSxHQUFKLElBQUksQ0FBWTtRQU45Qix5QkFBb0IsR0FBVyxFQUFFLENBQUM7UUFDbEMsa0JBQWEsR0FBdUQsRUFBRSxDQUFDO1FBQ3ZFLGtCQUFhLEdBQTRCLElBQUksQ0FBQyxlQUFlLENBQUMsU0FB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Q0FBQyxZQUFZLENBQUMsR0FBRyxLQUFLLENBQUM7cUJBQ3ZFO2lCQUNGO2FBQ0Y7U0FDRjtRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVTLHFCQUFxQixDQUFDLEtBQW1CO1FBQ2pELE9BQU8sT0FBTyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDOUQsQ0FBQztJQUVPLG1CQUFtQixDQUFDLGdCQUFxQixFQUFFO1FBQ2pELE1BQU0sV0FBVyxHQUFnQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTlFLE1BQU0sY0FBYyxHQUFXLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFO1lBQzFELE9BQU8sRUFBRSxXQUFXO1NBQ3JCLENBQUMsQ0FBQztRQUVILE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVPLGNBQWMsQ0FBQyxNQUFXO1FBQ2hDLE9BQU8sRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQztJQUMzRCxDQUFDOzttR0FyZVUsZ0JBQWdCO3FHQUFoQixnQkFBZ0IsV0FBaEIsZ0JBQWdCO3VGQUFoQixnQkFBZ0I7Y0FENUIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBFcnJvclJlc3BvbnNlLCBIdHRwSGVhZGVycywgSHR0cFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgZmluZCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBjYXRjaEVycm9yLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSnNvbkFwaU1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL2pzb24tYXBpLm1vZGVsJztcbmltcG9ydCB7IEVycm9yUmVzcG9uc2UgfSBmcm9tICcuLi9tb2RlbHMvZXJyb3ItcmVzcG9uc2UubW9kZWwnO1xuaW1wb3J0IHsgSnNvbkFwaVF1ZXJ5RGF0YSB9IGZyb20gJy4uL21vZGVscy9qc29uLWFwaS1xdWVyeS1kYXRhJztcbmltcG9ydCAqIGFzIHFzIGZyb20gJ3FzJztcbmltcG9ydCB7IERhdGFzdG9yZUNvbmZpZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZGF0YXN0b3JlLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgTW9kZWxDb25maWcgfSBmcm9tICcuLi9pbnRlcmZhY2VzL21vZGVsLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgQXR0cmlidXRlTWV0YWRhdGEgfSBmcm9tICcuLi9jb25zdGFudHMvc3ltYm9scyc7XG5pbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuXG5leHBvcnQgdHlwZSBNb2RlbFR5cGU8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4gPSBuZXcgKGRhdGFzdG9yZTogSnNvbkFwaURhdGFzdG9yZSwgZGF0YTogYW55KSA9PiBUO1xuXG4vKipcbiAqIEhBQ0svRklYTUU6XG4gKiBUeXBlICdzeW1ib2wnIGNhbm5vdCBiZSB1c2VkIGFzIGFuIGluZGV4IHR5cGUuXG4gKiBUeXBlU2NyaXB0IDIuOS54XG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4Ny5cbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbmNvbnN0IEF0dHJpYnV0ZU1ldGFkYXRhSW5kZXg6IHN0cmluZyA9IEF0dHJpYnV0ZU1ldGFkYXRhIGFzIGFueTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEpzb25BcGlEYXRhc3RvcmUge1xuXG4gIHByb3RlY3RlZCBjb25maWc6IERhdGFzdG9yZUNvbmZpZztcbiAgcHJpdmF0ZSBnbG9iYWxIZWFkZXJzOiBIdHRwSGVhZGVycztcbiAgcHJpdmF0ZSBnbG9iYWxSZXF1ZXN0T3B0aW9uczogb2JqZWN0ID0ge307XG4gIHByaXZhdGUgaW50ZXJuYWxTdG9yZTogeyBbdHlwZTogc3RyaW5nXTogeyBbaWQ6IHN0cmluZ106IEpzb25BcGlNb2RlbCB9IH0gPSB7fTtcbiAgcHJpdmF0ZSB0b1F1ZXJ5U3RyaW5nOiAocGFyYW1zOiBhbnkpID0+IHN0cmluZyA9IHRoaXMuZGF0YXN0b3JlQ29uZmlnLm92ZXJyaWRlc1xuICAgICYmIHRoaXMuZGF0YXN0b3JlQ29uZmlnLm92ZXJyaWRlcy50b1F1ZXJ5U3RyaW5nID9cbiAgICB0aGlzLmRhdGFzdG9yZUNvbmZpZy5vdmVycmlkZXMudG9RdWVyeVN0cmluZyA6IHRoaXMuX3RvUXVlcnlTdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHBDbGllbnQpIHtcbiAgfVxuXG4gIHNldCBoZWFkZXJzKGhlYWRlcnM6IEh0dHBIZWFkZXJzKSB7XG4gICAgdGhpcy5nbG9iYWxIZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIHNldCByZXF1ZXN0T3B0aW9ucyhyZXF1ZXN0T3B0aW9uczogb2JqZWN0KSB7XG4gICAgdGhpcy5nbG9iYWxSZXF1ZXN0T3B0aW9ucyA9IHJlcXVlc3RPcHRpb25zO1xuICB9XG5cbiAgcHVibGljIGdldCBkYXRhc3RvcmVDb25maWcoKTogRGF0YXN0b3JlQ29uZmlnIHtcbiAgICBjb25zdCBjb25maWdGcm9tRGVjb3JhdG9yOiBEYXRhc3RvcmVDb25maWcgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oY29uZmlnRnJvbURlY29yYXRvciwgdGhpcy5jb25maWcpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgZ2V0RGlydHlBdHRyaWJ1dGVzKCkge1xuICAgIGlmICh0aGlzLmRhdGFzdG9yZUNvbmZpZy5vdmVycmlkZXNcbiAgICAgICYmIHRoaXMuZGF0YXN0b3JlQ29uZmlnLm92ZXJyaWRlcy5nZXREaXJ0eUF0dHJpYnV0ZXMpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGFzdG9yZUNvbmZpZy5vdmVycmlkZXMuZ2V0RGlydHlBdHRyaWJ1dGVzO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbkFwaURhdGFzdG9yZS5nZXREaXJ0eUF0dHJpYnV0ZXM7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZXREaXJ0eUF0dHJpYnV0ZXMoYXR0cmlidXRlc01ldGFkYXRhOiBhbnkpOiB7IHN0cmluZzogYW55IH0ge1xuICAgIGNvbnN0IGRpcnR5RGF0YTogYW55ID0ge307XG5cbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogYW55ID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV07XG5cbiAgICAgICAgaWYgKG1ldGFkYXRhLmhhc0RpcnR5QXR0cmlidXRlcykge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBtZXRhZGF0YS5zZXJpYWxpemVkTmFtZSAhPSBudWxsID8gbWV0YWRhdGEuc2VyaWFsaXplZE5hbWUgOiBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgZGlydHlEYXRhW2F0dHJpYnV0ZU5hbWVdID0gbWV0YWRhdGEuc2VyaWFsaXNhdGlvblZhbHVlID8gbWV0YWRhdGEuc2VyaWFsaXNhdGlvblZhbHVlIDogbWV0YWRhdGEubmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpcnR5RGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgZmluZEFsbCBtZXRob2QgdG8gdGFrZSBhbGwgbW9kZWxzXG4gICAqL1xuICBxdWVyeTxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPixcbiAgICBwYXJhbXM/OiBhbnksXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzOiBIdHRwSGVhZGVycyA9IHRoaXMuYnVpbGRIdHRwSGVhZGVycyhoZWFkZXJzKTtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYnVpbGRVcmwobW9kZWxUeXBlLCBwYXJhbXMsIHVuZGVmaW5lZCwgY3VzdG9tVXJsKTtcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHsgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMgfSlcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAoKHJlczogYW55KSA9PiB0aGlzLmV4dHJhY3RRdWVyeURhdGEocmVzLCBtb2RlbFR5cGUpKSxcbiAgICAgICAgY2F0Y2hFcnJvcigocmVzOiBhbnkpID0+IHRoaXMuaGFuZGxlRXJyb3IocmVzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmluZEFsbDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPixcbiAgICBwYXJhbXM/OiBhbnksXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPEpzb25BcGlRdWVyeURhdGE8VD4+IHtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYnVpbGRVcmwobW9kZWxUeXBlLCBwYXJhbXMsIHVuZGVmaW5lZCwgY3VzdG9tVXJsKTtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9uczogb2JqZWN0ID0gdGhpcy5idWlsZFJlcXVlc3RPcHRpb25zKHsgaGVhZGVycywgb2JzZXJ2ZTogJ3Jlc3BvbnNlJyB9KTtcblxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgcmVxdWVzdE9wdGlvbnMpXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKChyZXM6IEh0dHBSZXNwb25zZTxvYmplY3Q+KSA9PiB0aGlzLmV4dHJhY3RRdWVyeURhdGEocmVzLCBtb2RlbFR5cGUsIHRydWUpKSxcbiAgICAgICAgY2F0Y2hFcnJvcigocmVzOiBhbnkpID0+IHRoaXMuaGFuZGxlRXJyb3IocmVzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmluZFJlY29yZDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPixcbiAgICBpZDogc3RyaW5nLFxuICAgIHBhcmFtcz86IGFueSxcbiAgICBoZWFkZXJzPzogSHR0cEhlYWRlcnMsXG4gICAgY3VzdG9tVXJsPzogc3RyaW5nXG4gICk6IE9ic2VydmFibGU8VD4ge1xuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBvYmplY3QgPSB0aGlzLmJ1aWxkUmVxdWVzdE9wdGlvbnMoeyBoZWFkZXJzLCBvYnNlcnZlOiAncmVzcG9uc2UnIH0pO1xuICAgIGNvbnN0IHVybDogc3RyaW5nID0gdGhpcy5idWlsZFVybChtb2RlbFR5cGUsIHBhcmFtcywgaWQsIGN1c3RvbVVybCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHJlcXVlc3RPcHRpb25zKVxuICAgICAgLnBpcGUoXG4gICAgICAgIG1hcCgocmVzOiBIdHRwUmVzcG9uc2U8b2JqZWN0PikgPT4gdGhpcy5leHRyYWN0UmVjb3JkRGF0YShyZXMsIG1vZGVsVHlwZSkpLFxuICAgICAgICBjYXRjaEVycm9yKChyZXM6IGFueSkgPT4gdGhpcy5oYW5kbGVFcnJvcihyZXMpKVxuICAgICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBjcmVhdGVSZWNvcmQ8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4obW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4sIGRhdGE/OiBhbnkpOiBUIHtcbiAgICByZXR1cm4gbmV3IG1vZGVsVHlwZSh0aGlzLCB7IGF0dHJpYnV0ZXM6IGRhdGEgfSk7XG4gIH1cblxuICBwdWJsaWMgc2F2ZVJlY29yZDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICBhdHRyaWJ1dGVzTWV0YWRhdGE6IGFueSxcbiAgICBtb2RlbDogVCxcbiAgICBwYXJhbXM/OiBhbnksXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICBjb25zdCBtb2RlbFR5cGUgPSBtb2RlbC5jb25zdHJ1Y3RvciBhcyBNb2RlbFR5cGU8VD47XG4gICAgY29uc3QgbW9kZWxDb25maWc6IE1vZGVsQ29uZmlnID0gbW9kZWwubW9kZWxDb25maWc7XG4gICAgY29uc3QgdHlwZU5hbWU6IHN0cmluZyA9IG1vZGVsQ29uZmlnLnR5cGU7XG4gICAgY29uc3QgcmVsYXRpb25zaGlwczogYW55ID0gdGhpcy5nZXRSZWxhdGlvbnNoaXBzKG1vZGVsKTtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYnVpbGRVcmwobW9kZWxUeXBlLCBwYXJhbXMsIG1vZGVsLmlkLCBjdXN0b21VcmwpO1xuXG4gICAgbGV0IGh0dHBDYWxsOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxvYmplY3Q+PjtcbiAgICBjb25zdCBib2R5OiBhbnkgPSB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJlbGF0aW9uc2hpcHMsXG4gICAgICAgIHR5cGU6IHR5cGVOYW1lLFxuICAgICAgICBpZDogbW9kZWwuaWQsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHRoaXMuZ2V0RGlydHlBdHRyaWJ1dGVzKGF0dHJpYnV0ZXNNZXRhZGF0YSwgbW9kZWwpXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBvYmplY3QgPSB0aGlzLmJ1aWxkUmVxdWVzdE9wdGlvbnMoeyBoZWFkZXJzLCBvYnNlcnZlOiAncmVzcG9uc2UnIH0pO1xuXG4gICAgaWYgKG1vZGVsLmlkKSB7XG4gICAgICBodHRwQ2FsbCA9IHRoaXMuaHR0cC5wYXRjaDxvYmplY3Q+KHVybCwgYm9keSwgcmVxdWVzdE9wdGlvbnMpIGFzIE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPG9iamVjdD4+O1xuICAgIH0gZWxzZSB7XG4gICAgICBodHRwQ2FsbCA9IHRoaXMuaHR0cC5wb3N0PG9iamVjdD4odXJsLCBib2R5LCByZXF1ZXN0T3B0aW9ucykgYXMgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8b2JqZWN0Pj47XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0dHBDYWxsXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKChyZXMpID0+IFsyMDAsIDIwMV0uaW5kZXhPZihyZXMuc3RhdHVzKSAhPT0gLTEgPyB0aGlzLmV4dHJhY3RSZWNvcmREYXRhKHJlcywgbW9kZWxUeXBlLCBtb2RlbCkgOiBtb2RlbCksXG4gICAgICAgIGNhdGNoRXJyb3IoKHJlcykgPT4ge1xuICAgICAgICAgIGlmIChyZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG9mKG1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IocmVzKTtcbiAgICAgICAgfSksXG4gICAgICAgIG1hcCgocmVzKSA9PiB0aGlzLnVwZGF0ZVJlbGF0aW9uc2hpcHMocmVzLCByZWxhdGlvbnNoaXBzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZGVsZXRlUmVjb3JkPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIGlkOiBzdHJpbmcsXG4gICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnM6IG9iamVjdCA9IHRoaXMuYnVpbGRSZXF1ZXN0T3B0aW9ucyh7IGhlYWRlcnMgfSk7XG4gICAgY29uc3QgdXJsOiBzdHJpbmcgPSB0aGlzLmJ1aWxkVXJsKG1vZGVsVHlwZSwgbnVsbCwgaWQsIGN1c3RvbVVybCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLmRlbGV0ZSh1cmwsIHJlcXVlc3RPcHRpb25zKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGNhdGNoRXJyb3IoKHJlczogSHR0cEVycm9yUmVzcG9uc2UpID0+IHRoaXMuaGFuZGxlRXJyb3IocmVzKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgcGVla1JlY29yZDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPiwgaWQ6IHN0cmluZyk6IFQgfCBudWxsIHtcbiAgICBjb25zdCB0eXBlOiBzdHJpbmcgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpTW9kZWxDb25maWcnLCBtb2RlbFR5cGUpLnR5cGU7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxTdG9yZVt0eXBlXSA/IHRoaXMuaW50ZXJuYWxTdG9yZVt0eXBlXVtpZF0gYXMgVCA6IG51bGw7XG4gIH1cblxuICBwdWJsaWMgcGVla0FsbDxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihtb2RlbFR5cGU6IE1vZGVsVHlwZTxUPik6IEFycmF5PFQ+IHtcbiAgICBjb25zdCB0eXBlID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSnNvbkFwaU1vZGVsQ29uZmlnJywgbW9kZWxUeXBlKS50eXBlO1xuICAgIGNvbnN0IHR5cGVTdG9yZSA9IHRoaXMuaW50ZXJuYWxTdG9yZVt0eXBlXTtcbiAgICByZXR1cm4gdHlwZVN0b3JlID8gT2JqZWN0LmtleXModHlwZVN0b3JlKS5tYXAoKGtleSkgPT4gdHlwZVN0b3JlW2tleV0gYXMgVCkgOiBbXTtcbiAgfVxuXG4gIHB1YmxpYyBkZXNlcmlhbGl6ZU1vZGVsPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LCBkYXRhOiBhbnkpIHtcbiAgICBkYXRhLmF0dHJpYnV0ZXMgPSB0aGlzLnRyYW5zZm9ybVNlcmlhbGl6ZWROYW1lc1RvUHJvcGVydHlOYW1lcyhtb2RlbFR5cGUsIGRhdGEuYXR0cmlidXRlcyk7XG4gICAgcmV0dXJuIG5ldyBtb2RlbFR5cGUodGhpcywgZGF0YSk7XG4gIH1cblxuICBwdWJsaWMgYWRkVG9TdG9yZShtb2RlbE9yTW9kZWxzOiBKc29uQXBpTW9kZWwgfCBKc29uQXBpTW9kZWxbXSk6IHZvaWQge1xuICAgIGNvbnN0IG1vZGVscyA9IEFycmF5LmlzQXJyYXkobW9kZWxPck1vZGVscykgPyBtb2RlbE9yTW9kZWxzIDogW21vZGVsT3JNb2RlbHNdO1xuICAgIGNvbnN0IHR5cGU6IHN0cmluZyA9IG1vZGVsc1swXS5tb2RlbENvbmZpZy50eXBlO1xuICAgIGxldCB0eXBlU3RvcmUgPSB0aGlzLmludGVybmFsU3RvcmVbdHlwZV07XG5cbiAgICBpZiAoIXR5cGVTdG9yZSkge1xuICAgICAgdHlwZVN0b3JlID0gdGhpcy5pbnRlcm5hbFN0b3JlW3R5cGVdID0ge307XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBtb2RlbCBvZiBtb2RlbHMpIHtcbiAgICAgIHR5cGVTdG9yZVttb2RlbC5pZF0gPSBtb2RlbDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdHJhbnNmb3JtU2VyaWFsaXplZE5hbWVzVG9Qcm9wZXJ0eU5hbWVzPFQgZXh0ZW5kcyBKc29uQXBpTW9kZWw+KG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LCBhdHRyaWJ1dGVzOiBhbnkpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lID0gdGhpcy5nZXRNb2RlbFByb3BlcnR5TmFtZXMobW9kZWxUeXBlLnByb3RvdHlwZSk7XG4gICAgY29uc3QgcHJvcGVydGllczogYW55ID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhzZXJpYWxpemVkTmFtZVRvUHJvcGVydHlOYW1lKS5mb3JFYWNoKChzZXJpYWxpemVkTmFtZSkgPT4ge1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlc1tzZXJpYWxpemVkTmFtZV0gIT09IG51bGwgJiYgYXR0cmlidXRlc1tzZXJpYWxpemVkTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wZXJ0aWVzW3NlcmlhbGl6ZWROYW1lVG9Qcm9wZXJ0eU5hbWVbc2VyaWFsaXplZE5hbWVdXSA9IGF0dHJpYnV0ZXNbc2VyaWFsaXplZE5hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgYnVpbGRVcmw8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4oXG4gICAgbW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4sXG4gICAgcGFyYW1zPzogYW55LFxuICAgIGlkPzogc3RyaW5nLFxuICAgIGN1c3RvbVVybD86IHN0cmluZ1xuICApOiBzdHJpbmcge1xuICAgIC8vIFRPRE86IHVzZSBIdHRwUGFyYW1zIGluc3RlYWQgb2YgYXBwZW5kaW5nIGEgc3RyaW5nIHRvIHRoZSB1cmxcbiAgICBjb25zdCBxdWVyeVBhcmFtczogc3RyaW5nID0gdGhpcy50b1F1ZXJ5U3RyaW5nKHBhcmFtcyk7XG5cbiAgICBpZiAoY3VzdG9tVXJsKSB7XG4gICAgICByZXR1cm4gcXVlcnlQYXJhbXMgPyBgJHtjdXN0b21Vcmx9PyR7cXVlcnlQYXJhbXN9YCA6IGN1c3RvbVVybDtcbiAgICB9XG5cbiAgICBjb25zdCBtb2RlbENvbmZpZzogTW9kZWxDb25maWcgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpTW9kZWxDb25maWcnLCBtb2RlbFR5cGUpO1xuXG4gICAgY29uc3QgYmFzZVVybCA9IG1vZGVsQ29uZmlnLmJhc2VVcmwgfHwgdGhpcy5kYXRhc3RvcmVDb25maWcuYmFzZVVybDtcbiAgICBjb25zdCBhcGlWZXJzaW9uID0gbW9kZWxDb25maWcuYXBpVmVyc2lvbiB8fCB0aGlzLmRhdGFzdG9yZUNvbmZpZy5hcGlWZXJzaW9uO1xuICAgIGNvbnN0IG1vZGVsRW5kcG9pbnRVcmw6IHN0cmluZyA9IG1vZGVsQ29uZmlnLm1vZGVsRW5kcG9pbnRVcmwgfHwgbW9kZWxDb25maWcudHlwZTtcblxuICAgIGNvbnN0IHVybDogc3RyaW5nID0gW2Jhc2VVcmwsIGFwaVZlcnNpb24sIG1vZGVsRW5kcG9pbnRVcmwsIGlkXS5maWx0ZXIoKHgpID0+IHgpLmpvaW4oJy8nKTtcblxuICAgIHJldHVybiBxdWVyeVBhcmFtcyA/IGAke3VybH0/JHtxdWVyeVBhcmFtc31gIDogdXJsO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFJlbGF0aW9uc2hpcHMoZGF0YTogYW55KTogYW55IHtcbiAgICBsZXQgcmVsYXRpb25zaGlwczogYW55O1xuXG4gICAgY29uc3QgYmVsb25nc1RvTWV0YWRhdGE6IGFueVtdID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQmVsb25nc1RvJywgZGF0YSkgfHwgW107XG4gICAgY29uc3QgaGFzTWFueU1ldGFkYXRhOiBhbnlbXSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0hhc01hbnknLCBkYXRhKSB8fCBbXTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgaWYgKGRhdGFba2V5XSBpbnN0YW5jZW9mIEpzb25BcGlNb2RlbCkge1xuICAgICAgICAgIHJlbGF0aW9uc2hpcHMgPSByZWxhdGlvbnNoaXBzIHx8IHt9O1xuXG4gICAgICAgICAgaWYgKGRhdGFba2V5XS5pZCkge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gYmVsb25nc1RvTWV0YWRhdGEuZmluZCgoaXQ6IGFueSkgPT4gaXQucHJvcGVydHlOYW1lID09PSBrZXkpO1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwS2V5ID0gZW50aXR5LnJlbGF0aW9uc2hpcDtcbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcHNbcmVsYXRpb25zaGlwS2V5XSA9IHtcbiAgICAgICAgICAgICAgZGF0YTogdGhpcy5idWlsZFNpbmdsZVJlbGF0aW9uc2hpcERhdGEoZGF0YVtrZXldKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBlbnRpdHkgPSBoYXNNYW55TWV0YWRhdGEuZmluZCgoaXQ6IGFueSkgPT4gaXQucHJvcGVydHlOYW1lID09PSBrZXkpO1xuICAgICAgICAgIGlmIChlbnRpdHkgJiYgdGhpcy5pc1ZhbGlkVG9NYW55UmVsYXRpb24oZGF0YVtrZXldKSkge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwcyA9IHJlbGF0aW9uc2hpcHMgfHwge307XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcEtleSA9IGVudGl0eS5yZWxhdGlvbnNoaXA7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbnNoaXBEYXRhID0gZGF0YVtrZXldXG4gICAgICAgICAgICAgIC5maWx0ZXIoKG1vZGVsOiBKc29uQXBpTW9kZWwpID0+IG1vZGVsLmlkKVxuICAgICAgICAgICAgICAubWFwKChtb2RlbDogSnNvbkFwaU1vZGVsKSA9PiB0aGlzLmJ1aWxkU2luZ2xlUmVsYXRpb25zaGlwRGF0YShtb2RlbCkpO1xuXG4gICAgICAgICAgICByZWxhdGlvbnNoaXBzW3JlbGF0aW9uc2hpcEtleV0gPSB7XG4gICAgICAgICAgICAgIGRhdGE6IHJlbGF0aW9uc2hpcERhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IGVudGl0eSA9IGJlbG9uZ3NUb01ldGFkYXRhLmZpbmQoKGVudGl0eTogYW55KSA9PiBlbnRpdHkucHJvcGVydHlOYW1lID09PSBrZXkpO1xuXG4gICAgICAgICAgaWYgKGVudGl0eSkge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwcyA9IHJlbGF0aW9uc2hpcHMgfHwge307XG5cbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcHNbZW50aXR5LnJlbGF0aW9uc2hpcF0gPSB7XG4gICAgICAgICAgICAgIGRhdGE6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0aW9uc2hpcHM7XG4gIH1cblxuICBwcm90ZWN0ZWQgaXNWYWxpZFRvTWFueVJlbGF0aW9uKG9iamVjdHM6IEFycmF5PGFueT4pOiBib29sZWFuIHtcbiAgICBpZiAoIW9iamVjdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgaXNKc29uQXBpTW9kZWwgPSBvYmplY3RzLmV2ZXJ5KChpdGVtKSA9PiBpdGVtIGluc3RhbmNlb2YgSnNvbkFwaU1vZGVsKTtcbiAgICBpZiAoIWlzSnNvbkFwaU1vZGVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHR5cGVzID0gb2JqZWN0cy5tYXAoKGl0ZW06IEpzb25BcGlNb2RlbCkgPT4gaXRlbS5tb2RlbENvbmZpZy5tb2RlbEVuZHBvaW50VXJsIHx8IGl0ZW0ubW9kZWxDb25maWcudHlwZSk7XG4gICAgcmV0dXJuIHR5cGVzXG4gICAgICAuZmlsdGVyKCh0eXBlOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIHNlbGY6IHN0cmluZ1tdKSA9PiBzZWxmLmluZGV4T2YodHlwZSkgPT09IGluZGV4KVxuICAgICAgLmxlbmd0aCA9PT0gMTtcbiAgfVxuXG4gIHByb3RlY3RlZCBidWlsZFNpbmdsZVJlbGF0aW9uc2hpcERhdGEobW9kZWw6IEpzb25BcGlNb2RlbCk6IGFueSB7XG4gICAgY29uc3QgcmVsYXRpb25zaGlwVHlwZTogc3RyaW5nID0gbW9kZWwubW9kZWxDb25maWcudHlwZTtcbiAgICBjb25zdCByZWxhdGlvblNoaXBEYXRhOiB7IHR5cGU6IHN0cmluZywgaWQ/OiBzdHJpbmcsIGF0dHJpYnV0ZXM/OiBhbnkgfSA9IHsgdHlwZTogcmVsYXRpb25zaGlwVHlwZSB9O1xuXG4gICAgaWYgKG1vZGVsLmlkKSB7XG4gICAgICByZWxhdGlvblNoaXBEYXRhLmlkID0gbW9kZWwuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZXNNZXRhZGF0YTogYW55ID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnQXR0cmlidXRlJywgbW9kZWwpO1xuICAgICAgcmVsYXRpb25TaGlwRGF0YS5hdHRyaWJ1dGVzID0gdGhpcy5nZXREaXJ0eUF0dHJpYnV0ZXMoYXR0cmlidXRlc01ldGFkYXRhLCBtb2RlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0aW9uU2hpcERhdGE7XG4gIH1cblxuICBwcm90ZWN0ZWQgZXh0cmFjdFF1ZXJ5RGF0YTxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICByZXNwb25zZTogSHR0cFJlc3BvbnNlPG9iamVjdD4sXG4gICAgbW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4sXG4gICAgd2l0aE1ldGEgPSBmYWxzZVxuICApOiBBcnJheTxUPiB8IEpzb25BcGlRdWVyeURhdGE8VD4ge1xuICAgIGNvbnN0IGJvZHk6IGFueSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgY29uc3QgbW9kZWxzOiBUW10gPSBbXTtcblxuICAgIGJvZHkuZGF0YS5mb3JFYWNoKChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsOiBUID0gdGhpcy5kZXNlcmlhbGl6ZU1vZGVsKG1vZGVsVHlwZSwgZGF0YSk7XG4gICAgICB0aGlzLmFkZFRvU3RvcmUobW9kZWwpO1xuXG4gICAgICBpZiAoYm9keS5pbmNsdWRlZCkge1xuICAgICAgICBtb2RlbC5zeW5jUmVsYXRpb25zaGlwcyhkYXRhLCBib2R5LmluY2x1ZGVkLmNvbmNhdChkYXRhKSk7XG4gICAgICAgIHRoaXMuYWRkVG9TdG9yZShtb2RlbCk7XG4gICAgICB9XG5cbiAgICAgIG1vZGVscy5wdXNoKG1vZGVsKTtcbiAgICB9KTtcblxuICAgIGlmICh3aXRoTWV0YSAmJiB3aXRoTWV0YSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG5ldyBKc29uQXBpUXVlcnlEYXRhKG1vZGVscywgdGhpcy5wYXJzZU1ldGEoYm9keSwgbW9kZWxUeXBlKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVscztcbiAgfVxuXG4gIHByb3RlY3RlZCBleHRyYWN0UmVjb3JkRGF0YTxUIGV4dGVuZHMgSnNvbkFwaU1vZGVsPihcbiAgICByZXM6IEh0dHBSZXNwb25zZTxvYmplY3Q+LFxuICAgIG1vZGVsVHlwZTogTW9kZWxUeXBlPFQ+LFxuICAgIG1vZGVsPzogVFxuICApOiBUIHtcbiAgICBjb25zdCBib2R5OiBhbnkgPSByZXMuYm9keTtcbiAgICAvLyBFcnJvciBpbiBBbmd1bGFyIDwgNS4yLjQgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8yMDc0NClcbiAgICAvLyBudWxsIGlzIGNvbnZlcnRlZCB0byAnbnVsbCcsIHNvIHRoaXMgaXMgdGVtcG9yYXJ5IG5lZWRlZCB0byBtYWtlIHRlc3RjYXNlIHBvc3NpYmxlXG4gICAgLy8gKGFuZCB0byBhdm9pZCBhIGRlY3JlYXNlIG9mIHRoZSBjb3ZlcmFnZSlcbiAgICBpZiAoIWJvZHkgfHwgYm9keSA9PT0gJ251bGwnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGJvZHkgaW4gcmVzcG9uc2UnKTtcbiAgICB9XG5cbiAgICBpZiAoIWJvZHkuZGF0YSkge1xuICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMSB8fCAhbW9kZWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBkYXRhIGluIHJlc3BvbnNlJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfVxuXG4gICAgaWYgKG1vZGVsKSB7XG4gICAgICBtb2RlbC5tb2RlbEluaXRpYWxpemF0aW9uID0gdHJ1ZTtcbiAgICAgIG1vZGVsLmlkID0gYm9keS5kYXRhLmlkO1xuICAgICAgT2JqZWN0LmFzc2lnbihtb2RlbCwgYm9keS5kYXRhLmF0dHJpYnV0ZXMpO1xuICAgICAgbW9kZWwubW9kZWxJbml0aWFsaXphdGlvbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGRlc2VyaWFsaXplZE1vZGVsID0gbW9kZWwgfHwgdGhpcy5kZXNlcmlhbGl6ZU1vZGVsKG1vZGVsVHlwZSwgYm9keS5kYXRhKTtcbiAgICB0aGlzLmFkZFRvU3RvcmUoZGVzZXJpYWxpemVkTW9kZWwpO1xuICAgIGlmIChib2R5LmluY2x1ZGVkKSB7XG4gICAgICBkZXNlcmlhbGl6ZWRNb2RlbC5zeW5jUmVsYXRpb25zaGlwcyhib2R5LmRhdGEsIGJvZHkuaW5jbHVkZWQpO1xuICAgICAgdGhpcy5hZGRUb1N0b3JlKGRlc2VyaWFsaXplZE1vZGVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVzZXJpYWxpemVkTW9kZWw7XG4gIH1cblxuICBwcm90ZWN0ZWQgaGFuZGxlRXJyb3IoZXJyb3I6IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgaWYgKFxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBIdHRwRXJyb3JSZXNwb25zZSAmJlxuICAgICAgZXJyb3IuZXJyb3IgaW5zdGFuY2VvZiBPYmplY3QgJiZcbiAgICAgIGVycm9yLmVycm9yLmVycm9ycyAmJlxuICAgICAgZXJyb3IuZXJyb3IuZXJyb3JzIGluc3RhbmNlb2YgQXJyYXlcbiAgICApIHtcbiAgICAgIGNvbnN0IGVycm9yczogRXJyb3JSZXNwb25zZSA9IG5ldyBFcnJvclJlc3BvbnNlKGVycm9yLmVycm9yLmVycm9ycyk7XG4gICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnJvcnMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aHJvd0Vycm9yKGVycm9yKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwYXJzZU1ldGEoYm9keTogYW55LCBtb2RlbFR5cGU6IE1vZGVsVHlwZTxKc29uQXBpTW9kZWw+KTogYW55IHtcbiAgICBjb25zdCBtZXRhTW9kZWw6IGFueSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ0pzb25BcGlNb2RlbENvbmZpZycsIG1vZGVsVHlwZSkubWV0YTtcbiAgICByZXR1cm4gbmV3IG1ldGFNb2RlbChib2R5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYnVpbGRIdHRwSGVhZGVycyBtZXRob2QgdG8gYnVpbGQgcmVxdWVzdCBoZWFkZXJzXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0T3B0aW9ucyhjdXN0b21IZWFkZXJzPzogSHR0cEhlYWRlcnMpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmJ1aWxkSHR0cEhlYWRlcnMoY3VzdG9tSGVhZGVycyksXG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBidWlsZEh0dHBIZWFkZXJzKGN1c3RvbUhlYWRlcnM/OiBIdHRwSGVhZGVycyk6IEh0dHBIZWFkZXJzIHtcbiAgICBsZXQgcmVxdWVzdEhlYWRlcnM6IEh0dHBIZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKHtcbiAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL3ZuZC5hcGkranNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3ZuZC5hcGkranNvbidcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmdsb2JhbEhlYWRlcnMpIHtcbiAgICAgIHRoaXMuZ2xvYmFsSGVhZGVycy5rZXlzKCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmdsb2JhbEhlYWRlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzLnNldChrZXksIHRoaXMuZ2xvYmFsSGVhZGVycy5nZXQoa2V5KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjdXN0b21IZWFkZXJzKSB7XG4gICAgICBjdXN0b21IZWFkZXJzLmtleXMoKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKGN1c3RvbUhlYWRlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzLnNldChrZXksIGN1c3RvbUhlYWRlcnMuZ2V0KGtleSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVxdWVzdEhlYWRlcnM7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVzZXRNZXRhZGF0YUF0dHJpYnV0ZXM8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4ocmVzOiBULCBhdHRyaWJ1dGVzTWV0YWRhdGE6IGFueSwgbW9kZWxUeXBlOiBNb2RlbFR5cGU8VD4pIHtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBhdHRyaWJ1dGVzTWV0YWRhdGEpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzTWV0YWRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YTogYW55ID0gYXR0cmlidXRlc01ldGFkYXRhW3Byb3BlcnR5TmFtZV07XG5cbiAgICAgICAgaWYgKG1ldGFkYXRhLmhhc0RpcnR5QXR0cmlidXRlcykge1xuICAgICAgICAgIG1ldGFkYXRhLmhhc0RpcnR5QXR0cmlidXRlcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJlc1tBdHRyaWJ1dGVNZXRhZGF0YUluZGV4XSA9IGF0dHJpYnV0ZXNNZXRhZGF0YTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZVJlbGF0aW9uc2hpcHM8VCBleHRlbmRzIEpzb25BcGlNb2RlbD4obW9kZWw6IFQsIHJlbGF0aW9uc2hpcHM6IGFueSk6IFQge1xuICAgIGNvbnN0IG1vZGVsc1R5cGVzOiBhbnkgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdKc29uQXBpRGF0YXN0b3JlQ29uZmlnJywgdGhpcy5jb25zdHJ1Y3RvcikubW9kZWxzO1xuXG4gICAgZm9yIChjb25zdCByZWxhdGlvbnNoaXAgaW4gcmVsYXRpb25zaGlwcykge1xuICAgICAgaWYgKHJlbGF0aW9uc2hpcHMuaGFzT3duUHJvcGVydHkocmVsYXRpb25zaGlwKSAmJiBtb2RlbC5oYXNPd25Qcm9wZXJ0eShyZWxhdGlvbnNoaXApICYmIG1vZGVsW3JlbGF0aW9uc2hpcF0pIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwTW9kZWw6IEpzb25BcGlNb2RlbCA9IG1vZGVsW3JlbGF0aW9uc2hpcF07XG4gICAgICAgIGNvbnN0IGhhc01hbnk6IGFueVtdID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnSGFzTWFueScsIHJlbGF0aW9uc2hpcE1vZGVsKTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlIYXNNYW55OiBhbnkgPSBmaW5kKGhhc01hbnksIChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICAgIHJldHVybiBtb2RlbHNUeXBlc1twcm9wZXJ0eS5yZWxhdGlvbnNoaXBdID09PSBtb2RlbC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHByb3BlcnR5SGFzTWFueSkge1xuICAgICAgICAgIHJlbGF0aW9uc2hpcE1vZGVsW3Byb3BlcnR5SGFzTWFueS5wcm9wZXJ0eU5hbWVdID0gcmVsYXRpb25zaGlwTW9kZWxbcHJvcGVydHlIYXNNYW55LnByb3BlcnR5TmFtZV0gfHwgW107XG5cbiAgICAgICAgICBjb25zdCBpbmRleE9mTW9kZWwgPSByZWxhdGlvbnNoaXBNb2RlbFtwcm9wZXJ0eUhhc01hbnkucHJvcGVydHlOYW1lXS5pbmRleE9mKG1vZGVsKTtcblxuICAgICAgICAgIGlmIChpbmRleE9mTW9kZWwgPT09IC0xKSB7XG4gICAgICAgICAgICByZWxhdGlvbnNoaXBNb2RlbFtwcm9wZXJ0eUhhc01hbnkucHJvcGVydHlOYW1lXS5wdXNoKG1vZGVsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwTW9kZWxbcHJvcGVydHlIYXNNYW55LnByb3BlcnR5TmFtZV1baW5kZXhPZk1vZGVsXSA9IG1vZGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRNb2RlbFByb3BlcnR5TmFtZXMobW9kZWw6IEpzb25BcGlNb2RlbCkge1xuICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKCdBdHRyaWJ1dGVNYXBwaW5nJywgbW9kZWwpIHx8IFtdO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZFJlcXVlc3RPcHRpb25zKGN1c3RvbU9wdGlvbnM6IGFueSA9IHt9KTogb2JqZWN0IHtcbiAgICBjb25zdCBodHRwSGVhZGVyczogSHR0cEhlYWRlcnMgPSB0aGlzLmJ1aWxkSHR0cEhlYWRlcnMoY3VzdG9tT3B0aW9ucy5oZWFkZXJzKTtcblxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBvYmplY3QgPSBPYmplY3QuYXNzaWduKGN1c3RvbU9wdGlvbnMsIHtcbiAgICAgIGhlYWRlcnM6IGh0dHBIZWFkZXJzXG4gICAgfSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLmdsb2JhbFJlcXVlc3RPcHRpb25zLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIF90b1F1ZXJ5U3RyaW5nKHBhcmFtczogYW55KTogc3RyaW5nIHtcbiAgICByZXR1cm4gcXMuc3RyaW5naWZ5KHBhcmFtcywgeyBhcnJheUZvcm1hdDogJ2JyYWNrZXRzJyB9KTtcbiAgfVxufVxuIl19","originalSourcemap":{"version":3,"file":"json-api-datastore.service.js","sourceRoot":"","sources":["../../../../projects/angular2-jsonapi/src/services/json-api-datastore.service.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[27,0,0,27],[42,0,0,42],[43,0,0,43]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[19,0,1,19],[21,0,1,21],[38,0,1,38],[40,0,1,40],[51,0,1,51],[53,0,1,67],[59,0,1,73],[81,0,1,95],[82,0,1,96]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[13,0,2,13],[15,0,2,15],[21,0,2,21],[29,0,2,29],[30,0,2,30]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[19,0,3,19],[21,0,3,21],[24,0,3,24],[26,0,3,26],[32,0,3,32],[48,0,3,48],[49,0,3,49]],[[0,0,4,0],[7,0,4,7],[9,0,4,21],[11,0,4,23],[13,0,4,25],[23,0,4,35],[25,0,4,37],[31,0,4,43],[37,0,4,49],[38,0,4,50]],[[0,0,5,0],[7,0,5,7],[9,0,5,9],[21,0,5,21],[23,0,5,23],[29,0,5,29],[55,0,5,55],[56,0,5,56]],[[0,0,6,0],[7,0,6,7],[9,0,6,9],[22,0,6,22],[24,0,6,24],[30,0,6,30],[62,0,6,62],[63,0,6,63]],[[0,0,7,0],[7,0,7,7],[9,0,7,9],[25,0,7,25],[27,0,7,27],[33,0,7,33],[64,0,7,64],[65,0,7,65]],[[0,0,8,0],[7,0,8,7],[12,0,8,12],[14,0,8,14],[20,0,8,20],[24,0,8,24],[25,0,8,25]],[[0,0,11,0],[7,0,11,7],[9,0,11,9],[26,0,11,26],[28,0,11,28],[34,0,11,34],[56,0,11,56],[57,0,11,57]],[[0,0,12,0],[7,0,12,7],[25,0,12,25],[26,0,12,26]],[],[],[[0,0,16,0]],[],[],[],[],[[3,0,21,3]],[[0,0,22,0],[41,0,22,41]],[[0,0,23,0],[6,0,23,6],[28,0,23,28],[31,0,23,39],[48,0,23,63],[49,0,23,64]],[[0,0,26,0],[6,0,26,6],[13,0,26,13],[29,0,26,29]],[[4,0,36,2],[16,0,36,24],[20,0,36,40]],[[8,0,36,24],[17,0,36,28],[20,0,36,24],[24,0,36,28],[25,0,36,40]],[[8,0,30,10],[33,0,30,30],[36,0,30,41],[38,0,30,43],[39,0,30,44]],[[8,0,31,10],[26,0,31,23],[29,0,31,78],[31,0,31,80],[32,0,31,81]],[[8,0,32,10],[26,0,32,23],[29,0,32,51],[33,0,32,55],[34,0,32,56],[49,0,32,71],[50,0,32,72],[59,0,32,81]],[[15,0,33,7],[19,0,33,11],[20,0,33,12],[35,0,33,27],[36,0,33,28],[45,0,33,37],[46,0,33,38],[59,0,33,51],[60,0,33,52],[61,0,33,53]],[[12,0,34,4],[16,0,34,8],[17,0,34,9],[32,0,34,24],[33,0,34,25],[42,0,34,34],[43,0,34,35],[56,0,34,48],[57,0,34,49],[58,0,34,50],[59,0,34,51],[63,0,34,55],[64,0,34,56],[78,0,34,70],[79,0,34,71]],[[4,0,37,2],[5,0,37,3]],[[4,0,39,2],[8,0,39,6],[15,0,39,13],[16,0,39,14],[23,0,39,34]],[[8,0,40,4],[12,0,40,8],[13,0,40,9],[26,0,40,22],[29,0,40,25],[36,0,40,32],[37,0,40,33]],[[4,0,41,2],[5,0,41,3]],[[4,0,43,2],[8,0,43,6],[22,0,43,20],[23,0,43,21],[37,0,43,43]],[[8,0,44,4],[12,0,44,8],[13,0,44,9],[33,0,44,29],[36,0,44,32],[50,0,44,46],[51,0,44,47]],[[4,0,45,2],[5,0,45,3]],[[4,0,47,2],[8,0,47,13],[23,0,47,28]],[[8,0,48,4],[14,0,48,10],[33,0,48,29],[36,0,48,49],[43,0,48,56],[44,0,48,57],[55,0,48,68],[56,0,48,69],[80,0,48,93],[82,0,48,95],[86,0,48,99],[87,0,48,100],[98,0,48,111],[99,0,48,112],[100,0,48,113]],[[8,0,49,4],[15,0,49,11],[21,0,49,17],[22,0,49,18],[28,0,49,24],[29,0,49,25],[48,0,49,44],[50,0,49,46],[54,0,49,50],[55,0,49,51],[61,0,49,57],[62,0,49,58],[63,0,49,59]],[[4,0,50,2],[5,0,50,3]],[[4,0,52,2],[8,0,52,14],[26,0,52,32]],[[8,0,53,4],[12,0,53,8],[16,0,53,12],[17,0,53,13],[32,0,53,28],[33,0,53,29],[42,0,53,38]],[[15,0,54,9],[19,0,54,13],[20,0,54,14],[35,0,54,29],[36,0,54,30],[45,0,54,39],[46,0,54,40],[64,0,54,58],[66,0,54,60]],[[12,0,55,6],[19,0,55,13],[23,0,55,17],[24,0,55,18],[39,0,55,33],[40,0,55,34],[49,0,55,43],[50,0,55,44],[68,0,55,62],[69,0,55,63]],[[9,0,56,5]],[[8,0,57,4],[15,0,57,11],[31,0,57,27],[32,0,57,28],[50,0,57,46],[51,0,57,47]],[[4,0,58,2],[5,0,58,3]],[[4,0,60,10],[10,0,60,16],[11,0,60,17],[29,0,60,35],[30,0,60,36],[48,0,60,59]],[[8,0,61,4],[14,0,61,10],[23,0,61,19],[26,0,61,27],[28,0,61,29],[29,0,61,30]],[[8,0,63,4],[13,0,63,9],[19,0,63,15],[31,0,63,27],[35,0,63,31],[53,0,63,49],[55,0,63,51]],[[12,0,64,6],[16,0,64,10],[34,0,64,28],[35,0,64,29],[49,0,64,43],[50,0,64,44],[62,0,64,56],[63,0,64,57],[65,0,64,59]],[[16,0,65,8],[22,0,65,14],[30,0,65,22],[33,0,65,30],[51,0,65,48],[52,0,65,49],[64,0,65,61],[65,0,65,62],[66,0,65,63]],[[16,0,67,8],[20,0,67,12],[28,0,67,20],[29,0,67,21],[47,0,67,39],[49,0,67,41]],[[20,0,68,10],[26,0,68,16],[39,0,68,29],[42,0,68,32],[50,0,68,40],[51,0,68,41],[65,0,68,55],[69,0,68,59],[73,0,68,63],[74,0,68,64],[75,0,68,65],[76,0,68,66],[84,0,68,74],[85,0,68,75],[99,0,68,89],[100,0,68,90],[101,0,68,91],[102,0,68,92],[114,0,68,104],[115,0,68,105]],[[20,0,69,10],[29,0,69,19],[30,0,69,20],[43,0,69,33],[44,0,69,34],[47,0,69,37],[55,0,69,45],[56,0,69,46],[74,0,69,64],[75,0,69,65],[76,0,69,66],[77,0,69,67],[85,0,69,75],[86,0,69,76],[104,0,69,94],[105,0,69,95],[106,0,69,96],[107,0,69,97],[115,0,69,105],[116,0,69,106],[124,0,69,114],[125,0,69,115]],[[17,0,70,9]],[[13,0,71,7]],[[9,0,72,5]],[[8,0,73,4],[15,0,73,11],[24,0,73,20],[25,0,73,21]],[[4,0,74,2],[5,0,74,3]],[[4,0,76,2]],[],[[7,0,78,5]],[[4,0,79,2],[9,0,79,7],[10,0,80,4],[19,0,80,27],[21,0,81,4],[27,0,81,16],[29,0,82,4],[36,0,82,25],[38,0,83,4],[47,0,83,22]],[[8,0,85,4],[14,0,85,10],[28,0,85,24],[31,0,85,40],[35,0,85,44],[36,0,85,45],[52,0,85,61],[53,0,85,62],[60,0,85,69],[61,0,85,70],[62,0,85,71]],[[8,0,86,4],[14,0,86,10],[17,0,86,13],[20,0,86,24],[24,0,86,28],[25,0,86,29],[33,0,86,37],[34,0,86,38],[43,0,86,47],[45,0,86,49],[51,0,86,55],[53,0,86,57],[62,0,86,66],[64,0,86,68],[73,0,86,77],[74,0,86,78],[75,0,86,79]],[[8,0,87,4],[15,0,87,11],[19,0,87,15],[20,0,87,16],[24,0,87,20],[25,0,87,21],[28,0,87,24],[29,0,87,25],[32,0,87,28],[34,0,87,30],[36,0,87,32],[43,0,87,39],[45,0,87,41],[59,0,87,55],[61,0,87,57],[62,0,87,58]],[[13,0,88,7],[17,0,88,11],[18,0,89,8],[21,0,89,11],[22,0,89,12],[23,0,89,13],[26,0,89,21],[28,0,89,23],[30,0,89,25],[31,0,89,26],[35,0,89,30],[36,0,89,31],[52,0,89,47],[53,0,89,48],[56,0,89,51],[58,0,89,53],[67,0,89,62],[68,0,89,63],[69,0,89,64],[71,0,90,8],[81,0,90,18],[82,0,90,19],[83,0,90,20],[86,0,90,28],[88,0,90,30],[90,0,90,32],[91,0,90,33],[95,0,90,37],[96,0,90,38],[107,0,90,49],[108,0,90,50],[111,0,90,53],[112,0,90,54],[113,0,90,55],[114,0,91,7],[115,0,91,8]],[[4,0,92,2],[5,0,92,3]],[[4,0,94,9],[11,0,94,16],[12,0,95,4],[21,0,95,27],[23,0,96,4],[29,0,96,16],[31,0,97,4],[38,0,97,25],[40,0,98,4],[49,0,98,22]],[[8,0,100,4],[14,0,100,10],[17,0,100,13],[20,0,100,24],[24,0,100,28],[25,0,100,29],[33,0,100,37],[34,0,100,38],[43,0,100,47],[45,0,100,49],[51,0,100,55],[53,0,100,57],[62,0,100,66],[64,0,100,68],[73,0,100,77],[74,0,100,78],[75,0,100,79]],[[8,0,101,4],[14,0,101,10],[28,0,101,24],[31,0,101,35],[35,0,101,39],[36,0,101,40],[55,0,101,59],[56,0,101,60],[58,0,101,62],[65,0,101,69],[67,0,101,71],[74,0,101,78],[76,0,101,80],[86,0,101,90],[88,0,101,92],[89,0,101,93],[90,0,101,94]],[[8,0,103,4],[15,0,103,11],[19,0,103,15],[20,0,103,16],[24,0,103,20],[25,0,103,21],[28,0,103,24],[29,0,103,25],[32,0,103,28],[34,0,103,30],[48,0,103,44],[49,0,103,45]],[[13,0,104,7],[17,0,104,11],[18,0,105,8],[21,0,105,11],[22,0,105,12],[23,0,105,13],[26,0,105,38],[28,0,105,40],[30,0,105,42],[31,0,105,43],[35,0,105,47],[36,0,105,48],[52,0,105,64],[53,0,105,65],[56,0,105,68],[58,0,105,70],[67,0,105,79],[69,0,105,81],[73,0,105,85],[74,0,105,86],[75,0,105,87],[77,0,106,8],[87,0,106,18],[88,0,106,19],[89,0,106,20],[92,0,106,28],[94,0,106,30],[96,0,106,32],[97,0,106,33],[101,0,106,37],[102,0,106,38],[113,0,106,49],[114,0,106,50],[117,0,106,53],[118,0,106,54],[119,0,106,55],[120,0,107,7],[121,0,107,8]],[[4,0,108,2],[5,0,108,3]],[[4,0,110,9],[14,0,110,19],[15,0,111,4],[24,0,111,27],[26,0,112,4],[28,0,112,14],[30,0,113,4],[36,0,113,16],[38,0,114,4],[45,0,114,25],[47,0,115,4],[56,0,115,22]],[[8,0,117,4],[14,0,117,10],[28,0,117,24],[31,0,117,35],[35,0,117,39],[36,0,117,40],[55,0,117,59],[56,0,117,60],[58,0,117,62],[65,0,117,69],[67,0,117,71],[74,0,117,78],[76,0,117,80],[86,0,117,90],[88,0,117,92],[89,0,117,93],[90,0,117,94]],[[8,0,118,4],[14,0,118,10],[17,0,118,13],[20,0,118,24],[24,0,118,28],[25,0,118,29],[33,0,118,37],[34,0,118,38],[43,0,118,47],[45,0,118,49],[51,0,118,55],[53,0,118,57],[55,0,118,59],[57,0,118,61],[66,0,118,70],[67,0,118,71],[68,0,118,72]],[[8,0,120,4],[15,0,120,11],[19,0,120,15],[20,0,120,16],[24,0,120,20],[25,0,120,21],[28,0,120,24],[29,0,120,25],[32,0,120,28],[34,0,120,30],[48,0,120,44],[49,0,120,45]],[[13,0,121,7],[17,0,121,11],[18,0,122,8],[21,0,122,11],[22,0,122,12],[23,0,122,13],[26,0,122,38],[28,0,122,40],[30,0,122,42],[31,0,122,43],[35,0,122,47],[36,0,122,48],[53,0,122,65],[54,0,122,66],[57,0,122,69],[59,0,122,71],[68,0,122,80],[69,0,122,81],[70,0,122,82],[72,0,123,8],[82,0,123,18],[83,0,123,19],[84,0,123,20],[87,0,123,28],[89,0,123,30],[91,0,123,32],[92,0,123,33],[96,0,123,37],[97,0,123,38],[108,0,123,49],[109,0,123,50],[112,0,123,53],[113,0,123,54],[114,0,123,55],[115,0,124,7],[116,0,124,8]],[[4,0,125,2],[5,0,125,3]],[[4,0,127,9],[16,0,127,21],[17,0,127,46],[26,0,127,69],[28,0,127,71],[32,0,127,81]],[[8,0,128,4],[15,0,128,11],[19,0,128,15],[28,0,128,24],[29,0,128,25],[33,0,128,29],[35,0,128,31],[37,0,128,33],[47,0,128,43],[49,0,128,45],[53,0,128,49],[55,0,128,51],[56,0,128,52],[57,0,128,53]],[[4,0,129,2],[5,0,129,3]],[[4,0,131,9],[14,0,131,19],[15,0,132,4],[33,0,132,27],[35,0,133,4],[40,0,133,12],[42,0,134,4],[48,0,134,16],[50,0,135,4],[57,0,135,25],[59,0,136,4],[68,0,136,22]],[[8,0,138,4],[14,0,138,10],[23,0,138,19],[26,0,138,22],[31,0,138,27],[32,0,138,28],[43,0,138,55],[44,0,138,56]],[[8,0,139,4],[14,0,139,10],[25,0,139,21],[28,0,139,37],[33,0,139,42],[34,0,139,43],[45,0,139,54],[46,0,139,55]],[[8,0,140,4],[14,0,140,10],[22,0,140,18],[25,0,140,29],[36,0,140,40],[37,0,140,41],[41,0,140,45],[42,0,140,46]],[[8,0,141,4],[14,0,141,10],[27,0,141,23],[30,0,141,31],[34,0,141,35],[35,0,141,36],[51,0,141,52],[52,0,141,53],[57,0,141,58],[58,0,141,59],[59,0,141,60]],[[8,0,142,4],[14,0,142,10],[17,0,142,13],[20,0,142,24],[24,0,142,28],[25,0,142,29],[33,0,142,37],[34,0,142,38],[43,0,142,47],[45,0,142,49],[51,0,142,55],[53,0,142,57],[58,0,142,62],[59,0,142,63],[61,0,142,65],[63,0,142,67],[72,0,142,76],[73,0,142,77],[74,0,142,78]],[[8,0,144,4],[12,0,144,8],[20,0,144,50],[21,0,144,51]],[[8,0,145,4],[14,0,145,10],[18,0,145,14],[21,0,145,22]],[[12,0,146,6],[16,0,146,10],[18,0,146,12]],[[16,0,147,8],[29,0,147,21]],[[16,0,148,8],[20,0,148,12],[22,0,148,14],[30,0,148,22]],[[16,0,149,8],[18,0,149,10],[20,0,149,12],[25,0,149,17],[26,0,149,18],[28,0,149,20]],[[16,0,150,8],[26,0,150,18],[28,0,150,20],[32,0,150,24],[33,0,150,25],[51,0,150,43],[52,0,150,44],[70,0,150,62],[72,0,150,64],[77,0,150,69],[78,0,150,70]],[[13,0,151,7]],[[9,0,152,5],[10,0,152,6]],[[8,0,154,4],[14,0,154,10],[28,0,154,24],[31,0,154,35],[35,0,154,39],[36,0,154,40],[55,0,154,59],[56,0,154,60],[58,0,154,62],[65,0,154,69],[67,0,154,71],[74,0,154,78],[76,0,154,80],[86,0,154,90],[88,0,154,92],[89,0,154,93],[90,0,154,94]],[[8,0,156,4],[12,0,156,8],[17,0,156,13],[18,0,156,14],[20,0,156,16],[22,0,156,18]],[[12,0,157,6],[20,0,157,14],[23,0,157,17],[27,0,157,21],[28,0,157,22],[32,0,157,26],[33,0,157,27],[38,0,157,32],[39,0,157,41],[42,0,157,44],[44,0,157,46],[48,0,157,50],[50,0,157,52],[64,0,157,66],[65,0,157,103],[66,0,157,104]],[[9,0,158,5]],[[13,0,158,11]],[[12,0,159,6],[20,0,159,14],[23,0,159,17],[27,0,159,21],[28,0,159,22],[32,0,159,26],[33,0,159,27],[37,0,159,31],[38,0,159,40],[41,0,159,43],[43,0,159,45],[47,0,159,49],[49,0,159,51],[63,0,159,65],[64,0,159,102],[65,0,159,103]],[[9,0,160,5]],[[8,0,162,4],[15,0,162,11],[23,0,162,19]],[[13,0,163,7],[17,0,163,11],[18,0,164,8],[21,0,164,11],[22,0,164,12],[23,0,164,13],[26,0,164,16],[28,0,164,18],[30,0,164,20],[31,0,164,21],[32,0,164,22],[35,0,164,25],[37,0,164,27],[40,0,164,30],[41,0,164,31],[42,0,164,32],[49,0,164,39],[50,0,164,40],[53,0,164,43],[54,0,164,44],[60,0,164,50],[61,0,164,51],[66,0,164,56],[67,0,164,57],[68,0,164,58],[69,0,164,59],[70,0,164,60],[71,0,164,61],[75,0,164,65],[76,0,164,66],[93,0,164,83],[94,0,164,84],[97,0,164,87],[99,0,164,89],[108,0,164,98],[110,0,164,100],[115,0,164,105],[116,0,164,106],[117,0,164,107],[118,0,164,108],[119,0,164,109],[124,0,164,114],[125,0,164,115],[127,0,165,8],[137,0,165,18],[138,0,165,19],[139,0,165,20],[142,0,165,23],[144,0,165,25],[146,0,165,27]],[[12,0,166,10],[16,0,166,14],[19,0,166,17],[23,0,166,21],[27,0,166,25],[29,0,166,27]],[[16,0,167,12],[23,0,167,19],[25,0,167,21],[26,0,167,22],[31,0,167,27],[32,0,167,28],[33,0,167,29]],[[13,0,168,11]],[[12,0,169,10],[19,0,169,17],[23,0,169,21],[24,0,169,22],[35,0,169,33],[36,0,169,34],[39,0,169,37],[40,0,169,38],[41,0,169,39]],[[8,0,170,8],[9,0,170,9],[10,0,170,10],[12,0,171,8],[15,0,171,11],[16,0,171,12],[17,0,171,13],[20,0,171,16],[22,0,171,18],[24,0,171,20],[25,0,171,21],[29,0,171,25],[30,0,171,26],[49,0,171,45],[50,0,171,46],[53,0,171,49],[55,0,171,51],[68,0,171,64],[69,0,171,65],[70,0,171,66],[71,0,172,7],[72,0,172,8]],[[4,0,173,2],[5,0,173,3]],[[4,0,175,9],[16,0,175,21],[17,0,176,4],[26,0,176,27],[28,0,177,4],[30,0,177,14],[32,0,178,4],[39,0,178,25],[41,0,179,4],[50,0,179,22]],[[8,0,181,4],[14,0,181,10],[28,0,181,24],[31,0,181,35],[35,0,181,39],[36,0,181,40],[55,0,181,59],[56,0,181,60],[58,0,181,62],[65,0,181,69],[67,0,181,71],[68,0,181,72],[69,0,181,73]],[[8,0,182,4],[14,0,182,10],[17,0,182,13],[20,0,182,24],[24,0,182,28],[25,0,182,29],[33,0,182,37],[34,0,182,38],[43,0,182,47],[45,0,182,49],[49,0,182,53],[51,0,182,55],[53,0,182,57],[55,0,182,59],[64,0,182,68],[65,0,182,69],[66,0,182,70]],[[8,0,184,4],[15,0,184,11],[19,0,184,15],[20,0,184,16],[24,0,184,20],[25,0,184,21],[31,0,184,27],[32,0,184,28],[35,0,184,31],[37,0,184,33],[51,0,184,47],[52,0,184,48]],[[13,0,185,7],[17,0,185,11],[18,0,186,8],[28,0,186,18],[29,0,186,19],[30,0,186,20],[33,0,186,42],[35,0,186,44],[37,0,186,46],[38,0,186,47],[42,0,186,51],[43,0,186,52],[54,0,186,63],[55,0,186,64],[58,0,186,67],[59,0,186,68],[60,0,186,69],[61,0,187,7],[62,0,187,8]],[[4,0,188,2],[5,0,188,3]],[[4,0,190,9],[14,0,190,19],[15,0,190,44],[24,0,190,67],[26,0,190,69],[28,0,190,79]],[[8,0,191,4],[14,0,191,10],[18,0,191,14],[21,0,191,25],[28,0,191,32],[29,0,191,33],[40,0,191,44],[41,0,191,45],[61,0,191,65],[63,0,191,67],[72,0,191,76],[73,0,191,77],[74,0,191,78],[78,0,191,82],[79,0,191,83]],[[8,0,192,4],[15,0,192,11],[19,0,192,15],[20,0,192,16],[33,0,192,29],[34,0,192,30],[38,0,192,34],[39,0,192,35],[40,0,192,36],[41,0,192,37],[42,0,192,38],[46,0,192,42],[47,0,192,43],[60,0,192,56],[61,0,192,57],[65,0,192,61],[66,0,192,62],[67,0,192,63],[69,0,192,65],[70,0,192,71],[71,0,192,72],[72,0,192,73],[73,0,192,74],[77,0,192,78],[78,0,192,79]],[[4,0,193,2],[5,0,193,3]],[[4,0,195,9],[11,0,195,16],[12,0,195,41],[21,0,195,64]],[[8,0,196,4],[14,0,196,10],[18,0,196,14],[21,0,196,17],[28,0,196,24],[29,0,196,25],[40,0,196,36],[41,0,196,37],[61,0,196,57],[63,0,196,59],[72,0,196,68],[73,0,196,69],[74,0,196,70],[78,0,196,74],[79,0,196,75]],[[8,0,197,4],[14,0,197,10],[23,0,197,19],[26,0,197,22],[30,0,197,26],[31,0,197,27],[44,0,197,40],[45,0,197,41],[49,0,197,45],[50,0,197,46],[51,0,197,47]],[[8,0,198,4],[15,0,198,11],[24,0,198,20],[25,0,198,21],[26,0,198,22],[27,0,198,23],[33,0,198,29],[34,0,198,30],[38,0,198,34],[39,0,198,35],[48,0,198,44],[49,0,198,45],[50,0,198,46],[53,0,198,49],[54,0,198,50],[55,0,198,51],[58,0,198,54],[60,0,198,56],[62,0,198,58],[63,0,198,59],[72,0,198,68],[73,0,198,69],[76,0,198,72],[77,0,198,78],[78,0,198,79],[79,0,198,80],[80,0,198,81],[81,0,198,82],[83,0,198,84],[84,0,198,85]],[[4,0,199,2],[5,0,199,3]],[[4,0,201,9],[20,0,201,25],[21,0,201,50],[30,0,201,73],[32,0,201,75],[36,0,201,84]],[[8,0,202,4],[12,0,202,8],[13,0,202,9],[23,0,202,19],[26,0,202,22],[30,0,202,26],[31,0,202,27],[70,0,202,66],[71,0,202,67],[80,0,202,76],[82,0,202,78],[86,0,202,82],[87,0,202,83],[97,0,202,93],[98,0,202,94],[99,0,202,95]],[[8,0,203,4],[15,0,203,11],[19,0,203,15],[28,0,203,24],[29,0,203,25],[33,0,203,29],[35,0,203,31],[39,0,203,35],[40,0,203,36],[41,0,203,37]],[[4,0,204,2],[5,0,204,3]],[[4,0,206,9],[14,0,206,19],[15,0,206,20],[28,0,206,64]],[[8,0,207,4],[14,0,207,10],[20,0,207,16],[23,0,207,19],[28,0,207,24],[29,0,207,25],[36,0,207,32],[37,0,207,33],[50,0,207,46],[51,0,207,47],[52,0,207,48],[53,0,207,49],[54,0,207,50],[67,0,207,63],[68,0,207,64],[69,0,207,65],[70,0,207,66],[71,0,207,67],[84,0,207,80],[85,0,207,81],[86,0,207,82]],[[8,0,208,4],[14,0,208,10],[18,0,208,14],[21,0,208,25],[27,0,208,31],[28,0,208,32],[29,0,208,33],[30,0,208,34],[31,0,208,35],[42,0,208,46],[43,0,208,47],[47,0,208,51],[48,0,208,52]],[[8,0,209,4],[12,0,209,8],[21,0,209,17],[24,0,209,20],[28,0,209,24],[29,0,209,25],[42,0,209,38],[43,0,209,39],[47,0,209,43],[48,0,209,44],[49,0,209,45]],[[8,0,211,4],[12,0,211,8],[13,0,211,9],[22,0,211,18],[24,0,211,20]],[[12,0,212,6],[21,0,212,15],[24,0,212,18],[28,0,212,22],[29,0,212,23],[42,0,212,36],[43,0,212,37],[47,0,212,41],[48,0,212,42],[51,0,212,45],[53,0,212,47],[54,0,212,48]],[[9,0,213,5]],[[8,0,215,4],[13,0,215,9],[19,0,215,15],[24,0,215,20],[28,0,215,24],[34,0,215,30],[36,0,215,32]],[[12,0,216,6],[21,0,216,15],[22,0,216,16],[27,0,216,21],[28,0,216,22],[30,0,216,24],[31,0,216,25],[34,0,216,28],[39,0,216,33],[40,0,216,34]],[[9,0,217,5]],[[4,0,218,2],[5,0,218,3]],[[4,0,220,9],[43,0,220,48],[44,0,220,73],[53,0,220,96],[55,0,220,98],[65,0,220,113]],[[8,0,221,4],[14,0,221,10],[42,0,221,38],[45,0,221,41],[49,0,221,45],[50,0,221,46],[71,0,221,67],[72,0,221,68],[81,0,221,77],[82,0,221,78],[91,0,221,87],[92,0,221,88],[93,0,221,89]],[[8,0,222,4],[14,0,222,10],[24,0,222,20],[27,0,222,28],[29,0,222,30],[30,0,222,31]],[[8,0,224,4],[14,0,224,10],[15,0,224,11],[19,0,224,15],[20,0,224,16],[48,0,224,44],[49,0,224,45],[50,0,224,46],[57,0,224,53],[58,0,224,54],[59,0,224,55],[73,0,224,69],[75,0,224,71],[77,0,224,73]],[[12,0,225,6],[16,0,225,10],[26,0,225,20],[30,0,225,24],[40,0,225,34],[41,0,225,35],[55,0,225,49],[56,0,225,50],[61,0,225,55],[65,0,225,59],[69,0,225,63],[79,0,225,73],[80,0,225,74],[94,0,225,88],[95,0,225,89],[100,0,225,94],[109,0,225,103],[111,0,225,105]],[[16,0,226,8],[26,0,226,18],[27,0,226,19],[55,0,226,47],[56,0,226,48],[70,0,226,62],[71,0,226,63],[72,0,226,64],[75,0,226,67],[85,0,226,77],[86,0,226,78],[100,0,226,92],[101,0,226,93],[102,0,226,94]],[[13,0,227,7]],[[8,0,228,4],[9,0,228,5],[10,0,228,6],[11,0,228,7]],[[8,0,230,4],[15,0,230,11],[25,0,230,21],[26,0,230,22]],[[4,0,231,2],[5,0,231,3]],[[4,0,233,12],[12,0,233,20],[13,0,234,4],[22,0,234,27],[24,0,235,4],[30,0,235,16],[32,0,236,4],[34,0,236,15],[36,0,237,4],[45,0,237,22]],[[8,0,239,4],[72,0,239,68]],[[8,0,240,4],[14,0,240,10],[25,0,240,21],[28,0,240,32],[32,0,240,36],[33,0,240,37],[46,0,240,50],[47,0,240,51],[53,0,240,57],[54,0,240,58],[55,0,240,59]],[[8,0,242,4],[12,0,242,8],[21,0,242,17],[23,0,242,19]],[[12,0,243,6],[19,0,243,13],[30,0,243,24],[31,0,243,25],[32,0,243,26],[33,0,243,27],[36,0,243,30],[45,0,243,39],[49,0,243,43],[60,0,243,54],[62,0,243,56],[63,0,243,57],[64,0,243,58],[65,0,243,59],[74,0,243,68],[75,0,243,69]],[[9,0,244,5]],[[8,0,246,4],[14,0,246,10],[25,0,246,21],[28,0,246,37],[35,0,246,44],[36,0,246,45],[47,0,246,56],[48,0,246,57],[68,0,246,77],[70,0,246,79],[79,0,246,88],[80,0,246,89],[81,0,246,90]],[[8,0,248,4],[14,0,248,10],[21,0,248,17],[24,0,248,20],[35,0,248,31],[36,0,248,32],[43,0,248,39],[47,0,248,43],[51,0,248,47],[52,0,248,48],[67,0,248,63],[68,0,248,64],[75,0,248,71],[76,0,248,72]],[[8,0,249,4],[14,0,249,10],[24,0,249,20],[27,0,249,23],[38,0,249,34],[39,0,249,35],[49,0,249,45],[53,0,249,49],[57,0,249,53],[58,0,249,54],[73,0,249,69],[74,0,249,70],[84,0,249,80],[85,0,249,81]],[[8,0,250,4],[14,0,250,10],[30,0,250,26],[33,0,250,37],[44,0,250,48],[45,0,250,49],[61,0,250,65],[65,0,250,69],[76,0,250,80],[77,0,250,81],[81,0,250,85],[82,0,250,86]],[[8,0,252,4],[14,0,252,10],[17,0,252,13],[20,0,252,24],[21,0,252,25],[28,0,252,32],[30,0,252,34],[40,0,252,44],[42,0,252,46],[58,0,252,62],[60,0,252,64],[62,0,252,66],[63,0,252,67],[64,0,252,68],[70,0,252,74],[71,0,252,75],[72,0,252,76],[73,0,252,77],[75,0,252,79],[77,0,252,81],[78,0,252,82],[79,0,252,83],[80,0,252,84],[81,0,252,85],[85,0,252,89],[86,0,252,90],[89,0,252,93],[90,0,252,94],[91,0,252,95]],[[8,0,254,4],[15,0,254,11],[26,0,254,22],[27,0,254,23],[28,0,254,24],[29,0,254,25],[32,0,254,28],[35,0,254,31],[39,0,254,35],[50,0,254,46],[52,0,254,48],[53,0,254,49],[54,0,254,50],[55,0,254,51],[58,0,254,54],[59,0,254,55]],[[4,0,255,2],[5,0,255,3]],[[4,0,257,12],[20,0,257,28],[21,0,257,29],[25,0,257,38]],[[8,0,258,4],[12,0,258,8],[25,0,258,26],[26,0,258,27]],[[8,0,260,4],[14,0,260,10],[31,0,260,27],[34,0,260,37],[41,0,260,44],[42,0,260,45],[53,0,260,56],[54,0,260,57],[65,0,260,68],[67,0,260,70],[71,0,260,74],[72,0,260,75],[76,0,260,79],[78,0,260,81],[79,0,260,82]],[[8,0,261,4],[14,0,261,10],[29,0,261,25],[32,0,261,35],[39,0,261,42],[40,0,261,43],[51,0,261,54],[52,0,261,55],[61,0,261,64],[63,0,261,66],[67,0,261,70],[68,0,261,71],[72,0,261,75],[74,0,261,77],[75,0,261,78]],[[8,0,263,4],[13,0,263,9],[19,0,263,15],[22,0,263,18],[26,0,263,22],[30,0,263,26],[32,0,263,28]],[[12,0,264,6],[16,0,264,10],[20,0,264,14],[21,0,264,15],[35,0,264,29],[36,0,264,30],[39,0,264,33],[40,0,264,34],[42,0,264,36]],[[16,0,265,8],[20,0,265,12],[24,0,265,16],[25,0,265,17],[28,0,265,20],[29,0,265,21],[41,0,265,33],[53,0,265,45],[55,0,265,47]],[[20,0,266,10],[33,0,266,23],[36,0,266,26],[49,0,266,39],[53,0,266,43],[55,0,266,45],[56,0,266,46]],[[20,0,268,10],[24,0,268,14],[28,0,268,18],[29,0,268,19],[32,0,268,22],[33,0,268,23],[34,0,268,24],[36,0,268,26],[38,0,268,28]],[[24,0,269,12],[30,0,269,18],[36,0,269,24],[39,0,269,27],[56,0,269,44],[57,0,269,45],[61,0,269,49],[62,0,269,50],[63,0,269,51],[65,0,269,58],[67,0,269,60],[69,0,269,62],[70,0,269,63],[72,0,269,65],[73,0,269,66],[85,0,269,78],[90,0,269,83],[93,0,269,86],[94,0,269,87],[95,0,269,88]],[[24,0,270,12],[30,0,270,18],[45,0,270,33],[48,0,270,36],[54,0,270,42],[55,0,270,43],[67,0,270,55],[68,0,270,56]],[[24,0,271,12],[37,0,271,25],[38,0,271,26],[53,0,271,41],[54,0,271,42],[57,0,271,45]],[[28,0,272,14],[32,0,272,18],[34,0,272,20],[38,0,272,24],[39,0,272,25],[66,0,272,52],[67,0,272,53],[71,0,272,57],[72,0,272,58],[75,0,272,61],[76,0,272,62],[77,0,272,63]],[[25,0,273,13],[26,0,273,14]],[[21,0,274,11]],[[17,0,275,9]],[[21,0,275,15],[25,0,275,19],[29,0,275,23],[30,0,275,24],[33,0,275,27],[34,0,275,28],[46,0,275,40],[51,0,275,45],[53,0,275,47]],[[20,0,276,10],[26,0,276,16],[32,0,276,22],[35,0,276,25],[50,0,276,40],[51,0,276,41],[55,0,276,45],[56,0,276,46],[57,0,276,47],[59,0,276,54],[61,0,276,56],[63,0,276,58],[64,0,276,59],[66,0,276,61],[67,0,276,62],[79,0,276,74],[84,0,276,79],[87,0,276,82],[88,0,276,83],[89,0,276,84]],[[20,0,277,10],[24,0,277,14],[30,0,277,20],[34,0,277,24],[38,0,277,28],[39,0,277,29],[60,0,277,50],[61,0,277,51],[65,0,277,55],[66,0,277,56],[69,0,277,59],[70,0,277,60],[71,0,277,61],[73,0,277,63]],[[24,0,278,12],[37,0,278,25],[40,0,278,28],[53,0,278,41],[57,0,278,45],[59,0,278,47],[60,0,278,48]],[[24,0,280,12],[30,0,280,18],[45,0,280,33],[48,0,280,36],[54,0,280,42],[55,0,280,43],[67,0,280,55],[68,0,280,56]],[[24,0,281,12],[30,0,281,18],[46,0,281,34],[49,0,281,37],[53,0,281,41],[54,0,281,42],[57,0,281,45],[58,0,281,46]],[[29,0,282,15],[35,0,282,21],[36,0,282,22],[37,0,282,23],[42,0,282,42],[44,0,282,44],[46,0,282,46],[47,0,282,47],[52,0,282,52],[53,0,282,53],[55,0,282,55],[56,0,282,56]],[[29,0,283,15],[32,0,283,18],[33,0,283,19],[34,0,283,20],[39,0,283,39],[41,0,283,41],[43,0,283,43],[44,0,283,44],[48,0,283,48],[49,0,283,49],[76,0,283,76],[77,0,283,77],[82,0,283,82],[83,0,283,83],[84,0,283,84],[85,0,283,85]],[[24,0,285,12],[37,0,285,25],[38,0,285,26],[53,0,285,41],[54,0,285,42],[57,0,285,45]],[[28,0,286,14],[32,0,286,18],[34,0,286,20],[50,0,286,36]],[[25,0,287,13],[26,0,287,14]],[[21,0,288,11]],[[17,0,289,9]],[[21,0,289,15],[25,0,289,19],[29,0,289,23],[30,0,289,24],[33,0,289,27],[34,0,289,28],[39,0,289,33],[43,0,289,37],[45,0,289,39]],[[20,0,290,10],[26,0,290,16],[32,0,290,22],[35,0,290,25],[52,0,290,42],[53,0,290,43],[57,0,290,47],[58,0,290,48],[59,0,290,49],[65,0,290,60],[67,0,290,62],[69,0,290,64],[70,0,290,65],[76,0,290,71],[77,0,290,72],[89,0,290,84],[94,0,290,89],[97,0,290,92],[98,0,290,93],[99,0,290,94]],[[20,0,292,10],[24,0,292,14],[30,0,292,20],[32,0,292,22]],[[24,0,293,12],[37,0,293,25],[40,0,293,28],[53,0,293,41],[57,0,293,45],[59,0,293,47],[60,0,293,48]],[[24,0,295,12],[37,0,295,25],[38,0,295,26],[44,0,295,32],[45,0,295,33],[57,0,295,45],[58,0,295,46],[61,0,295,49]],[[28,0,296,14],[32,0,296,18],[34,0,296,20],[38,0,296,24]],[[25,0,297,13],[26,0,297,14]],[[21,0,298,11]],[[17,0,299,9]],[[13,0,300,7]],[[9,0,301,5]],[[8,0,303,4],[15,0,303,11],[28,0,303,24],[29,0,303,25]],[[4,0,304,2],[5,0,304,3]],[[4,0,306,12],[25,0,306,33],[26,0,306,34],[33,0,306,53]],[[8,0,307,4],[12,0,307,8],[13,0,307,9],[20,0,307,16],[21,0,307,17],[27,0,307,23],[29,0,307,25]],[[12,0,308,6],[19,0,308,13],[23,0,308,17],[24,0,308,18]],[[9,0,309,5]],[[8,0,310,4],[14,0,310,10],[28,0,310,24],[31,0,310,27],[38,0,310,34],[39,0,310,35],[44,0,310,40],[45,0,310,41],[46,0,310,42],[50,0,310,46],[52,0,310,48],[54,0,310,50],[55,0,310,51],[59,0,310,55],[71,0,310,67],[83,0,310,79],[84,0,310,80],[85,0,310,81]],[[8,0,311,4],[12,0,311,8],[13,0,311,9],[27,0,311,23],[29,0,311,25]],[[12,0,312,6],[19,0,312,13],[24,0,312,18],[25,0,312,19]],[[9,0,313,5]],[[8,0,314,4],[14,0,314,10],[19,0,314,15],[22,0,314,18],[29,0,314,25],[30,0,314,26],[33,0,314,29],[34,0,314,30],[35,0,314,31],[39,0,314,49],[41,0,314,51],[43,0,314,53],[44,0,314,54],[48,0,314,58],[49,0,314,59],[60,0,314,70],[61,0,314,71],[77,0,314,87],[81,0,314,91],[85,0,314,95],[86,0,314,96],[97,0,314,107],[98,0,314,108],[102,0,314,112],[103,0,314,113],[104,0,314,114]],[[8,0,315,4],[15,0,315,11],[20,0,315,16]],[[13,0,316,7],[19,0,316,13],[20,0,316,14],[21,0,316,15],[25,0,316,27],[27,0,316,29],[32,0,316,42],[34,0,316,44],[38,0,316,58],[40,0,316,60],[42,0,316,62],[43,0,316,63],[47,0,316,67],[48,0,316,68],[55,0,316,75],[56,0,316,76],[60,0,316,80],[61,0,316,81],[66,0,316,86],[71,0,316,91],[72,0,316,92]],[[13,0,317,7],[19,0,317,13],[24,0,317,18],[25,0,317,19],[26,0,317,20]],[[4,0,318,2],[5,0,318,3]],[[4,0,320,12],[31,0,320,39],[32,0,320,40],[37,0,320,59]],[[8,0,321,4],[14,0,321,10],[30,0,321,26],[33,0,321,37],[38,0,321,42],[39,0,321,43],[50,0,321,54],[51,0,321,55],[55,0,321,59],[56,0,321,60]],[[8,0,322,4],[14,0,322,10],[30,0,322,26],[33,0,322,78],[35,0,322,80],[39,0,322,84],[41,0,322,86],[57,0,322,102],[59,0,322,104],[60,0,322,105]],[[8,0,324,4],[12,0,324,8],[17,0,324,13],[18,0,324,14],[20,0,324,16],[22,0,324,18]],[[12,0,325,6],[28,0,325,22],[29,0,325,23],[31,0,325,25],[34,0,325,28],[39,0,325,33],[40,0,325,34],[42,0,325,36],[43,0,325,37]],[[9,0,326,5]],[[13,0,326,11]],[[12,0,327,6],[18,0,327,12],[36,0,327,30],[39,0,327,38],[46,0,327,45],[47,0,327,46],[58,0,327,57],[59,0,327,58],[70,0,327,69],[72,0,327,71],[77,0,327,76],[78,0,327,77],[79,0,327,78]],[[12,0,328,6],[28,0,328,22],[29,0,328,23],[39,0,328,33],[42,0,328,36],[46,0,328,40],[47,0,328,41],[65,0,328,59],[66,0,328,60],[84,0,328,78],[86,0,328,80],[91,0,328,85],[92,0,328,86],[93,0,328,87]],[[9,0,329,5]],[[8,0,331,4],[15,0,331,11],[31,0,331,27],[32,0,331,28]],[[4,0,332,2],[5,0,332,3]],[[4,0,334,12],[20,0,334,28],[21,0,335,4],[29,0,335,34],[31,0,336,4],[40,0,336,27],[42,0,337,4],[50,0,337,12],[53,0,337,15],[58,0,337,20]],[[8,0,339,4],[14,0,339,10],[18,0,339,14],[21,0,339,22],[29,0,339,30],[30,0,339,31],[34,0,339,35],[35,0,339,36]],[[8,0,340,4],[14,0,340,10],[20,0,340,16],[23,0,340,24],[25,0,340,26],[26,0,340,27]],[[8,0,342,4],[12,0,342,8],[13,0,342,9],[17,0,342,13],[18,0,342,14],[25,0,342,21],[26,0,342,22],[27,0,342,23],[31,0,342,32],[33,0,342,34],[35,0,342,36]],[[12,0,343,6],[18,0,343,12],[23,0,343,17],[26,0,343,23],[30,0,343,27],[31,0,343,28],[47,0,343,44],[48,0,343,45],[57,0,343,54],[59,0,343,56],[63,0,343,60],[64,0,343,61],[65,0,343,62]],[[12,0,344,6],[16,0,344,10],[17,0,344,11],[27,0,344,21],[28,0,344,22],[33,0,344,27],[34,0,344,28],[35,0,344,29]],[[12,0,346,6],[16,0,346,10],[20,0,346,14],[21,0,346,15],[29,0,346,23],[31,0,346,25]],[[16,0,347,8],[21,0,347,13],[22,0,347,14],[39,0,347,31],[40,0,347,32],[44,0,347,36],[46,0,347,38],[50,0,347,42],[51,0,347,43],[59,0,347,51],[60,0,347,52],[66,0,347,58],[67,0,347,59],[71,0,347,63],[72,0,347,64],[73,0,347,65],[74,0,347,66]],[[16,0,348,8],[20,0,348,12],[21,0,348,13],[31,0,348,23],[32,0,348,24],[37,0,348,29],[38,0,348,30],[39,0,348,31]],[[13,0,349,7]],[[12,0,351,6],[18,0,351,12],[19,0,351,13],[23,0,351,17],[24,0,351,18],[29,0,351,23],[30,0,351,24],[31,0,351,25]],[[8,0,352,4],[9,0,352,5],[10,0,352,6],[11,0,352,7]],[[8,0,354,4],[12,0,354,8],[20,0,354,16],[24,0,354,20],[32,0,354,28],[37,0,354,33],[41,0,354,37],[43,0,354,39]],[[12,0,355,6],[19,0,355,13],[23,0,355,17],[39,0,355,33],[40,0,355,34],[46,0,355,40],[48,0,355,42],[52,0,355,46],[53,0,355,47],[62,0,355,56],[63,0,355,57],[67,0,355,61],[69,0,355,63],[78,0,355,72],[79,0,355,73],[80,0,355,74],[81,0,355,75]],[[9,0,356,5]],[[8,0,358,4],[15,0,358,11],[21,0,358,17],[22,0,358,18]],[[4,0,359,2],[5,0,359,3]],[[4,0,361,12],[21,0,361,29],[22,0,362,4],[25,0,362,29],[27,0,363,4],[36,0,363,27],[38,0,364,4],[43,0,364,13]],[[8,0,366,4],[14,0,366,10],[18,0,366,14],[21,0,366,22],[24,0,366,25],[25,0,366,26],[29,0,366,30],[30,0,366,31]],[[8,0,367,4],[89,0,367,85]],[[8,0,368,4],[93,0,368,89]],[[8,0,369,4],[52,0,369,48]],[[8,0,370,4],[12,0,370,8],[13,0,370,9],[17,0,370,13],[21,0,370,17],[25,0,370,21],[30,0,370,26],[36,0,370,32],[38,0,370,34]],[[12,0,371,6],[18,0,371,12],[22,0,371,16],[27,0,371,21],[28,0,371,22],[49,0,371,43],[50,0,371,44],[51,0,371,45]],[[9,0,372,5]],[[8,0,374,4],[12,0,374,8],[13,0,374,9],[17,0,374,13],[18,0,374,14],[22,0,374,18],[24,0,374,20]],[[12,0,375,6],[16,0,375,10],[19,0,375,13],[20,0,375,14],[26,0,375,20],[31,0,375,25],[34,0,375,28],[38,0,375,32],[39,0,375,33],[44,0,375,38],[46,0,375,40]],[[16,0,376,8],[22,0,376,14],[26,0,376,18],[31,0,376,23],[32,0,376,24],[59,0,376,51],[60,0,376,52],[61,0,376,53]],[[13,0,377,7]],[[12,0,378,6],[19,0,378,13],[24,0,378,18],[25,0,378,19]],[[9,0,379,5]],[[8,0,381,4],[12,0,381,8],[17,0,381,13],[19,0,381,15]],[[12,0,382,6],[17,0,382,11],[18,0,382,12],[37,0,382,31],[40,0,382,34],[44,0,382,38],[45,0,382,39]],[[12,0,383,6],[17,0,383,11],[18,0,383,12],[20,0,383,14],[23,0,383,17],[27,0,383,21],[28,0,383,22],[32,0,383,26],[33,0,383,27],[35,0,383,29],[36,0,383,30]],[[12,0,384,6],[18,0,384,12],[19,0,384,13],[25,0,384,19],[26,0,384,20],[31,0,384,25],[33,0,384,27],[37,0,384,31],[38,0,384,32],[42,0,384,36],[43,0,384,37],[53,0,384,47],[54,0,384,48],[55,0,384,49]],[[12,0,385,6],[17,0,385,11],[18,0,385,12],[37,0,385,31],[40,0,385,34],[45,0,385,39],[46,0,385,40]],[[9,0,386,5]],[[8,0,388,4],[14,0,388,10],[31,0,388,27],[34,0,388,30],[39,0,388,35],[43,0,388,39],[47,0,388,43],[48,0,388,44],[64,0,388,60],[65,0,388,61],[74,0,388,70],[76,0,388,72],[80,0,388,76],[81,0,388,77],[85,0,388,81],[86,0,388,82],[87,0,388,83]],[[8,0,389,4],[12,0,389,8],[13,0,389,9],[23,0,389,19],[24,0,389,20],[41,0,389,37],[42,0,389,38],[43,0,389,39]],[[8,0,390,4],[12,0,390,8],[16,0,390,12],[17,0,390,13],[25,0,390,21],[27,0,390,23]],[[12,0,391,6],[29,0,391,23],[30,0,391,24],[47,0,391,41],[48,0,391,42],[52,0,391,46],[53,0,391,47],[57,0,391,51],[59,0,391,53],[63,0,391,57],[64,0,391,58],[72,0,391,66],[73,0,391,67],[74,0,391,68]],[[12,0,392,6],[16,0,392,10],[17,0,392,11],[27,0,392,21],[28,0,392,22],[45,0,392,39],[46,0,392,40],[47,0,392,41]],[[9,0,393,5]],[[8,0,395,4],[15,0,395,11],[32,0,395,28],[33,0,395,29]],[[4,0,396,2],[5,0,396,3]],[[4,0,398,12],[15,0,398,23],[16,0,398,24],[21,0,398,34]],[[8,0,399,4],[12,0,400,6],[17,0,400,11],[29,0,400,23],[46,0,400,40]],[[12,0,401,6],[17,0,401,11],[18,0,401,12],[23,0,401,17],[35,0,401,29],[41,0,401,35]],[[12,0,402,6],[17,0,402,11],[18,0,402,12],[23,0,402,17],[24,0,402,18],[30,0,402,24]],[[12,0,403,6],[17,0,403,11],[18,0,403,12],[23,0,403,17],[24,0,403,18],[30,0,403,24],[42,0,403,36],[47,0,403,41],[49,0,404,6]],[[12,0,405,6],[18,0,405,12],[24,0,405,18],[27,0,405,36],[31,0,405,40],[44,0,405,53],[45,0,405,54],[50,0,405,59],[51,0,405,60],[56,0,405,65],[57,0,405,66],[63,0,405,72],[64,0,405,73],[65,0,405,74]],[[12,0,406,6],[19,0,406,13],[29,0,406,23],[30,0,406,24],[36,0,406,30],[37,0,406,31],[38,0,406,32]],[[9,0,407,5]],[[8,0,409,4],[15,0,409,11],[25,0,409,21],[26,0,409,22],[31,0,409,27],[32,0,409,28],[33,0,409,29]],[[4,0,410,2],[5,0,410,3]],[[4,0,412,12],[13,0,412,21],[14,0,412,22],[18,0,412,31],[20,0,412,33],[29,0,412,67]],[[8,0,413,4],[14,0,413,10],[23,0,413,19],[26,0,413,27],[33,0,413,34],[34,0,413,35],[45,0,413,46],[46,0,413,47],[66,0,413,67],[68,0,413,69],[77,0,413,78],[78,0,413,79],[79,0,413,80],[83,0,413,84],[84,0,413,85]],[[8,0,414,4],[15,0,414,11],[19,0,414,15],[28,0,414,24],[29,0,414,25],[33,0,414,29],[34,0,414,30],[35,0,414,31]],[[4,0,415,2],[5,0,415,3]],[[4,0,417,2]],[],[[7,0,419,5]],[[4,0,420,12],[14,0,420,22],[15,0,420,23],[28,0,420,50]],[[8,0,421,4],[15,0,421,11]],[[12,0,422,6],[19,0,422,13],[21,0,422,15],[25,0,422,19],[26,0,422,20],[42,0,422,36],[43,0,422,37],[56,0,422,50],[57,0,422,51]],[[9,0,423,5],[10,0,423,6]],[[4,0,424,2],[5,0,424,3]],[[4,0,426,12],[20,0,426,28],[21,0,426,29],[34,0,426,56]],[[8,0,427,4],[12,0,427,8],[26,0,427,22],[29,0,427,38],[33,0,427,42],[44,0,427,53],[45,0,427,54]],[[12,0,428,6],[18,0,428,12],[20,0,428,14],[46,0,428,40]],[[12,0,429,6],[26,0,429,20],[28,0,429,22],[54,0,429,48]],[[9,0,430,5],[10,0,430,6],[11,0,430,7]],[[8,0,432,4],[12,0,432,8],[16,0,432,12],[17,0,432,13],[30,0,432,26],[32,0,432,28]],[[12,0,433,6],[16,0,433,10],[17,0,433,11],[30,0,433,24],[31,0,433,25],[35,0,433,29],[37,0,433,31],[38,0,433,32],[45,0,433,39],[46,0,433,40],[47,0,433,41],[50,0,433,44],[52,0,433,46],[54,0,433,48]],[[16,0,434,8],[20,0,434,12],[24,0,434,16],[25,0,434,17],[38,0,434,30],[39,0,434,31],[42,0,434,34],[43,0,434,35],[46,0,434,38],[47,0,434,39],[49,0,434,41]],[[20,0,435,10],[34,0,435,24],[37,0,435,27],[51,0,435,41],[52,0,435,42],[55,0,435,45],[56,0,435,46],[59,0,435,49],[61,0,435,51],[65,0,435,55],[66,0,435,56],[79,0,435,69],[80,0,435,70],[83,0,435,73],[84,0,435,74],[87,0,435,77],[88,0,435,78],[89,0,435,79],[90,0,435,80]],[[17,0,436,9]],[[12,0,437,6],[13,0,437,7],[14,0,437,8],[15,0,437,9]],[[9,0,438,5]],[[8,0,440,4],[12,0,440,8],[25,0,440,21],[27,0,440,23]],[[12,0,441,6],[25,0,441,19],[26,0,441,20],[30,0,441,24],[32,0,441,26],[33,0,441,27],[40,0,441,34],[41,0,441,35],[42,0,441,36],[45,0,441,39],[47,0,441,41],[49,0,441,43]],[[16,0,442,8],[20,0,442,12],[33,0,442,25],[34,0,442,26],[37,0,442,29],[38,0,442,30],[41,0,442,33],[42,0,442,34],[44,0,442,36]],[[20,0,443,10],[34,0,443,24],[37,0,443,27],[51,0,443,41],[52,0,443,42],[55,0,443,45],[56,0,443,46],[59,0,443,49],[61,0,443,51],[74,0,443,64],[75,0,443,65],[78,0,443,68],[79,0,443,69],[82,0,443,72],[83,0,443,73],[84,0,443,74],[85,0,443,75]],[[17,0,444,9]],[[12,0,445,6],[13,0,445,7],[14,0,445,8],[15,0,445,9]],[[9,0,446,5]],[[8,0,448,4],[15,0,448,11],[29,0,448,25],[30,0,448,26]],[[4,0,449,2],[5,0,449,3]],[[4,0,451,12],[27,0,451,35],[28,0,451,60],[31,0,451,66],[33,0,451,68],[51,0,451,91],[53,0,451,93],[62,0,451,116]],[[8,0,452,4],[13,0,452,9],[19,0,452,15],[31,0,452,27],[35,0,452,31],[53,0,452,49],[55,0,452,51]],[[12,0,453,6],[16,0,453,10],[34,0,453,28],[35,0,453,29],[49,0,453,43],[50,0,453,44],[62,0,453,56],[63,0,453,57],[65,0,453,59]],[[16,0,454,8],[22,0,454,14],[30,0,454,22],[33,0,454,30],[51,0,454,48],[52,0,454,49],[64,0,454,61],[65,0,454,62],[66,0,454,63]],[[16,0,456,8],[20,0,456,12],[28,0,456,20],[29,0,456,21],[47,0,456,39],[49,0,456,41]],[[20,0,457,10],[28,0,457,18],[29,0,457,19],[47,0,457,37],[50,0,457,40],[55,0,457,45],[56,0,457,46]],[[17,0,458,9]],[[13,0,459,7]],[[9,0,460,5]],[[8,0,462,4],[21,0,462,17]],[[8,0,463,4],[11,0,463,7],[12,0,463,8],[34,0,463,30],[35,0,463,31],[38,0,463,34],[56,0,463,52],[57,0,463,53]],[[8,0,464,4],[15,0,464,11],[18,0,464,14],[19,0,464,15]],[[4,0,465,2],[5,0,465,3]],[[4,0,467,12],[23,0,467,31],[24,0,467,56],[29,0,467,64],[31,0,467,66],[44,0,467,84]],[[8,0,468,4],[14,0,468,10],[25,0,468,21],[28,0,468,29],[35,0,468,36],[36,0,468,37],[47,0,468,48],[48,0,468,49],[72,0,468,73],[74,0,468,75],[78,0,468,79],[79,0,468,80],[90,0,468,91],[91,0,468,92],[92,0,468,93],[98,0,468,99],[99,0,468,100]],[[8,0,470,4],[13,0,470,9],[19,0,470,15],[31,0,470,27],[35,0,470,31],[48,0,470,44],[50,0,470,46]],[[12,0,471,6],[16,0,471,10],[29,0,471,23],[30,0,471,24],[44,0,471,38],[45,0,471,39],[57,0,471,51],[58,0,471,52],[62,0,471,56],[67,0,471,61],[68,0,471,62],[82,0,471,76],[83,0,471,77],[95,0,471,89],[96,0,471,90],[100,0,471,94],[105,0,471,99],[106,0,471,100],[118,0,471,112],[119,0,471,113],[121,0,471,115]],[[16,0,472,8],[22,0,472,14],[39,0,472,31],[42,0,472,48],[47,0,472,53],[48,0,472,54],[60,0,472,66],[61,0,472,67],[62,0,472,68]],[[16,0,473,8],[22,0,473,14],[29,0,473,21],[32,0,473,31],[39,0,473,38],[40,0,473,39],[51,0,473,50],[52,0,473,51],[61,0,473,60],[63,0,473,62],[80,0,473,79],[81,0,473,80],[82,0,473,81]],[[16,0,474,8],[22,0,474,14],[37,0,474,29],[40,0,474,37],[44,0,474,41],[45,0,474,42],[52,0,474,49],[54,0,474,51],[55,0,474,52],[63,0,474,60],[65,0,474,62],[67,0,474,64]],[[20,0,475,10],[27,0,475,17],[38,0,475,28],[39,0,475,29],[47,0,475,37],[48,0,475,38],[60,0,475,50],[61,0,475,51],[66,0,475,56],[71,0,475,61],[72,0,475,62],[83,0,475,73],[84,0,475,74]],[[16,0,476,8],[17,0,476,9],[18,0,476,10],[19,0,476,11]],[[16,0,478,8],[20,0,478,12],[35,0,478,27],[37,0,478,29]],[[20,0,479,10],[37,0,479,27],[38,0,479,28],[53,0,479,43],[54,0,479,44],[66,0,479,56],[67,0,479,57],[70,0,479,60],[87,0,479,77],[88,0,479,78],[103,0,479,93],[104,0,479,94],[116,0,479,106],[117,0,479,107],[121,0,479,111],[123,0,479,113],[124,0,479,114]],[[20,0,481,10],[26,0,481,16],[38,0,481,28],[41,0,481,31],[58,0,481,48],[59,0,481,49],[74,0,481,64],[75,0,481,65],[87,0,481,77],[88,0,481,78],[89,0,481,79],[96,0,481,86],[97,0,481,87],[102,0,481,92],[103,0,481,93],[104,0,481,94]],[[20,0,483,10],[24,0,483,14],[36,0,483,26],[41,0,483,31],[42,0,483,32],[43,0,483,33],[45,0,483,35]],[[24,0,484,12],[41,0,484,29],[42,0,484,30],[57,0,484,45],[58,0,484,46],[70,0,484,58],[71,0,484,59],[72,0,484,60],[76,0,484,64],[77,0,484,65],[82,0,484,70],[83,0,484,71],[84,0,484,72]],[[21,0,485,11]],[[25,0,485,17]],[[24,0,486,12],[41,0,486,29],[42,0,486,30],[57,0,486,45],[58,0,486,46],[70,0,486,58],[71,0,486,59],[72,0,486,60],[84,0,486,72],[85,0,486,73],[88,0,486,76],[93,0,486,81],[94,0,486,82]],[[21,0,487,11]],[[17,0,488,9]],[[13,0,489,7]],[[9,0,490,5]],[[8,0,492,4],[15,0,492,11],[20,0,492,16],[21,0,492,17]],[[4,0,493,2],[5,0,493,3]],[[4,0,495,12],[25,0,495,33],[26,0,495,34],[31,0,495,53]],[[8,0,496,4],[15,0,496,11],[22,0,496,18],[23,0,496,19],[34,0,496,30],[35,0,496,31],[53,0,496,49],[55,0,496,51],[60,0,496,56],[61,0,496,57],[65,0,496,61],[67,0,496,63],[68,0,496,64]],[[4,0,497,2],[5,0,497,3]],[[4,0,499,10],[23,0,499,29],[24,0,499,30],[40,0,499,51],[42,0,499,53]],[[8,0,500,4],[14,0,500,10],[25,0,500,21],[28,0,500,37],[32,0,500,41],[33,0,500,42],[49,0,500,58],[50,0,500,59],[63,0,500,72],[64,0,500,73],[71,0,500,80],[72,0,500,81],[73,0,500,82]],[[8,0,502,4],[14,0,502,10],[28,0,502,24],[31,0,502,35],[37,0,502,41],[38,0,502,42],[44,0,502,48],[45,0,502,49],[58,0,502,62],[60,0,502,64]],[[12,0,503,6],[19,0,503,13],[21,0,503,15],[32,0,503,26]],[[9,0,504,5],[10,0,504,6],[11,0,504,7]],[[8,0,506,4],[15,0,506,11],[21,0,506,17],[22,0,506,18],[28,0,506,24],[29,0,506,25],[33,0,506,29],[34,0,506,30],[54,0,506,50],[56,0,506,52],[70,0,506,66],[71,0,506,67],[72,0,506,68]],[[4,0,507,2],[5,0,507,3]],[[4,0,509,10],[18,0,509,24],[19,0,509,25],[25,0,509,36]],[[8,0,510,4],[15,0,510,11],[17,0,510,13],[18,0,510,14],[27,0,510,23],[28,0,510,24],[34,0,510,30],[36,0,510,32],[38,0,510,34],[49,0,510,45],[51,0,510,47],[61,0,510,57],[63,0,510,59],[64,0,510,60],[65,0,510,61]],[[4,0,511,2],[5,0,511,3]],[],[[99,0,26,13],[115,0,26,29]],[[101,0,26,13],[117,0,26,29],[128,0,26,13],[144,0,26,29]],[[87,0,26,13],[103,0,26,29]],[[14,0,25,1],[24,0,25,11]]],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { find } from 'lodash';\nimport { catchError, map } from 'rxjs/operators';\nimport { Observable, of, throwError } from 'rxjs';\nimport { JsonApiModel } from '../models/json-api.model';\nimport { ErrorResponse } from '../models/error-response.model';\nimport { JsonApiQueryData } from '../models/json-api-query-data';\nimport * as qs from 'qs';\nimport { DatastoreConfig } from '../interfaces/datastore-config.interface';\nimport { ModelConfig } from '../interfaces/model-config.interface';\nimport { AttributeMetadata } from '../constants/symbols';\nimport 'reflect-metadata';\n\nexport type ModelType<T extends JsonApiModel> = new (datastore: JsonApiDatastore, data: any) => T;\n\n/**\n * HACK/FIXME:\n * Type 'symbol' cannot be used as an index type.\n * TypeScript 2.9.x\n * See https://github.com/Microsoft/TypeScript/issues/24587.\n */\n// tslint:disable-next-line:variable-name\nconst AttributeMetadataIndex: string = AttributeMetadata as any;\n\n@Injectable()\nexport class JsonApiDatastore {\n\n  protected config: DatastoreConfig;\n  private globalHeaders: HttpHeaders;\n  private globalRequestOptions: object = {};\n  private internalStore: { [type: string]: { [id: string]: JsonApiModel } } = {};\n  private toQueryString: (params: any) => string = this.datastoreConfig.overrides\n    && this.datastoreConfig.overrides.toQueryString ?\n    this.datastoreConfig.overrides.toQueryString : this._toQueryString;\n\n  constructor(protected http: HttpClient) {\n  }\n\n  set headers(headers: HttpHeaders) {\n    this.globalHeaders = headers;\n  }\n\n  set requestOptions(requestOptions: object) {\n    this.globalRequestOptions = requestOptions;\n  }\n\n  public get datastoreConfig(): DatastoreConfig {\n    const configFromDecorator: DatastoreConfig = Reflect.getMetadata('JsonApiDatastoreConfig', this.constructor);\n    return Object.assign(configFromDecorator, this.config);\n  }\n\n  private get getDirtyAttributes() {\n    if (this.datastoreConfig.overrides\n      && this.datastoreConfig.overrides.getDirtyAttributes) {\n      return this.datastoreConfig.overrides.getDirtyAttributes;\n    }\n    return JsonApiDatastore.getDirtyAttributes;\n  }\n\n  private static getDirtyAttributes(attributesMetadata: any): { string: any } {\n    const dirtyData: any = {};\n\n    for (const propertyName in attributesMetadata) {\n      if (attributesMetadata.hasOwnProperty(propertyName)) {\n        const metadata: any = attributesMetadata[propertyName];\n\n        if (metadata.hasDirtyAttributes) {\n          const attributeName = metadata.serializedName != null ? metadata.serializedName : propertyName;\n          dirtyData[attributeName] = metadata.serialisationValue ? metadata.serialisationValue : metadata.newValue;\n        }\n      }\n    }\n    return dirtyData;\n  }\n\n  /**\n   * @deprecated use findAll method to take all models\n   */\n  query<T extends JsonApiModel>(\n    modelType: ModelType<T>,\n    params?: any,\n    headers?: HttpHeaders,\n    customUrl?: string\n  ): Observable<T[]> {\n    const requestHeaders: HttpHeaders = this.buildHttpHeaders(headers);\n    const url: string = this.buildUrl(modelType, params, undefined, customUrl);\n    return this.http.get(url, { headers: requestHeaders })\n      .pipe(\n        map((res: any) => this.extractQueryData(res, modelType)),\n        catchError((res: any) => this.handleError(res))\n      );\n  }\n\n  public findAll<T extends JsonApiModel>(\n    modelType: ModelType<T>,\n    params?: any,\n    headers?: HttpHeaders,\n    customUrl?: string\n  ): Observable<JsonApiQueryData<T>> {\n    const url: string = this.buildUrl(modelType, params, undefined, customUrl);\n    const requestOptions: object = this.buildRequestOptions({ headers, observe: 'response' });\n\n    return this.http.get(url, requestOptions)\n      .pipe(\n        map((res: HttpResponse<object>) => this.extractQueryData(res, modelType, true)),\n        catchError((res: any) => this.handleError(res))\n      );\n  }\n\n  public findRecord<T extends JsonApiModel>(\n    modelType: ModelType<T>,\n    id: string,\n    params?: any,\n    headers?: HttpHeaders,\n    customUrl?: string\n  ): Observable<T> {\n    const requestOptions: object = this.buildRequestOptions({ headers, observe: 'response' });\n    const url: string = this.buildUrl(modelType, params, id, customUrl);\n\n    return this.http.get(url, requestOptions)\n      .pipe(\n        map((res: HttpResponse<object>) => this.extractRecordData(res, modelType)),\n        catchError((res: any) => this.handleError(res))\n      );\n  }\n\n  public createRecord<T extends JsonApiModel>(modelType: ModelType<T>, data?: any): T {\n    return new modelType(this, { attributes: data });\n  }\n\n  public saveRecord<T extends JsonApiModel>(\n    attributesMetadata: any,\n    model: T,\n    params?: any,\n    headers?: HttpHeaders,\n    customUrl?: string\n  ): Observable<T> {\n    const modelType = model.constructor as ModelType<T>;\n    const modelConfig: ModelConfig = model.modelConfig;\n    const typeName: string = modelConfig.type;\n    const relationships: any = this.getRelationships(model);\n    const url: string = this.buildUrl(modelType, params, model.id, customUrl);\n\n    let httpCall: Observable<HttpResponse<object>>;\n    const body: any = {\n      data: {\n        relationships,\n        type: typeName,\n        id: model.id,\n        attributes: this.getDirtyAttributes(attributesMetadata, model)\n      }\n    };\n\n    const requestOptions: object = this.buildRequestOptions({ headers, observe: 'response' });\n\n    if (model.id) {\n      httpCall = this.http.patch<object>(url, body, requestOptions) as Observable<HttpResponse<object>>;\n    } else {\n      httpCall = this.http.post<object>(url, body, requestOptions) as Observable<HttpResponse<object>>;\n    }\n\n    return httpCall\n      .pipe(\n        map((res) => [200, 201].indexOf(res.status) !== -1 ? this.extractRecordData(res, modelType, model) : model),\n        catchError((res) => {\n          if (res == null) {\n            return of(model);\n          }\n          return this.handleError(res);\n        }),\n        map((res) => this.updateRelationships(res, relationships))\n      );\n  }\n\n  public deleteRecord<T extends JsonApiModel>(\n    modelType: ModelType<T>,\n    id: string,\n    headers?: HttpHeaders,\n    customUrl?: string\n  ): Observable<Response> {\n    const requestOptions: object = this.buildRequestOptions({ headers });\n    const url: string = this.buildUrl(modelType, null, id, customUrl);\n\n    return this.http.delete(url, requestOptions)\n      .pipe(\n        catchError((res: HttpErrorResponse) => this.handleError(res))\n      );\n  }\n\n  public peekRecord<T extends JsonApiModel>(modelType: ModelType<T>, id: string): T | null {\n    const type: string = Reflect.getMetadata('JsonApiModelConfig', modelType).type;\n    return this.internalStore[type] ? this.internalStore[type][id] as T : null;\n  }\n\n  public peekAll<T extends JsonApiModel>(modelType: ModelType<T>): Array<T> {\n    const type = Reflect.getMetadata('JsonApiModelConfig', modelType).type;\n    const typeStore = this.internalStore[type];\n    return typeStore ? Object.keys(typeStore).map((key) => typeStore[key] as T) : [];\n  }\n\n  public deserializeModel<T extends JsonApiModel>(modelType: ModelType<T>, data: any) {\n    data.attributes = this.transformSerializedNamesToPropertyNames(modelType, data.attributes);\n    return new modelType(this, data);\n  }\n\n  public addToStore(modelOrModels: JsonApiModel | JsonApiModel[]): void {\n    const models = Array.isArray(modelOrModels) ? modelOrModels : [modelOrModels];\n    const type: string = models[0].modelConfig.type;\n    let typeStore = this.internalStore[type];\n\n    if (!typeStore) {\n      typeStore = this.internalStore[type] = {};\n    }\n\n    for (const model of models) {\n      typeStore[model.id] = model;\n    }\n  }\n\n  public transformSerializedNamesToPropertyNames<T extends JsonApiModel>(modelType: ModelType<T>, attributes: any) {\n    const serializedNameToPropertyName = this.getModelPropertyNames(modelType.prototype);\n    const properties: any = {};\n\n    Object.keys(serializedNameToPropertyName).forEach((serializedName) => {\n      if (attributes && attributes[serializedName] !== null && attributes[serializedName] !== undefined) {\n        properties[serializedNameToPropertyName[serializedName]] = attributes[serializedName];\n      }\n    });\n\n    return properties;\n  }\n\n  protected buildUrl<T extends JsonApiModel>(\n    modelType: ModelType<T>,\n    params?: any,\n    id?: string,\n    customUrl?: string\n  ): string {\n    // TODO: use HttpParams instead of appending a string to the url\n    const queryParams: string = this.toQueryString(params);\n\n    if (customUrl) {\n      return queryParams ? `${customUrl}?${queryParams}` : customUrl;\n    }\n\n    const modelConfig: ModelConfig = Reflect.getMetadata('JsonApiModelConfig', modelType);\n\n    const baseUrl = modelConfig.baseUrl || this.datastoreConfig.baseUrl;\n    const apiVersion = modelConfig.apiVersion || this.datastoreConfig.apiVersion;\n    const modelEndpointUrl: string = modelConfig.modelEndpointUrl || modelConfig.type;\n\n    const url: string = [baseUrl, apiVersion, modelEndpointUrl, id].filter((x) => x).join('/');\n\n    return queryParams ? `${url}?${queryParams}` : url;\n  }\n\n  protected getRelationships(data: any): any {\n    let relationships: any;\n\n    const belongsToMetadata: any[] = Reflect.getMetadata('BelongsTo', data) || [];\n    const hasManyMetadata: any[] = Reflect.getMetadata('HasMany', data) || [];\n\n    for (const key in data) {\n      if (data.hasOwnProperty(key)) {\n        if (data[key] instanceof JsonApiModel) {\n          relationships = relationships || {};\n\n          if (data[key].id) {\n            const entity = belongsToMetadata.find((it: any) => it.propertyName === key);\n            const relationshipKey = entity.relationship;\n            relationships[relationshipKey] = {\n              data: this.buildSingleRelationshipData(data[key])\n            };\n          }\n        } else if (data[key] instanceof Array) {\n          const entity = hasManyMetadata.find((it: any) => it.propertyName === key);\n          if (entity && this.isValidToManyRelation(data[key])) {\n            relationships = relationships || {};\n\n            const relationshipKey = entity.relationship;\n            const relationshipData = data[key]\n              .filter((model: JsonApiModel) => model.id)\n              .map((model: JsonApiModel) => this.buildSingleRelationshipData(model));\n\n            relationships[relationshipKey] = {\n              data: relationshipData\n            };\n          }\n        } else if (data[key] === null) {\n          const entity = belongsToMetadata.find((entity: any) => entity.propertyName === key);\n\n          if (entity) {\n            relationships = relationships || {};\n\n            relationships[entity.relationship] = {\n              data: null\n            };\n          }\n        }\n      }\n    }\n\n    return relationships;\n  }\n\n  protected isValidToManyRelation(objects: Array<any>): boolean {\n    if (!objects.length) {\n      return true;\n    }\n    const isJsonApiModel = objects.every((item) => item instanceof JsonApiModel);\n    if (!isJsonApiModel) {\n      return false;\n    }\n    const types = objects.map((item: JsonApiModel) => item.modelConfig.modelEndpointUrl || item.modelConfig.type);\n    return types\n      .filter((type: string, index: number, self: string[]) => self.indexOf(type) === index)\n      .length === 1;\n  }\n\n  protected buildSingleRelationshipData(model: JsonApiModel): any {\n    const relationshipType: string = model.modelConfig.type;\n    const relationShipData: { type: string, id?: string, attributes?: any } = { type: relationshipType };\n\n    if (model.id) {\n      relationShipData.id = model.id;\n    } else {\n      const attributesMetadata: any = Reflect.getMetadata('Attribute', model);\n      relationShipData.attributes = this.getDirtyAttributes(attributesMetadata, model);\n    }\n\n    return relationShipData;\n  }\n\n  protected extractQueryData<T extends JsonApiModel>(\n    response: HttpResponse<object>,\n    modelType: ModelType<T>,\n    withMeta = false\n  ): Array<T> | JsonApiQueryData<T> {\n    const body: any = response.body;\n    const models: T[] = [];\n\n    body.data.forEach((data: any) => {\n      const model: T = this.deserializeModel(modelType, data);\n      this.addToStore(model);\n\n      if (body.included) {\n        model.syncRelationships(data, body.included.concat(data));\n        this.addToStore(model);\n      }\n\n      models.push(model);\n    });\n\n    if (withMeta && withMeta === true) {\n      return new JsonApiQueryData(models, this.parseMeta(body, modelType));\n    }\n\n    return models;\n  }\n\n  protected extractRecordData<T extends JsonApiModel>(\n    res: HttpResponse<object>,\n    modelType: ModelType<T>,\n    model?: T\n  ): T {\n    const body: any = res.body;\n    // Error in Angular < 5.2.4 (see https://github.com/angular/angular/issues/20744)\n    // null is converted to 'null', so this is temporary needed to make testcase possible\n    // (and to avoid a decrease of the coverage)\n    if (!body || body === 'null') {\n      throw new Error('no body in response');\n    }\n\n    if (!body.data) {\n      if (res.status === 201 || !model) {\n        throw new Error('expected data in response');\n      }\n      return model;\n    }\n\n    if (model) {\n      model.modelInitialization = true;\n      model.id = body.data.id;\n      Object.assign(model, body.data.attributes);\n      model.modelInitialization = false;\n    }\n\n    const deserializedModel = model || this.deserializeModel(modelType, body.data);\n    this.addToStore(deserializedModel);\n    if (body.included) {\n      deserializedModel.syncRelationships(body.data, body.included);\n      this.addToStore(deserializedModel);\n    }\n\n    return deserializedModel;\n  }\n\n  protected handleError(error: any): Observable<any> {\n    if (\n      error instanceof HttpErrorResponse &&\n      error.error instanceof Object &&\n      error.error.errors &&\n      error.error.errors instanceof Array\n    ) {\n      const errors: ErrorResponse = new ErrorResponse(error.error.errors);\n      return throwError(errors);\n    }\n\n    return throwError(error);\n  }\n\n  protected parseMeta(body: any, modelType: ModelType<JsonApiModel>): any {\n    const metaModel: any = Reflect.getMetadata('JsonApiModelConfig', modelType).meta;\n    return new metaModel(body);\n  }\n\n  /**\n   * @deprecated use buildHttpHeaders method to build request headers\n   */\n  protected getOptions(customHeaders?: HttpHeaders): any {\n    return {\n      headers: this.buildHttpHeaders(customHeaders),\n    };\n  }\n\n  protected buildHttpHeaders(customHeaders?: HttpHeaders): HttpHeaders {\n    let requestHeaders: HttpHeaders = new HttpHeaders({\n      Accept: 'application/vnd.api+json',\n      'Content-Type': 'application/vnd.api+json'\n    });\n\n    if (this.globalHeaders) {\n      this.globalHeaders.keys().forEach((key) => {\n        if (this.globalHeaders.has(key)) {\n          requestHeaders = requestHeaders.set(key, this.globalHeaders.get(key));\n        }\n      });\n    }\n\n    if (customHeaders) {\n      customHeaders.keys().forEach((key) => {\n        if (customHeaders.has(key)) {\n          requestHeaders = requestHeaders.set(key, customHeaders.get(key));\n        }\n      });\n    }\n\n    return requestHeaders;\n  }\n\n  protected resetMetadataAttributes<T extends JsonApiModel>(res: T, attributesMetadata: any, modelType: ModelType<T>) {\n    for (const propertyName in attributesMetadata) {\n      if (attributesMetadata.hasOwnProperty(propertyName)) {\n        const metadata: any = attributesMetadata[propertyName];\n\n        if (metadata.hasDirtyAttributes) {\n          metadata.hasDirtyAttributes = false;\n        }\n      }\n    }\n\n    // @ts-ignore\n    res[AttributeMetadataIndex] = attributesMetadata;\n    return res;\n  }\n\n  protected updateRelationships<T extends JsonApiModel>(model: T, relationships: any): T {\n    const modelsTypes: any = Reflect.getMetadata('JsonApiDatastoreConfig', this.constructor).models;\n\n    for (const relationship in relationships) {\n      if (relationships.hasOwnProperty(relationship) && model.hasOwnProperty(relationship) && model[relationship]) {\n        const relationshipModel: JsonApiModel = model[relationship];\n        const hasMany: any[] = Reflect.getMetadata('HasMany', relationshipModel);\n        const propertyHasMany: any = find(hasMany, (property) => {\n          return modelsTypes[property.relationship] === model.constructor;\n        });\n\n        if (propertyHasMany) {\n          relationshipModel[propertyHasMany.propertyName] = relationshipModel[propertyHasMany.propertyName] || [];\n\n          const indexOfModel = relationshipModel[propertyHasMany.propertyName].indexOf(model);\n\n          if (indexOfModel === -1) {\n            relationshipModel[propertyHasMany.propertyName].push(model);\n          } else {\n            relationshipModel[propertyHasMany.propertyName][indexOfModel] = model;\n          }\n        }\n      }\n    }\n\n    return model;\n  }\n\n  protected getModelPropertyNames(model: JsonApiModel) {\n    return Reflect.getMetadata('AttributeMapping', model) || [];\n  }\n\n  private buildRequestOptions(customOptions: any = {}): object {\n    const httpHeaders: HttpHeaders = this.buildHttpHeaders(customOptions.headers);\n\n    const requestOptions: object = Object.assign(customOptions, {\n      headers: httpHeaders\n    });\n\n    return Object.assign(this.globalRequestOptions, requestOptions);\n  }\n\n  private _toQueryString(params: any): string {\n    return qs.stringify(params, { arrayFormat: 'brackets' });\n  }\n}\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"@angular/common/http":{"external":true,"id":"@angular/common/http","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"lodash":{"external":true,"id":"lodash","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"qs":{"external":true,"id":"qs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"reflect-metadata":{"external":true,"id":"reflect-metadata","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../models/json-api.model":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../models/error-response.model":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/error-response.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../models/json-api-query-data":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-query-data.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../constants/symbols":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/constants/symbols.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":870,"body":[{"type":"ImportDeclaration","start":0,"end":73,"specifiers":[{"type":"ImportSpecifier","start":9,"end":25,"imported":{"type":"Identifier","start":9,"end":25,"name":"JsonApiDatastore"},"local":{"type":"Identifier","start":9,"end":25,"name":"JsonApiDatastore"}}],"source":{"type":"Literal","start":33,"end":72,"value":"./services/json-api-datastore.service","raw":"'./services/json-api-datastore.service'"}},{"type":"ExportAllDeclaration","start":74,"end":128,"exported":null,"source":{"type":"Literal","start":88,"end":127,"value":"./services/json-api-datastore.service","raw":"'./services/json-api-datastore.service'"}},{"type":"ExportNamedDeclaration","start":129,"end":179,"declaration":{"type":"VariableDeclaration","start":136,"end":179,"declarations":[{"type":"VariableDeclarator","start":142,"end":178,"id":{"type":"Identifier","start":142,"end":151,"name":"PROVIDERS"},"init":{"type":"ArrayExpression","start":154,"end":178,"elements":[{"type":"Identifier","start":160,"end":176,"name":"JsonApiDatastore"}]}}],"kind":"const"},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvcHJvdmlkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRXpFLGNBQWMsdUNBQXVDLENBQUM7QUFFdEQsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFVO0lBQzlCLGdCQUFnQjtDQUNqQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSnNvbkFwaURhdGFzdG9yZSB9IGZyb20gJy4vc2VydmljZXMvanNvbi1hcGktZGF0YXN0b3JlLnNlcnZpY2UnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NlcnZpY2VzL2pzb24tYXBpLWRhdGFzdG9yZS5zZXJ2aWNlJztcblxuZXhwb3J0IGNvbnN0IFBST1ZJREVSUzogYW55W10gPSBbXG4gIEpzb25BcGlEYXRhc3RvcmVcbl07XG4iXX0=","start":180,"end":870}]},"code":"import { JsonApiDatastore } from './services/json-api-datastore.service';\nexport * from './services/json-api-datastore.service';\nexport const PROVIDERS = [\n    JsonApiDatastore\n];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvcHJvdmlkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRXpFLGNBQWMsdUNBQXVDLENBQUM7QUFFdEQsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFVO0lBQzlCLGdCQUFnQjtDQUNqQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSnNvbkFwaURhdGFzdG9yZSB9IGZyb20gJy4vc2VydmljZXMvanNvbi1hcGktZGF0YXN0b3JlLnNlcnZpY2UnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NlcnZpY2VzL2pzb24tYXBpLWRhdGFzdG9yZS5zZXJ2aWNlJztcblxuZXhwb3J0IGNvbnN0IFBST1ZJREVSUzogYW55W10gPSBbXG4gIEpzb25BcGlEYXRhc3RvcmVcbl07XG4iXX0=","customTransformCache":false,"dependencies":["/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/services/json-api-datastore.service.mjs"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/providers.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { JsonApiDatastore } from './services/json-api-datastore.service';\nexport * from './services/json-api-datastore.service';\nexport const PROVIDERS = [\n    JsonApiDatastore\n];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvcHJvdmlkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRXpFLGNBQWMsdUNBQXVDLENBQUM7QUFFdEQsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFVO0lBQzlCLGdCQUFnQjtDQUNqQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSnNvbkFwaURhdGFzdG9yZSB9IGZyb20gJy4vc2VydmljZXMvanNvbi1hcGktZGF0YXN0b3JlLnNlcnZpY2UnO1xuXG5leHBvcnQgKiBmcm9tICcuL3NlcnZpY2VzL2pzb24tYXBpLWRhdGFzdG9yZS5zZXJ2aWNlJztcblxuZXhwb3J0IGNvbnN0IFBST1ZJREVSUzogYW55W10gPSBbXG4gIEpzb25BcGlEYXRhc3RvcmVcbl07XG4iXX0=","originalSourcemap":{"version":3,"file":"providers.js","sourceRoot":"","sources":["../../../projects/angular2-jsonapi/src/providers.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[25,0,0,25],[27,0,0,27],[33,0,0,33],[72,0,0,72],[73,0,0,73]],[[0,0,2,0],[14,0,2,14],[53,0,2,53],[54,0,2,54]],[[0,0,4,0],[6,0,4,6],[7,0,4,7],[13,0,4,13],[22,0,4,22],[25,0,4,32]],[[4,0,5,2],[20,0,5,18]],[[1,0,6,1],[2,0,6,2]]],"sourcesContent":["import { JsonApiDatastore } from './services/json-api-datastore.service';\n\nexport * from './services/json-api-datastore.service';\n\nexport const PROVIDERS: any[] = [\n  JsonApiDatastore\n];\n"]},"resolvedIds":{"./services/json-api-datastore.service":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/services/json-api-datastore.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2027,"body":[{"type":"ImportDeclaration","start":0,"end":41,"specifiers":[{"type":"ImportSpecifier","start":9,"end":17,"imported":{"type":"Identifier","start":9,"end":17,"name":"NgModule"},"local":{"type":"Identifier","start":9,"end":17,"name":"NgModule"}}],"source":{"type":"Literal","start":25,"end":40,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":42,"end":98,"specifiers":[{"type":"ImportSpecifier","start":51,"end":67,"imported":{"type":"Identifier","start":51,"end":67,"name":"HttpClientModule"},"local":{"type":"Identifier","start":51,"end":67,"name":"HttpClientModule"}}],"source":{"type":"Literal","start":75,"end":97,"value":"@angular/common/http","raw":"'@angular/common/http'"}},{"type":"ImportDeclaration","start":99,"end":139,"specifiers":[{"type":"ImportSpecifier","start":108,"end":117,"imported":{"type":"Identifier","start":108,"end":117,"name":"PROVIDERS"},"local":{"type":"Identifier","start":108,"end":117,"name":"PROVIDERS"}}],"source":{"type":"Literal","start":125,"end":138,"value":"./providers","raw":"'./providers'"}},{"type":"ImportDeclaration","start":140,"end":176,"specifiers":[{"type":"ImportNamespaceSpecifier","start":147,"end":154,"local":{"type":"Identifier","start":152,"end":154,"name":"i0"}}],"source":{"type":"Literal","start":160,"end":175,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":177,"end":207,"declaration":{"type":"ClassDeclaration","start":184,"end":207,"id":{"type":"Identifier","start":190,"end":203,"name":"JsonApiModule"},"superClass":null,"body":{"type":"ClassBody","start":204,"end":207,"body":[]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":227,"end":321,"expression":{"type":"AssignmentExpression","start":227,"end":320,"operator":"=","left":{"type":"MemberExpression","start":227,"end":245,"object":{"type":"Identifier","start":227,"end":240,"name":"JsonApiModule"},"property":{"type":"Identifier","start":241,"end":245,"name":"fac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":248,"end":320,"id":{"type":"Identifier","start":257,"end":278,"name":"JsonApiModule_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":279,"end":280,"name":"t"}],"body":{"type":"BlockStatement","start":282,"end":320,"body":[{"type":"ReturnStatement","start":284,"end":318,"argument":{"type":"NewExpression","start":291,"end":317,"callee":{"type":"LogicalExpression","start":296,"end":314,"left":{"type":"Identifier","start":296,"end":297,"name":"t"},"operator":"||","right":{"type":"Identifier","start":301,"end":314,"name":"JsonApiModule"}},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":341,"end":433,"expression":{"type":"AssignmentExpression","start":341,"end":432,"operator":"=","left":{"type":"MemberExpression","start":341,"end":359,"object":{"type":"Identifier","start":341,"end":354,"name":"JsonApiModule"},"property":{"type":"Identifier","start":355,"end":359,"name":"mod"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":388,"end":432,"callee":{"type":"MemberExpression","start":388,"end":407,"object":{"type":"Identifier","start":388,"end":390,"name":"i0"},"property":{"type":"Identifier","start":391,"end":407,"name":"defineNgModule"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":408,"end":431,"properties":[{"type":"Property","start":410,"end":429,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":410,"end":414,"name":"type"},"value":{"type":"Identifier","start":416,"end":429,"name":"JsonApiModule"},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":453,"end":577,"expression":{"type":"AssignmentExpression","start":453,"end":576,"operator":"=","left":{"type":"MemberExpression","start":453,"end":471,"object":{"type":"Identifier","start":453,"end":466,"name":"JsonApiModule"},"property":{"type":"Identifier","start":467,"end":471,"name":"inj"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":500,"end":576,"callee":{"type":"MemberExpression","start":500,"end":519,"object":{"type":"Identifier","start":500,"end":502,"name":"i0"},"property":{"type":"Identifier","start":503,"end":519,"name":"defineInjector"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":520,"end":575,"properties":[{"type":"Property","start":522,"end":544,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":522,"end":531,"name":"providers"},"value":{"type":"ArrayExpression","start":533,"end":544,"elements":[{"type":"Identifier","start":534,"end":543,"name":"PROVIDERS"}]},"kind":"init"},{"type":"Property","start":546,"end":573,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":546,"end":553,"name":"imports"},"value":{"type":"ArrayExpression","start":555,"end":573,"elements":[{"type":"Identifier","start":556,"end":572,"name":"HttpClientModule"}]},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":578,"end":849,"expression":{"type":"CallExpression","start":578,"end":848,"callee":{"type":"FunctionExpression","start":579,"end":845,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":591,"end":845,"body":[{"type":"ExpressionStatement","start":593,"end":843,"expression":{"type":"LogicalExpression","start":593,"end":842,"left":{"type":"LogicalExpression","start":594,"end":639,"left":{"type":"BinaryExpression","start":594,"end":626,"left":{"type":"UnaryExpression","start":594,"end":610,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":601,"end":610,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":615,"end":626,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":630,"end":639,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":644,"end":842,"callee":{"type":"MemberExpression","start":644,"end":664,"object":{"type":"Identifier","start":644,"end":646,"name":"i0"},"property":{"type":"Identifier","start":647,"end":664,"name":"setClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":665,"end":678,"name":"JsonApiModule"},{"type":"ArrayExpression","start":680,"end":829,"elements":[{"type":"ObjectExpression","start":681,"end":828,"properties":[{"type":"Property","start":691,"end":705,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":691,"end":695,"name":"type"},"value":{"type":"Identifier","start":697,"end":705,"name":"NgModule"},"kind":"init"},{"type":"Property","start":715,"end":822,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":715,"end":719,"name":"args"},"value":{"type":"ArrayExpression","start":721,"end":822,"elements":[{"type":"ObjectExpression","start":722,"end":821,"properties":[{"type":"Property","start":740,"end":762,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":740,"end":749,"name":"providers"},"value":{"type":"ArrayExpression","start":751,"end":762,"elements":[{"type":"Identifier","start":752,"end":761,"name":"PROVIDERS"}]},"kind":"init"},{"type":"Property","start":780,"end":807,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":780,"end":787,"name":"exports"},"value":{"type":"ArrayExpression","start":789,"end":807,"elements":[{"type":"Identifier","start":790,"end":806,"name":"HttpClientModule"}]},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"Literal","start":831,"end":835,"value":null,"raw":"null"},{"type":"Literal","start":837,"end":841,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":850,"end":992,"expression":{"type":"CallExpression","start":850,"end":991,"callee":{"type":"FunctionExpression","start":851,"end":988,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":863,"end":988,"body":[{"type":"ExpressionStatement","start":865,"end":986,"expression":{"type":"LogicalExpression","start":865,"end":985,"left":{"type":"LogicalExpression","start":866,"end":911,"left":{"type":"BinaryExpression","start":866,"end":898,"left":{"type":"UnaryExpression","start":866,"end":882,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":873,"end":882,"name":"ngJitMode"}},"operator":"===","right":{"type":"Literal","start":887,"end":898,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":902,"end":911,"name":"ngJitMode"}},"operator":"&&","right":{"type":"CallExpression","start":916,"end":985,"callee":{"type":"MemberExpression","start":916,"end":937,"object":{"type":"Identifier","start":916,"end":918,"name":"i0"},"property":{"type":"Identifier","start":919,"end":937,"name":"setNgModuleScope"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":938,"end":951,"name":"JsonApiModule"},{"type":"ObjectExpression","start":953,"end":984,"properties":[{"type":"Property","start":955,"end":982,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":955,"end":962,"name":"exports"},"value":{"type":"ArrayExpression","start":964,"end":982,"elements":[{"type":"Identifier","start":965,"end":981,"name":"HttpClientModule"}]},"kind":"init"}]}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvbW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQzs7QUFNeEMsTUFBTSxPQUFPLGFBQWE7OzZGQUFiLGFBQWE7OEZBQWIsYUFBYTttR0FIYixDQUFDLFNBQVMsQ0FBQyxZQUNaLGdCQUFnQjt1RkFFZixhQUFhO2NBSnpCLFFBQVE7ZUFBQztnQkFDUixTQUFTLEVBQUUsQ0FBQyxTQUFTLENBQUM7Z0JBQ3RCLE9BQU8sRUFBRSxDQUFDLGdCQUFnQixDQUFDO2FBQzVCOzt3RkFDWSxhQUFhLGNBRmQsZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBQUk9WSURFUlMgfSBmcm9tICcuL3Byb3ZpZGVycyc7XG5cbkBOZ01vZHVsZSh7XG4gIHByb3ZpZGVyczogW1BST1ZJREVSU10sXG4gIGV4cG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXVxufSlcbmV4cG9ydCBjbGFzcyBKc29uQXBpTW9kdWxlIHtcbn1cbiJdfQ==","start":993,"end":2027}]},"code":"import { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { PROVIDERS } from './providers';\nimport * as i0 from \"@angular/core\";\nexport class JsonApiModule {\n}\n/** @nocollapse */ JsonApiModule.fac = function JsonApiModule_Factory(t) { return new (t || JsonApiModule)(); };\n/** @nocollapse */ JsonApiModule.mod = /** @pureOrBreakMyCode */ i0.defineNgModule({ type: JsonApiModule });\n/** @nocollapse */ JsonApiModule.inj = /** @pureOrBreakMyCode */ i0.defineInjector({ providers: [PROVIDERS], imports: [HttpClientModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(JsonApiModule, [{\n        type: NgModule,\n        args: [{\n                providers: [PROVIDERS],\n                exports: [HttpClientModule]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.setNgModuleScope(JsonApiModule, { exports: [HttpClientModule] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvbW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQzs7QUFNeEMsTUFBTSxPQUFPLGFBQWE7OzZGQUFiLGFBQWE7OEZBQWIsYUFBYTttR0FIYixDQUFDLFNBQVMsQ0FBQyxZQUNaLGdCQUFnQjt1RkFFZixhQUFhO2NBSnpCLFFBQVE7ZUFBQztnQkFDUixTQUFTLEVBQUUsQ0FBQyxTQUFTLENBQUM7Z0JBQ3RCLE9BQU8sRUFBRSxDQUFDLGdCQUFnQixDQUFDO2FBQzVCOzt3RkFDWSxhQUFhLGNBRmQsZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBQUk9WSURFUlMgfSBmcm9tICcuL3Byb3ZpZGVycyc7XG5cbkBOZ01vZHVsZSh7XG4gIHByb3ZpZGVyczogW1BST1ZJREVSU10sXG4gIGV4cG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXVxufSlcbmV4cG9ydCBjbGFzcyBKc29uQXBpTW9kdWxlIHtcbn1cbiJdfQ==","customTransformCache":false,"dependencies":["@angular/core","@angular/common/http","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/providers.mjs"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/module.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { PROVIDERS } from './providers';\nimport * as i0 from \"@angular/core\";\nexport class JsonApiModule {\n}\n/** @nocollapse */ JsonApiModule.fac = function JsonApiModule_Factory(t) { return new (t || JsonApiModule)(); };\n/** @nocollapse */ JsonApiModule.mod = /** @pureOrBreakMyCode */ i0.defineNgModule({ type: JsonApiModule });\n/** @nocollapse */ JsonApiModule.inj = /** @pureOrBreakMyCode */ i0.defineInjector({ providers: [PROVIDERS], imports: [HttpClientModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(JsonApiModule, [{\n        type: NgModule,\n        args: [{\n                providers: [PROVIDERS],\n                exports: [HttpClientModule]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.setNgModuleScope(JsonApiModule, { exports: [HttpClientModule] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItanNvbmFwaS9zcmMvbW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQzs7QUFNeEMsTUFBTSxPQUFPLGFBQWE7OzZGQUFiLGFBQWE7OEZBQWIsYUFBYTttR0FIYixDQUFDLFNBQVMsQ0FBQyxZQUNaLGdCQUFnQjt1RkFFZixhQUFhO2NBSnpCLFFBQVE7ZUFBQztnQkFDUixTQUFTLEVBQUUsQ0FBQyxTQUFTLENBQUM7Z0JBQ3RCLE9BQU8sRUFBRSxDQUFDLGdCQUFnQixDQUFDO2FBQzVCOzt3RkFDWSxhQUFhLGNBRmQsZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBQUk9WSURFUlMgfSBmcm9tICcuL3Byb3ZpZGVycyc7XG5cbkBOZ01vZHVsZSh7XG4gIHByb3ZpZGVyczogW1BST1ZJREVSU10sXG4gIGV4cG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXVxufSlcbmV4cG9ydCBjbGFzcyBKc29uQXBpTW9kdWxlIHtcbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"module.js","sourceRoot":"","sources":["../../../projects/angular2-jsonapi/src/module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[40,0,0,40],[41,0,0,41]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[25,0,1,25],[27,0,1,27],[33,0,1,33],[55,0,1,55],[56,0,1,56]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[18,0,2,18],[20,0,2,20],[26,0,2,26],[39,0,2,39],[40,0,2,40]],[],[[0,0,8,0],[6,0,8,6],[13,0,8,13],[26,0,8,26]],[],[[93,0,8,13],[106,0,8,26]],[[94,0,8,13],[107,0,8,26]],[[99,0,5,13],[100,0,5,14],[109,0,5,23],[110,0,5,24],[122,0,6,12],[138,0,6,28]],[[87,0,8,13],[100,0,8,26]],[[14,0,4,1],[22,0,4,9]],[[15,0,4,10]],[[16,0,5,2],[25,0,5,11],[27,0,5,13],[28,0,5,14],[37,0,5,23],[38,0,5,24]],[[16,0,6,2],[23,0,6,9],[25,0,6,11],[26,0,6,12],[42,0,6,28],[43,0,6,29]],[[13,0,7,1]],[],[[88,0,8,13],[101,0,8,26],[115,0,6,12],[131,0,6,28]]],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { PROVIDERS } from './providers';\n\n@NgModule({\n  providers: [PROVIDERS],\n  exports: [HttpClientModule]\n})\nexport class JsonApiModule {\n}\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"@angular/common/http":{"external":true,"id":"@angular/common/http","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./providers":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/providers.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":3484,"body":[{"type":"ExportAllDeclaration","start":0,"end":61,"exported":null,"source":{"type":"Literal","start":14,"end":60,"value":"./converters/json-model/json-model.converter","raw":"'./converters/json-model/json-model.converter'"}},{"type":"ExportAllDeclaration","start":62,"end":110,"exported":null,"source":{"type":"Literal","start":76,"end":109,"value":"./decorators/has-many.decorator","raw":"'./decorators/has-many.decorator'"}},{"type":"ExportAllDeclaration","start":111,"end":161,"exported":null,"source":{"type":"Literal","start":125,"end":160,"value":"./decorators/belongs-to.decorator","raw":"'./decorators/belongs-to.decorator'"}},{"type":"ExportAllDeclaration","start":162,"end":211,"exported":null,"source":{"type":"Literal","start":176,"end":210,"value":"./decorators/attribute.decorator","raw":"'./decorators/attribute.decorator'"}},{"type":"ExportAllDeclaration","start":212,"end":268,"exported":null,"source":{"type":"Literal","start":226,"end":267,"value":"./decorators/nested-attribute.decorator","raw":"'./decorators/nested-attribute.decorator'"}},{"type":"ExportAllDeclaration","start":269,"end":323,"exported":null,"source":{"type":"Literal","start":283,"end":322,"value":"./decorators/json-attribute.decorator","raw":"'./decorators/json-attribute.decorator'"}},{"type":"ExportAllDeclaration","start":324,"end":385,"exported":null,"source":{"type":"Literal","start":338,"end":384,"value":"./decorators/json-api-model-config.decorator","raw":"'./decorators/json-api-model-config.decorator'"}},{"type":"ExportAllDeclaration","start":386,"end":451,"exported":null,"source":{"type":"Literal","start":400,"end":450,"value":"./decorators/json-api-datastore-config.decorator","raw":"'./decorators/json-api-datastore-config.decorator'"}},{"type":"ExportAllDeclaration","start":452,"end":497,"exported":null,"source":{"type":"Literal","start":466,"end":496,"value":"./models/json-api-meta.model","raw":"'./models/json-api-meta.model'"}},{"type":"ExportAllDeclaration","start":498,"end":538,"exported":null,"source":{"type":"Literal","start":512,"end":537,"value":"./models/json-api.model","raw":"'./models/json-api.model'"}},{"type":"ExportAllDeclaration","start":539,"end":582,"exported":null,"source":{"type":"Literal","start":553,"end":581,"value":"./models/json-nested.model","raw":"'./models/json-nested.model'"}},{"type":"ExportAllDeclaration","start":583,"end":629,"exported":null,"source":{"type":"Literal","start":597,"end":628,"value":"./models/error-response.model","raw":"'./models/error-response.model'"}},{"type":"ExportAllDeclaration","start":630,"end":675,"exported":null,"source":{"type":"Literal","start":644,"end":674,"value":"./models/json-api-query-data","raw":"'./models/json-api-query-data'"}},{"type":"ExportAllDeclaration","start":676,"end":725,"exported":null,"source":{"type":"Literal","start":690,"end":724,"value":"./interfaces/overrides.interface","raw":"'./interfaces/overrides.interface'"}},{"type":"ExportAllDeclaration","start":726,"end":793,"exported":null,"source":{"type":"Literal","start":740,"end":792,"value":"./interfaces/json-model-converter-config.interface","raw":"'./interfaces/json-model-converter-config.interface'"}},{"type":"ExportAllDeclaration","start":794,"end":850,"exported":null,"source":{"type":"Literal","start":808,"end":849,"value":"./interfaces/datastore-config.interface","raw":"'./interfaces/datastore-config.interface'"}},{"type":"ExportAllDeclaration","start":851,"end":903,"exported":null,"source":{"type":"Literal","start":865,"end":902,"value":"./interfaces/model-config.interface","raw":"'./interfaces/model-config.interface'"}},{"type":"ExportAllDeclaration","start":904,"end":971,"exported":null,"source":{"type":"Literal","start":918,"end":970,"value":"./interfaces/attribute-decorator-options.interface","raw":"'./interfaces/attribute-decorator-options.interface'"}},{"type":"ExportAllDeclaration","start":972,"end":1030,"exported":null,"source":{"type":"Literal","start":986,"end":1029,"value":"./interfaces/property-converter.interface","raw":"'./interfaces/property-converter.interface'"}},{"type":"ExportAllDeclaration","start":1031,"end":1059,"exported":null,"source":{"type":"Literal","start":1045,"end":1058,"value":"./providers","raw":"'./providers'"}},{"type":"ExportAllDeclaration","start":1060,"end":1085,"exported":null,"source":{"type":"Literal","start":1074,"end":1084,"value":"./module","raw":"'./module'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL3B1YmxpYy1hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsY0FBYyw4Q0FBOEMsQ0FBQztBQUU3RCxjQUFjLGlDQUFpQyxDQUFDO0FBQ2hELGNBQWMsbUNBQW1DLENBQUM7QUFDbEQsY0FBYyxrQ0FBa0MsQ0FBQztBQUNqRCxjQUFjLHlDQUF5QyxDQUFDO0FBQ3hELGNBQWMsdUNBQXVDLENBQUM7QUFDdEQsY0FBYyw4Q0FBOEMsQ0FBQztBQUM3RCxjQUFjLGtEQUFrRCxDQUFDO0FBRWpFLGNBQWMsOEJBQThCLENBQUM7QUFDN0MsY0FBYyx5QkFBeUIsQ0FBQztBQUN4QyxjQUFjLDRCQUE0QixDQUFDO0FBQzNDLGNBQWMsK0JBQStCLENBQUM7QUFDOUMsY0FBYyw4QkFBOEIsQ0FBQztBQUU3QyxjQUFjLGtDQUFrQyxDQUFDO0FBQ2pELGNBQWMsb0RBQW9ELENBQUM7QUFDbkUsY0FBYyx5Q0FBeUMsQ0FBQztBQUN4RCxjQUFjLHFDQUFxQyxDQUFDO0FBQ3BELGNBQWMsb0RBQW9ELENBQUM7QUFDbkUsY0FBYywyQ0FBMkMsQ0FBQztBQUUxRCxjQUFjLGFBQWEsQ0FBQztBQUU1QixjQUFjLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vY29udmVydGVycy9qc29uLW1vZGVsL2pzb24tbW9kZWwuY29udmVydGVyJztcblxuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2hhcy1tYW55LmRlY29yYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL2RlY29yYXRvcnMvYmVsb25ncy10by5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2F0dHJpYnV0ZS5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL25lc3RlZC1hdHRyaWJ1dGUuZGVjb3JhdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vZGVjb3JhdG9ycy9qc29uLWF0dHJpYnV0ZS5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2pzb24tYXBpLW1vZGVsLWNvbmZpZy5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2pzb24tYXBpLWRhdGFzdG9yZS1jb25maWcuZGVjb3JhdG9yJztcblxuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMvanNvbi1hcGktbWV0YS5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9qc29uLWFwaS5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9qc29uLW5lc3RlZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9lcnJvci1yZXNwb25zZS5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9qc29uLWFwaS1xdWVyeS1kYXRhJztcblxuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL292ZXJyaWRlcy5pbnRlcmZhY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL2pzb24tbW9kZWwtY29udmVydGVyLWNvbmZpZy5pbnRlcmZhY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS1jb25maWcuaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9tb2RlbC1jb25maWcuaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9hdHRyaWJ1dGUtZGVjb3JhdG9yLW9wdGlvbnMuaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9wcm9wZXJ0eS1jb252ZXJ0ZXIuaW50ZXJmYWNlJztcblxuZXhwb3J0ICogZnJvbSAnLi9wcm92aWRlcnMnO1xuXG5leHBvcnQgKiBmcm9tICcuL21vZHVsZSc7XG4iXX0=","start":1086,"end":3484}]},"code":"export * from './converters/json-model/json-model.converter';\nexport * from './decorators/has-many.decorator';\nexport * from './decorators/belongs-to.decorator';\nexport * from './decorators/attribute.decorator';\nexport * from './decorators/nested-attribute.decorator';\nexport * from './decorators/json-attribute.decorator';\nexport * from './decorators/json-api-model-config.decorator';\nexport * from './decorators/json-api-datastore-config.decorator';\nexport * from './models/json-api-meta.model';\nexport * from './models/json-api.model';\nexport * from './models/json-nested.model';\nexport * from './models/error-response.model';\nexport * from './models/json-api-query-data';\nexport * from './interfaces/overrides.interface';\nexport * from './interfaces/json-model-converter-config.interface';\nexport * from './interfaces/datastore-config.interface';\nexport * from './interfaces/model-config.interface';\nexport * from './interfaces/attribute-decorator-options.interface';\nexport * from './interfaces/property-converter.interface';\nexport * from './providers';\nexport * from './module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL3B1YmxpYy1hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsY0FBYyw4Q0FBOEMsQ0FBQztBQUU3RCxjQUFjLGlDQUFpQyxDQUFDO0FBQ2hELGNBQWMsbUNBQW1DLENBQUM7QUFDbEQsY0FBYyxrQ0FBa0MsQ0FBQztBQUNqRCxjQUFjLHlDQUF5QyxDQUFDO0FBQ3hELGNBQWMsdUNBQXVDLENBQUM7QUFDdEQsY0FBYyw4Q0FBOEMsQ0FBQztBQUM3RCxjQUFjLGtEQUFrRCxDQUFDO0FBRWpFLGNBQWMsOEJBQThCLENBQUM7QUFDN0MsY0FBYyx5QkFBeUIsQ0FBQztBQUN4QyxjQUFjLDRCQUE0QixDQUFDO0FBQzNDLGNBQWMsK0JBQStCLENBQUM7QUFDOUMsY0FBYyw4QkFBOEIsQ0FBQztBQUU3QyxjQUFjLGtDQUFrQyxDQUFDO0FBQ2pELGNBQWMsb0RBQW9ELENBQUM7QUFDbkUsY0FBYyx5Q0FBeUMsQ0FBQztBQUN4RCxjQUFjLHFDQUFxQyxDQUFDO0FBQ3BELGNBQWMsb0RBQW9ELENBQUM7QUFDbkUsY0FBYywyQ0FBMkMsQ0FBQztBQUUxRCxjQUFjLGFBQWEsQ0FBQztBQUU1QixjQUFjLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vY29udmVydGVycy9qc29uLW1vZGVsL2pzb24tbW9kZWwuY29udmVydGVyJztcblxuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2hhcy1tYW55LmRlY29yYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL2RlY29yYXRvcnMvYmVsb25ncy10by5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2F0dHJpYnV0ZS5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL25lc3RlZC1hdHRyaWJ1dGUuZGVjb3JhdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vZGVjb3JhdG9ycy9qc29uLWF0dHJpYnV0ZS5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2pzb24tYXBpLW1vZGVsLWNvbmZpZy5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2pzb24tYXBpLWRhdGFzdG9yZS1jb25maWcuZGVjb3JhdG9yJztcblxuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMvanNvbi1hcGktbWV0YS5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9qc29uLWFwaS5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9qc29uLW5lc3RlZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9lcnJvci1yZXNwb25zZS5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9qc29uLWFwaS1xdWVyeS1kYXRhJztcblxuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL292ZXJyaWRlcy5pbnRlcmZhY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL2pzb24tbW9kZWwtY29udmVydGVyLWNvbmZpZy5pbnRlcmZhY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS1jb25maWcuaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9tb2RlbC1jb25maWcuaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9hdHRyaWJ1dGUtZGVjb3JhdG9yLW9wdGlvbnMuaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9wcm9wZXJ0eS1jb252ZXJ0ZXIuaW50ZXJmYWNlJztcblxuZXhwb3J0ICogZnJvbSAnLi9wcm92aWRlcnMnO1xuXG5leHBvcnQgKiBmcm9tICcuL21vZHVsZSc7XG4iXX0=","customTransformCache":false,"dependencies":["/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/converters/json-model/json-model.converter.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/has-many.decorator.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/belongs-to.decorator.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/attribute.decorator.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/nested-attribute.decorator.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/json-attribute.decorator.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/json-api-model-config.decorator.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/json-api-datastore-config.decorator.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-meta.model.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api.model.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-nested.model.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/error-response.model.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-query-data.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/overrides.interface.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/json-model-converter-config.interface.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/datastore-config.interface.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/model-config.interface.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/attribute-decorator-options.interface.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/property-converter.interface.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/providers.mjs","/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/module.mjs"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export * from './converters/json-model/json-model.converter';\nexport * from './decorators/has-many.decorator';\nexport * from './decorators/belongs-to.decorator';\nexport * from './decorators/attribute.decorator';\nexport * from './decorators/nested-attribute.decorator';\nexport * from './decorators/json-attribute.decorator';\nexport * from './decorators/json-api-model-config.decorator';\nexport * from './decorators/json-api-datastore-config.decorator';\nexport * from './models/json-api-meta.model';\nexport * from './models/json-api.model';\nexport * from './models/json-nested.model';\nexport * from './models/error-response.model';\nexport * from './models/json-api-query-data';\nexport * from './interfaces/overrides.interface';\nexport * from './interfaces/json-model-converter-config.interface';\nexport * from './interfaces/datastore-config.interface';\nexport * from './interfaces/model-config.interface';\nexport * from './interfaces/attribute-decorator-options.interface';\nexport * from './interfaces/property-converter.interface';\nexport * from './providers';\nexport * from './module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL3B1YmxpYy1hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsY0FBYyw4Q0FBOEMsQ0FBQztBQUU3RCxjQUFjLGlDQUFpQyxDQUFDO0FBQ2hELGNBQWMsbUNBQW1DLENBQUM7QUFDbEQsY0FBYyxrQ0FBa0MsQ0FBQztBQUNqRCxjQUFjLHlDQUF5QyxDQUFDO0FBQ3hELGNBQWMsdUNBQXVDLENBQUM7QUFDdEQsY0FBYyw4Q0FBOEMsQ0FBQztBQUM3RCxjQUFjLGtEQUFrRCxDQUFDO0FBRWpFLGNBQWMsOEJBQThCLENBQUM7QUFDN0MsY0FBYyx5QkFBeUIsQ0FBQztBQUN4QyxjQUFjLDRCQUE0QixDQUFDO0FBQzNDLGNBQWMsK0JBQStCLENBQUM7QUFDOUMsY0FBYyw4QkFBOEIsQ0FBQztBQUU3QyxjQUFjLGtDQUFrQyxDQUFDO0FBQ2pELGNBQWMsb0RBQW9ELENBQUM7QUFDbkUsY0FBYyx5Q0FBeUMsQ0FBQztBQUN4RCxjQUFjLHFDQUFxQyxDQUFDO0FBQ3BELGNBQWMsb0RBQW9ELENBQUM7QUFDbkUsY0FBYywyQ0FBMkMsQ0FBQztBQUUxRCxjQUFjLGFBQWEsQ0FBQztBQUU1QixjQUFjLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vY29udmVydGVycy9qc29uLW1vZGVsL2pzb24tbW9kZWwuY29udmVydGVyJztcblxuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2hhcy1tYW55LmRlY29yYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL2RlY29yYXRvcnMvYmVsb25ncy10by5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2F0dHJpYnV0ZS5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL25lc3RlZC1hdHRyaWJ1dGUuZGVjb3JhdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vZGVjb3JhdG9ycy9qc29uLWF0dHJpYnV0ZS5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2pzb24tYXBpLW1vZGVsLWNvbmZpZy5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2pzb24tYXBpLWRhdGFzdG9yZS1jb25maWcuZGVjb3JhdG9yJztcblxuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMvanNvbi1hcGktbWV0YS5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9qc29uLWFwaS5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9qc29uLW5lc3RlZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9lcnJvci1yZXNwb25zZS5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9qc29uLWFwaS1xdWVyeS1kYXRhJztcblxuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL292ZXJyaWRlcy5pbnRlcmZhY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL2pzb24tbW9kZWwtY29udmVydGVyLWNvbmZpZy5pbnRlcmZhY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS1jb25maWcuaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9tb2RlbC1jb25maWcuaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9hdHRyaWJ1dGUtZGVjb3JhdG9yLW9wdGlvbnMuaW50ZXJmYWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJmYWNlcy9wcm9wZXJ0eS1jb252ZXJ0ZXIuaW50ZXJmYWNlJztcblxuZXhwb3J0ICogZnJvbSAnLi9wcm92aWRlcnMnO1xuXG5leHBvcnQgKiBmcm9tICcuL21vZHVsZSc7XG4iXX0=","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/angular2-jsonapi/src/public-api.ts"],"names":[],"mappings":[[[0,0,0,0],[14,0,0,14],[60,0,0,60],[61,0,0,61]],[[0,0,2,0],[14,0,2,14],[47,0,2,47],[48,0,2,48]],[[0,0,3,0],[14,0,3,14],[49,0,3,49],[50,0,3,50]],[[0,0,4,0],[14,0,4,14],[48,0,4,48],[49,0,4,49]],[[0,0,5,0],[14,0,5,14],[55,0,5,55],[56,0,5,56]],[[0,0,6,0],[14,0,6,14],[53,0,6,53],[54,0,6,54]],[[0,0,7,0],[14,0,7,14],[60,0,7,60],[61,0,7,61]],[[0,0,8,0],[14,0,8,14],[64,0,8,64],[65,0,8,65]],[[0,0,10,0],[14,0,10,14],[44,0,10,44],[45,0,10,45]],[[0,0,11,0],[14,0,11,14],[39,0,11,39],[40,0,11,40]],[[0,0,12,0],[14,0,12,14],[42,0,12,42],[43,0,12,43]],[[0,0,13,0],[14,0,13,14],[45,0,13,45],[46,0,13,46]],[[0,0,14,0],[14,0,14,14],[44,0,14,44],[45,0,14,45]],[[0,0,16,0],[14,0,16,14],[48,0,16,48],[49,0,16,49]],[[0,0,17,0],[14,0,17,14],[66,0,17,66],[67,0,17,67]],[[0,0,18,0],[14,0,18,14],[55,0,18,55],[56,0,18,56]],[[0,0,19,0],[14,0,19,14],[51,0,19,51],[52,0,19,52]],[[0,0,20,0],[14,0,20,14],[66,0,20,66],[67,0,20,67]],[[0,0,21,0],[14,0,21,14],[57,0,21,57],[58,0,21,58]],[[0,0,23,0],[14,0,23,14],[27,0,23,27],[28,0,23,28]],[[0,0,25,0],[14,0,25,14],[24,0,25,24],[25,0,25,25]]],"sourcesContent":["export * from './converters/json-model/json-model.converter';\n\nexport * from './decorators/has-many.decorator';\nexport * from './decorators/belongs-to.decorator';\nexport * from './decorators/attribute.decorator';\nexport * from './decorators/nested-attribute.decorator';\nexport * from './decorators/json-attribute.decorator';\nexport * from './decorators/json-api-model-config.decorator';\nexport * from './decorators/json-api-datastore-config.decorator';\n\nexport * from './models/json-api-meta.model';\nexport * from './models/json-api.model';\nexport * from './models/json-nested.model';\nexport * from './models/error-response.model';\nexport * from './models/json-api-query-data';\n\nexport * from './interfaces/overrides.interface';\nexport * from './interfaces/json-model-converter-config.interface';\nexport * from './interfaces/datastore-config.interface';\nexport * from './interfaces/model-config.interface';\nexport * from './interfaces/attribute-decorator-options.interface';\nexport * from './interfaces/property-converter.interface';\n\nexport * from './providers';\n\nexport * from './module';\n"]},"resolvedIds":{"./providers":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/providers.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./module":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/module.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./decorators/has-many.decorator":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/has-many.decorator.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./decorators/belongs-to.decorator":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/belongs-to.decorator.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./decorators/attribute.decorator":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/attribute.decorator.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./decorators/nested-attribute.decorator":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/nested-attribute.decorator.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./decorators/json-attribute.decorator":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/json-attribute.decorator.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./decorators/json-api-model-config.decorator":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/json-api-model-config.decorator.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./decorators/json-api-datastore-config.decorator":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/decorators/json-api-datastore-config.decorator.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./models/json-api-meta.model":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-meta.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./models/json-api.model":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./models/json-nested.model":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-nested.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./models/error-response.model":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/error-response.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./models/json-api-query-data":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/models/json-api-query-data.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./interfaces/overrides.interface":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/overrides.interface.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./interfaces/json-model-converter-config.interface":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/json-model-converter-config.interface.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./interfaces/datastore-config.interface":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/datastore-config.interface.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./interfaces/model-config.interface":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/model-config.interface.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./interfaces/attribute-decorator-options.interface":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/attribute-decorator-options.interface.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./interfaces/property-converter.interface":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/interfaces/property-converter.interface.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./converters/json-model/json-model.converter":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/converters/json-model/json-model.converter.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":520,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public-api","raw":"'./public-api'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItanNvbmFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2FuZ3VsYXIyLWpzb25hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","start":78,"end":520}]},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItanNvbmFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2FuZ3VsYXIyLWpzb25hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","customTransformCache":false,"dependencies":["/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/public-api.mjs"],"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/angular2-jsonapi.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItanNvbmFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWpzb25hcGkvc3JjL2FuZ3VsYXIyLWpzb25hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"angular2-jsonapi.js","sourceRoot":"","sources":["../../../projects/angular2-jsonapi/src/angular2-jsonapi.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"external":false,"id":"/home/ogonet/workspace/ogonet/angular2-jsonapi/dist/angular2-jsonapi/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"sourcemaps":{},"json":{}}}